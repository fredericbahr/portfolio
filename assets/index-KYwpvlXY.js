var hs=Object.defineProperty;var Tn=t=>{throw TypeError(t)};var ds=(t,e,s)=>e in t?hs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var ht=(t,e,s)=>ds(t,typeof e!="symbol"?e+"":e,s),qt=(t,e,s)=>e.has(t)||Tn("Cannot "+s);var o=(t,e,s)=>(qt(t,e,"read from private field"),s?s.call(t):e.get(t)),Se=(t,e,s)=>e.has(t)?Tn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),we=(t,e,s,n)=>(qt(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),fe=(t,e,s)=>(qt(t,e,"access private method"),s);var _t=(t,e,s,n)=>({set _(i){we(t,e,i,s)},get _(){return o(t,e,n)}});import{j as jsxRuntimeExports,C as CardHeader,V as VStack,H as HStack,A as Avatar,a as Heading$1,T as Tooltip,b as CloseButton,B as Button$1,c as Text,F as Flex,d as Card,e as CardBody,f as CardFooter,I as IconButton,g as Icon,h as Fade,S as Stack,i as Box,u as useColorMode,k as useMediaQuery,L as Link,l as useToken,m as extendTheme,w as withDefaultColorScheme,P as Popover,n as PopoverTrigger,o as Portal,p as PopoverContent,q as PopoverArrow,r as PopoverHeader,s as PopoverCloseButton,t as PopoverBody,v as useColorModeValue,x as useDisclosure,y as List,z as ListItem,D as Divider,O as OrderedList,E as Collapse,G as Container,J as keyframes,K as Grid,M as ListIcon,N as Input$1,Q as Textarea$1,R as FormControl,U as FormErrorMessage,W as Accordion,X as AccordionItem,Y as AccordionButton,Z as AccordionIcon,_ as AccordionPanel,$ as Tag,a0 as Stat,a1 as StatLabel,a2 as StatHelpText,a3 as Image$1,a4 as useTab,a5 as useMultiStyleConfig,a6 as Tabs,a7 as TabList,a8 as TabPanels,a9 as TabPanel,aa as GridItem,ab as ChakraProvider,ac as ColorModeScript}from"./chakra-ui-CTvdLoU-.js";import{a as reactDomExports,r as reactExports,R as React,d as getAugmentedNamespace,g as getDefaultExportFromCjs,b as React$1}from"./react-DtkDK1ro.js";import{I as I$1,C,M,a as I$2,l,b as l$1,P,R,c as R$1,L,d as R$2,w,D,e as L$1,f as I$3,g as I$4,h as l$2}from"./phosphor-icons-C8mU4IQ_.js";function _mergeNamespaces(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var client={},m$1=reactDomExports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},_extends$1.apply(this,arguments)}var Action;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:u,hash:$}=n.location;return createLocation("",{pathname:a,search:u,hash:$},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(n,i){return typeof i=="string"?i:createPath(i)}return getUrlBasedHistory(e,s,null,t)}function invariant$1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning$2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,s,n){return s===void 0&&(s=null),_extends$1({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?parsePath(e):e,{state:s,key:e&&e.key||n||createKey()})}function createPath(t){let{pathname:e="/",search:s="",hash:n=""}=t;return s&&s!=="?"&&(e+=s.charAt(0)==="?"?s:"?"+s),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function parsePath(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substr(s),t=t.substr(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,s,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,$=Action.Pop,h=null,f=c();f==null&&(f=0,u.replaceState(_extends$1({},u.state,{idx:f}),""));function c(){return(u.state||{idx:null}).idx}function S(){$=Action.Pop;let _=c(),j=_==null?null:_-f;f=_,h&&h({action:$,location:B.location,delta:j})}function E(_,j){$=Action.Push;let N=createLocation(B.location,_,j);f=c()+1;let G=getHistoryState(N,f),z=B.createHref(N);try{u.pushState(G,"",z)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(z)}a&&h&&h({action:$,location:B.location,delta:1})}function d(_,j){$=Action.Replace;let N=createLocation(B.location,_,j);f=c();let G=getHistoryState(N,f),z=B.createHref(N);u.replaceState(G,"",z),a&&h&&h({action:$,location:B.location,delta:0})}function T(_){let j=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:createPath(_);return N=N.replace(/ $/,"%20"),invariant$1(j,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,j)}let B={get action(){return $},get location(){return t(i,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(PopStateEventType,S),h=_,()=>{i.removeEventListener(PopStateEventType,S),h=null}},createHref(_){return e(i,_)},createURL:T,encodeLocation(_){let j=T(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:d,go(_){return u.go(_)}};return B}var ResultType;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ResultType||(ResultType={}));function matchRoutes(t,e,s){return s===void 0&&(s="/"),matchRoutesImpl(t,e,s,!1)}function matchRoutesImpl(t,e,s,n){let i=typeof e=="string"?parsePath(e):e,a=stripBasename(i.pathname||"/",s);if(a==null)return null;let u=flattenRoutes(t);rankRouteBranches(u);let $=null;for(let h=0;$==null&&h<u.length;++h){let f=decodePath(a);$=matchRouteBranch(u[h],f,n)}return $}function flattenRoutes(t,e,s,n){e===void 0&&(e=[]),s===void 0&&(s=[]),n===void 0&&(n="");let i=(a,u,$)=>{let h={relativePath:$===void 0?a.path||"":$,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(invariant$1(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let f=joinPaths([n,h.relativePath]),c=s.concat(h);a.children&&a.children.length>0&&(invariant$1(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),flattenRoutes(a.children,e,c,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:computeScore(f,a.index),routesMeta:c})};return t.forEach((a,u)=>{var $;if(a.path===""||!(($=a.path)!=null&&$.includes("?")))i(a,u);else for(let h of explodeOptionalSegments(a.path))i(a,u,h)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=explodeOptionalSegments(n.join("/")),$=[];return $.push(...u.map(h=>h===""?a:[a,h].join("/"))),i&&$.push(...u),$.map(h=>t.startsWith("/")&&h===""?"/":h)}function rankRouteBranches(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:compareIndexes(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let s=t.split("/"),n=s.length;return s.some(isSplat)&&(n+=splatPenalty),e&&(n+=indexRouteValue),s.filter(i=>!isSplat(i)).reduce((i,a)=>i+(paramRe.test(a)?dynamicSegmentValue:a===""?emptySegmentValue:staticSegmentValue),n)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,s){let{routesMeta:n}=t,i={},a="/",u=[];for(let $=0;$<n.length;++$){let h=n[$],f=$===n.length-1,c=a==="/"?e:e.slice(a.length)||"/",S=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},c),E=h.route;if(!S&&f&&s&&!n[n.length-1].route.index&&(S=matchPath({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},c)),!S)return null;Object.assign(i,S.params),u.push({params:i,pathname:joinPaths([a,S.pathname]),pathnameBase:normalizePathname(joinPaths([a,S.pathnameBase])),route:E}),S.pathnameBase!=="/"&&(a=joinPaths([a,S.pathnameBase]))}return u}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=compilePath(t.path,t.caseSensitive,t.end),i=e.match(s);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),$=i.slice(1);return{params:n.reduce((f,c,S)=>{let{paramName:E,isOptional:d}=c;if(E==="*"){let B=$[S]||"";u=a.slice(0,a.length-B.length).replace(/(.)\/+$/,"$1")}const T=$[S];return d&&!T?f[E]=void 0:f[E]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:u,pattern:t}}function compilePath(t,e,s){e===void 0&&(e=!1),s===void 0&&(s=!0),warning$2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,$,h)=>(n.push({paramName:$,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function resolvePath(t,e){e===void 0&&(e="/");let{pathname:s,search:n="",hash:i=""}=typeof t=="string"?parsePath(t):t;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,e):e,search:normalizeSearch(n),hash:normalizeHash(i)}}function resolvePathname(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(t,e,s,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t,e){let s=getPathContributingMatches(t);return e?s.map((n,i)=>i===s.length-1?n.pathname:n.pathnameBase):s.map(n=>n.pathnameBase)}function resolveTo(t,e,s,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=parsePath(t):(i=_extends$1({},t),invariant$1(!i.pathname||!i.pathname.includes("?"),getInvalidPathError("?","pathname","search",i)),invariant$1(!i.pathname||!i.pathname.includes("#"),getInvalidPathError("#","pathname","hash",i)),invariant$1(!i.search||!i.search.includes("#"),getInvalidPathError("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,$;if(u==null)$=s;else{let S=e.length-1;if(!n&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),S-=1;i.pathname=E.join("/")}$=S>=0?e[S]:"/"}let h=resolvePath(i,$),f=u&&u!=="/"&&u.endsWith("/"),c=(a||u===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||c)&&(h.pathname+="/"),h}const joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},_extends.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let t=reactExports.useContext(DataRouterContext),{basename:e,future:s,navigator:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:a}=useLocation(),u=JSON.stringify(getResolveToMatches(i,s.v7_relativeSplatPath)),$=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{$.current=!0}),reactExports.useCallback(function(f,c){if(c===void 0&&(c={}),!$.current)return;if(typeof f=="number"){n.go(f);return}let S=resolveTo(f,JSON.parse(u),a,c.relative==="path");t==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:joinPaths([e,S.pathname])),(c.replace?n.replace:n.push)(S,c.state,c)},[e,n,u,a,t])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,s,n){useInRouterContext()||invariant$1(!1);let{navigator:i}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),u=a[a.length-1],$=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let f=useLocation(),c;if(e){var S;let _=typeof e=="string"?parsePath(e):e;h==="/"||(S=_.pathname)!=null&&S.startsWith(h)||invariant$1(!1),c=_}else c=f;let E=c.pathname||"/",d=E;if(h!=="/"){let _=h.replace(/^\//,"").split("/");d="/"+E.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=matchRoutes(t,{pathname:d}),B=_renderMatches(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},$,_.params),pathname:joinPaths([h,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:joinPaths([h,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,s,n);return e&&B?reactExports.createElement(LocationContext.Provider,{value:{location:_extends({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Action.Pop}},B):B}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),s?reactExports.createElement("pre",{style:i},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,s){return s.location!==e.location||s.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:s.error,location:s.location,revalidation:e.revalidation||s.revalidation}}componentDidCatch(e,s){console.error("React Router caught the following error during render",e,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(t){let{routeContext:e,match:s,children:n}=t,i=reactExports.useContext(DataRouterContext);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:e},n)}function _renderMatches(t,e,s,n){var i;if(e===void 0&&(e=[]),s===void 0&&(s=null),n===void 0&&(n=null),t==null){var a;if(!s)return null;if(s.errors)t=s.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let u=t,$=(i=s)==null?void 0:i.errors;if($!=null){let c=u.findIndex(S=>S.route.id&&($==null?void 0:$[S.route.id])!==void 0);c>=0||invariant$1(!1),u=u.slice(0,Math.min(u.length,c+1))}let h=!1,f=-1;if(s&&n&&n.v7_partialHydration)for(let c=0;c<u.length;c++){let S=u[c];if((S.route.HydrateFallback||S.route.hydrateFallbackElement)&&(f=c),S.route.id){let{loaderData:E,errors:d}=s,T=S.route.loader&&E[S.route.id]===void 0&&(!d||d[S.route.id]===void 0);if(S.route.lazy||T){h=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}return u.reduceRight((c,S,E)=>{let d,T=!1,B=null,_=null;s&&(d=$&&S.route.id?$[S.route.id]:void 0,B=S.route.errorElement||defaultErrorElement,h&&(f<0&&E===0?(T=!0,_=null):f===E&&(T=!0,_=S.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,E+1)),N=()=>{let G;return d?G=B:T?G=_:S.route.Component?G=reactExports.createElement(S.route.Component,null):S.route.element?G=S.route.element:G=c,reactExports.createElement(RenderedRoute,{match:S,routeContext:{outlet:c,matches:j,isDataRoute:s!=null},children:G})};return s&&(S.route.ErrorBoundary||S.route.errorElement||E===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:B,error:d,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}var DataRouterHook$1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(DataRouterHook$1||{}),DataRouterStateHook$1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(DataRouterStateHook$1||{});function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return e||invariant$1(!1),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return e||invariant$1(!1),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return e||invariant$1(!1),e}function useCurrentRouteId(t){let e=useRouteContext(),s=e.matches[e.matches.length-1];return s.route.id||invariant$1(!1),s.route.id}function useRouteError(){var t;let e=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),n=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return e!==void 0?e:(t=s.errors)==null?void 0:t[n]}function useNavigateStable(){let{router:t}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_extends({fromRouteId:e},a)))},[t,e])}function Navigate(t){let{to:e,replace:s,state:n,relative:i}=t;useInRouterContext()||invariant$1(!1);let{future:a,static:u}=reactExports.useContext(NavigationContext),{matches:$}=reactExports.useContext(RouteContext),{pathname:h}=useLocation(),f=useNavigate(),c=resolveTo(e,getResolveToMatches($,a.v7_relativeSplatPath),h,i==="path"),S=JSON.stringify(c);return reactExports.useEffect(()=>f(JSON.parse(S),{replace:s,state:n,relative:i}),[f,S,i,s,n]),null}function Route(t){invariant$1(!1)}function Router(t){let{basename:e="/",children:s=null,location:n,navigationType:i=Action.Pop,navigator:a,static:u=!1,future:$}=t;useInRouterContext()&&invariant$1(!1);let h=e.replace(/^\/*/,"/"),f=reactExports.useMemo(()=>({basename:h,navigator:a,static:u,future:_extends({v7_relativeSplatPath:!1},$)}),[h,$,a,u]);typeof n=="string"&&(n=parsePath(n));let{pathname:c="/",search:S="",hash:E="",state:d=null,key:T="default"}=n,B=reactExports.useMemo(()=>{let _=stripBasename(c,h);return _==null?null:{location:{pathname:_,search:S,hash:E,state:d,key:T},navigationType:i}},[h,c,S,E,d,T,i]);return B==null?null:reactExports.createElement(NavigationContext.Provider,{value:f},reactExports.createElement(LocationContext.Provider,{children:s,value:B}))}function Routes(t){let{children:e,location:s}=t;return useRoutes(createRoutesFromChildren(e),s)}new Promise(()=>{});function createRoutesFromChildren(t,e){e===void 0&&(e=[]);let s=[];return reactExports.Children.forEach(t,(n,i)=>{if(!reactExports.isValidElement(n))return;let a=[...e,i];if(n.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(n.props.children,a));return}n.type!==Route&&invariant$1(!1),!n.props.index||!n.props.children||invariant$1(!1);let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=createRoutesFromChildren(n.props.children,a)),s.push(u)}),s}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React[START_TRANSITION];function BrowserRouter(t){let{basename:e,children:s,future:n,window:i}=t,a=reactExports.useRef();a.current==null&&(a.current=createBrowserHistory({window:i,v5Compat:!0}));let u=a.current,[$,h]=reactExports.useState({action:u.action,location:u.location}),{v7_startTransition:f}=n||{},c=reactExports.useCallback(S=>{f&&startTransitionImpl?startTransitionImpl(()=>h(S)):h(S)},[h,f]);return reactExports.useLayoutEffect(()=>u.listen(c),[u,c]),reactExports.createElement(Router,{basename:e,children:s,location:$.location,navigationType:$.action,navigator:u,future:n})}var DataRouterHook;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const isString$2=t=>typeof t=="string",defer=()=>{let t,e;const s=new Promise((n,i)=>{t=n,e=i});return s.resolve=t,s.reject=e,s},makeString=t=>t==null?"":""+t,copy=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},lastOfPathSeparatorRegExp=/###/g,cleanKey=t=>t&&t.indexOf("###")>-1?t.replace(lastOfPathSeparatorRegExp,"."):t,canNotTraverseDeeper=t=>!t||isString$2(t),getLastOfPath=(t,e,s)=>{const n=isString$2(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(canNotTraverseDeeper(t))return{};const a=cleanKey(n[i]);!t[a]&&s&&(t[a]=new s),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return canNotTraverseDeeper(t)?{}:{obj:t,k:cleanKey(n[i])}},setPath=(t,e,s)=>{const{obj:n,k:i}=getLastOfPath(t,e,Object);if(n!==void 0||e.length===1){n[i]=s;return}let a=e[e.length-1],u=e.slice(0,e.length-1),$=getLastOfPath(t,u,Object);for(;$.obj===void 0&&u.length;)a=`${u[u.length-1]}.${a}`,u=u.slice(0,u.length-1),$=getLastOfPath(t,u,Object),$&&$.obj&&typeof $.obj[`${$.k}.${a}`]<"u"&&($.obj=void 0);$.obj[`${$.k}.${a}`]=s},pushPath=(t,e,s,n)=>{const{obj:i,k:a}=getLastOfPath(t,e,Object);i[a]=i[a]||[],i[a].push(s)},getPath=(t,e)=>{const{obj:s,k:n}=getLastOfPath(t,e);if(s)return s[n]},getPathWithDefaults=(t,e,s)=>{const n=getPath(t,s);return n!==void 0?n:getPath(e,s)},deepExtend=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?isString$2(t[n])||t[n]instanceof String||isString$2(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):deepExtend(t[n],e[n],s):t[n]=e[n]);return t},regexEscape=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const escape$1=t=>isString$2(t)?t.replace(/[&<>"'\/]/g,e=>_entityMap[e]):t;class RegExpCache{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const chars=[" ",",","?","!",";"],looksLikeObjectPathRegExpCache=new RegExpCache(20),looksLikeObjectPath=(t,e,s)=>{e=e||"",s=s||"";const n=chars.filter(u=>e.indexOf(u)<0&&s.indexOf(u)<0);if(n.length===0)return!0;const i=looksLikeObjectPathRegExpCache.getRegExp(`(${n.map(u=>u==="?"?"\\?":u).join("|")})`);let a=!i.test(t);if(!a){const u=t.indexOf(s);u>0&&!i.test(t.substring(0,u))&&(a=!0)}return a},deepFind=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let u,$="";for(let h=a;h<n.length;++h)if(h!==a&&($+=s),$+=n[h],u=i[$],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&h<n.length-1)continue;a+=h-a+1;break}i=u}return i},getCleanedCode=t=>t&&t.replace("_","-"),consoleLogger={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Logger{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||consoleLogger,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,i){return i&&!this.debug?null:(isString$2(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new Logger(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Logger(this.logger,e)}}var baseLogger=new Logger;class EventEmitter{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(s)||0;this.observers[n].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(u=>{let[$,h]=u;for(let f=0;f<h;f++)$(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[$,h]=u;for(let f=0;f<h;f++)$.apply($,[e,...n])})}}class ResourceStore extends EventEmitter{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,u=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let $;e.indexOf(".")>-1?$=e.split("."):($=[e,s],n&&(Array.isArray(n)?$.push(...n):isString$2(n)&&a?$.push(...n.split(a)):$.push(n)));const h=getPath(this.data,$);return!h&&!s&&!n&&e.indexOf(".")>-1&&(e=$[0],s=$[1],n=$.slice(2).join(".")),h||!u||!isString$2(n)?h:deepFind(this.data&&this.data[e]&&this.data[e][s],n,a)}addResource(e,s,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let $=[e,s];n&&($=$.concat(u?n.split(u):n)),e.indexOf(".")>-1&&($=e.split("."),i=s,s=$[1]),this.addNamespaces(s),setPath(this.data,$,i),a.silent||this.emit("added",e,s,n,i)}addResources(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(isString$2(n[a])||Array.isArray(n[a]))&&this.addResource(e,s,a,n[a],{silent:!0});i.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,i,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},$=[e,s];e.indexOf(".")>-1&&($=e.split("."),i=n,n=s,s=$[1]),this.addNamespaces(s);let h=getPath(this.data,$)||{};u.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?deepExtend(h,n,a):h={...h,...n},setPath(this.data,$,h),u.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var postProcessor={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,i){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,s,n,i))}),e}};const checkedLoadedFor={};class Translator extends EventEmitter{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=baseLogger.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=s.ns||this.options.defaultNS||[];const u=n&&e.indexOf(n)>-1,$=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!looksLikeObjectPath(e,n,i);if(u&&!$){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:a};const f=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(f[0])>-1)&&(a=f.shift()),e=f.join(i)}return isString$2(a)&&(a=[a]),{key:e,namespaces:a}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:u,namespaces:$}=this.extractFromKey(e[e.length-1],s),h=$[$.length-1],f=s.lng||this.language,c=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(c){const z=s.nsSeparator||this.options.nsSeparator;return i?{res:`${h}${z}${u}`,usedKey:u,exactUsedKey:u,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${z}${u}`}return i?{res:u,usedKey:u,exactUsedKey:u,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:u}const S=this.resolve(e,s);let E=S&&S.res;const d=S&&S.usedKey||u,T=S&&S.exactUsedKey||u,B=Object.prototype.toString.apply(E),_=["[object Number]","[object Function]","[object RegExp]"],j=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,G=!isString$2(E)&&typeof E!="boolean"&&typeof E!="number";if(N&&E&&G&&_.indexOf(B)<0&&!(isString$2(j)&&Array.isArray(E))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,E,{...s,ns:$}):`key '${u} (${this.language})' returned an object instead of string.`;return i?(S.res=z,S.usedParams=this.getUsedParamsDetails(s),S):z}if(a){const z=Array.isArray(E),x=z?[]:{},O=z?T:d;for(const A in E)if(Object.prototype.hasOwnProperty.call(E,A)){const k=`${O}${a}${A}`;x[A]=this.translate(k,{...s,joinArrays:!1,ns:$}),x[A]===k&&(x[A]=E[A])}E=x}}else if(N&&isString$2(j)&&Array.isArray(E))E=E.join(j),E&&(E=this.extendTranslation(E,e,s,n));else{let z=!1,x=!1;const O=s.count!==void 0&&!isString$2(s.count),A=Translator.hasDefaultValue(s),k=O?this.pluralResolver.getSuffix(f,s.count,s):"",F=s.ordinal&&O?this.pluralResolver.getSuffix(f,s.count,{ordinal:!1}):"",J=O&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),g=J&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${k}`]||s[`defaultValue${F}`]||s.defaultValue;!this.isValidLookup(E)&&A&&(z=!0,E=g),this.isValidLookup(E)||(x=!0,E=u);const K=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:E,pe=A&&g!==E&&this.options.updateMissing;if(x||z||pe){if(this.logger.log(pe?"updateKey":"missingKey",f,h,u,pe?g:E),a){const ye=this.resolve(u,{...s,keySeparator:!1});ye&&ye.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ce&&ce[0])for(let ye=0;ye<ce.length;ye++)re.push(ce[ye]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(s.lng||this.language):re.push(s.lng||this.language);const ie=(ye,Y,ae)=>{const be=A&&ae!==E?ae:K;this.options.missingKeyHandler?this.options.missingKeyHandler(ye,h,Y,be,pe,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ye,h,Y,be,pe,s),this.emit("missingKey",ye,h,Y,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?re.forEach(ye=>{const Y=this.pluralResolver.getSuffixes(ye,s);J&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(ae=>{ie([ye],u+ae,s[`defaultValue${ae}`]||g)})}):ie(re,u,g))}E=this.extendTranslation(E,e,s,S,n),x&&E===u&&this.options.appendNamespaceToMissingKey&&(E=`${h}:${u}`),(x||z)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}:${u}`:u,z?E:void 0):E=this.options.parseMissingKeyHandler(E))}return i?(S.res=E,S.usedParams=this.getUsedParamsDetails(s),S):E}extendTranslation(e,s,n,i,a){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const f=isString$2(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(f){const E=e.match(this.interpolator.nestingRegexp);c=E&&E.length}let S=n.replace&&!isString$2(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),e=this.interpolator.interpolate(e,S,n.lng||this.language||i.usedLng,n),f){const E=e.match(this.interpolator.nestingRegexp),d=E&&E.length;c<d&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var E=arguments.length,d=new Array(E),T=0;T<E;T++)d[T]=arguments[T];return a&&a[0]===d[0]&&!n.context?(u.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${s[0]}`),null):u.translate(...d,s)},n)),n.interpolation&&this.interpolator.reset()}const $=n.postProcess||this.options.postProcess,h=isString$2($)?[$]:$;return e!=null&&h&&h.length&&n.applyPostProcessor!==!1&&(e=postProcessor.handle(h,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,u,$;return isString$2(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(n))return;const f=this.extractFromKey(h,s),c=f.key;i=c;let S=f.namespaces;this.options.fallbackNS&&(S=S.concat(this.options.fallbackNS));const E=s.count!==void 0&&!isString$2(s.count),d=E&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),T=s.context!==void 0&&(isString$2(s.context)||typeof s.context=="number")&&s.context!=="",B=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);S.forEach(_=>{this.isValidLookup(n)||($=_,!checkedLoadedFor[`${B[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace($)&&(checkedLoadedFor[`${B[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${B.join(", ")}" won't get resolved as namespace "${$}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),B.forEach(j=>{if(this.isValidLookup(n))return;u=j;const N=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(N,c,j,_,s);else{let z;E&&(z=this.pluralResolver.getSuffix(j,s.count,s));const x=`${this.options.pluralSeparator}zero`,O=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(N.push(c+z),s.ordinal&&z.indexOf(O)===0&&N.push(c+z.replace(O,this.options.pluralSeparator)),d&&N.push(c+x)),T){const A=`${c}${this.options.contextSeparator}${s.context}`;N.push(A),E&&(N.push(A+z),s.ordinal&&z.indexOf(O)===0&&N.push(A+z.replace(O,this.options.pluralSeparator)),d&&N.push(A+x))}}let G;for(;G=N.pop();)this.isValidLookup(n)||(a=G,n=this.getResource(j,_,G,s))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:u,usedNS:$}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,i):this.resourceStore.getResource(e,s,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!isString$2(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of s)delete i[a]}return i}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}const capitalize=t=>t.charAt(0).toUpperCase()+t.slice(1);class LanguageUtil{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}getScriptPartFromCode(e){if(e=getCleanedCode(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=getCleanedCode(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(isString$2(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=capitalize(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=capitalize(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=capitalize(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),isString$2(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),i=[],a=u=>{u&&(this.isSupportedCode(u)?i.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return isString$2(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):isString$2(e)&&a(this.formatLanguageCode(e)),n.forEach(u=>{i.indexOf(u)<0&&a(this.formatLanguageCode(u))}),i}}let sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const nonIntlVersions=["v1","v2","v3"],intlVersions=["v4"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5},createRules=()=>{const t={};return sets.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:_rulesPluralsTypes[e.fc]}})}),t};class PluralResolver{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||intlVersions.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=getCleanedCode(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];const u=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[a]=u,u}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${s}${i}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,a)=>suffixesOrder[i]-suffixesOrder[a]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:this.getSuffixRetroCompatible(i,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!nonIntlVersions.includes(this.options.compatibilityJSON)}}const deepFindWithDefaults=function(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=getPathWithDefaults(t,e,s);return!a&&i&&isString$2(s)&&(a=deepFind(t,s,n),a===void 0&&(a=deepFind(e,s,n))),a},regexSafe=t=>t.replace(/\$/g,"$$$$");class Interpolator{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:u,suffix:$,suffixEscaped:h,formatSeparator:f,unescapeSuffix:c,unescapePrefix:S,nestingPrefix:E,nestingPrefixEscaped:d,nestingSuffix:T,nestingSuffixEscaped:B,nestingOptionsSeparator:_,maxReplaces:j,alwaysFormat:N}=e.interpolation;this.escape=s!==void 0?s:escape$1,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?regexEscape(a):u||"{{",this.suffix=$?regexEscape($):h||"}}",this.formatSeparator=f||",",this.unescapePrefix=c?"":S||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=E?regexEscape(E):d||regexEscape("$t("),this.nestingSuffix=T?regexEscape(T):B||regexEscape(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=j||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,i){let a,u,$;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=d=>{if(d.indexOf(this.formatSeparator)<0){const j=deepFindWithDefaults(s,h,d,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,n,{...i,...s,interpolationkey:d}):j}const T=d.split(this.formatSeparator),B=T.shift().trim(),_=T.join(this.formatSeparator).trim();return this.format(deepFindWithDefaults(s,h,B,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...i,...s,interpolationkey:B})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,S=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:d=>regexSafe(d)},{regex:this.regexp,safeValue:d=>this.escapeValue?regexSafe(this.escape(d)):regexSafe(d)}].forEach(d=>{for($=0;a=d.regex.exec(e);){const T=a[1].trim();if(u=f(T),u===void 0)if(typeof c=="function"){const _=c(e,a,i);u=isString$2(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,T))u="";else if(S){u=a[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${e}`),u="";else!isString$2(u)&&!this.useRawValueToEscape&&(u=makeString(u));const B=d.safeValue(u);if(e=e.replace(a[0],B),S?(d.regex.lastIndex+=u.length,d.regex.lastIndex-=a[0].length):d.regex.lastIndex=0,$++,$>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,u;const $=(h,f)=>{const c=this.nestingOptionsSeparator;if(h.indexOf(c)<0)return h;const S=h.split(new RegExp(`${c}[ ]*{`));let E=`{${S[1]}`;h=S[0],E=this.interpolate(E,u);const d=E.match(/'/g),T=E.match(/"/g);(d&&d.length%2===0&&!T||T.length%2!==0)&&(E=E.replace(/'/g,'"'));try{u=JSON.parse(E),f&&(u={...f,...u})}catch(B){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,B),`${h}${c}${E}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,h};for(;i=this.nestingRegexp.exec(e);){let h=[];u={...n},u=u.replace&&!isString$2(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let f=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(S=>S.trim());i[1]=c.shift(),h=c,f=!0}if(a=s($.call(this,i[1].trim(),u),u),a&&i[0]===e&&!isString$2(a))return a;isString$2(a)||(a=makeString(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),f&&(a=h.reduce((c,S)=>this.format(c,S,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const parseFormatStr=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(u=>{if(u){const[$,...h]=u.split(":"),f=h.join(":").trim().replace(/^'+|'+$/g,""),c=$.trim();s[c]||(s[c]=f),f==="false"&&(s[c]=!1),f==="true"&&(s[c]=!0),isNaN(f)||(s[c]=parseInt(f,10))}})}return{formatName:e,formatOptions:s}},createCachedFormatter=t=>{const e={};return(s,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const u=n+JSON.stringify(a);let $=e[u];return $||($=t(getCleanedCode(n),i),e[u]=$),$(s)}};class Formatter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=baseLogger.create("formatter"),this.options=e,this.formats={number:createCachedFormatter((s,n)=>i=>new Intl.NumberFormat(s,{...n}).format(i)),currency:createCachedFormatter((s,n)=>i=>new Intl.NumberFormat(s,{...n,style:"currency"}).format(i)),datetime:createCachedFormatter((s,n)=>i=>new Intl.DateTimeFormat(s,{...n}).format(i)),relativetime:createCachedFormatter((s,n)=>i=>new Intl.RelativeTimeFormat(s,{...n}).format(i,n.range||"day")),list:createCachedFormatter((s,n)=>i=>new Intl.ListFormat(s,{...n}).format(i))},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=createCachedFormatter(s)}format(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=s.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find($=>$.indexOf(")")>-1)){const $=a.findIndex(h=>h.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,$)].join(this.formatSeparator)}return a.reduce(($,h)=>{const{formatName:f,formatOptions:c}=parseFormatStr(h);if(this.formats[f]){let S=$;try{const E=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},d=E.locale||E.lng||i.locale||i.lng||n;S=this.formats[f]($,d,{...c,...i,...E})}catch(E){this.logger.warn(E)}return S}else this.logger.warn(`there was no format function for ${f}`);return $},e)}}const removePending=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Connector extends EventEmitter{constructor(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=baseLogger.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,s,n,i){const a={},u={},$={},h={};return e.forEach(f=>{let c=!0;s.forEach(S=>{const E=`${f}|${S}`;!n.reload&&this.store.hasResourceBundle(f,S)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?u[E]===void 0&&(u[E]=!0):(this.state[E]=1,c=!1,u[E]===void 0&&(u[E]=!0),a[E]===void 0&&(a[E]=!0),h[S]===void 0&&(h[S]=!0)))}),c||($[f]=!0)}),(Object.keys(a).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(u),toLoadLanguages:Object.keys($),toLoadNamespaces:Object.keys(h)}}loaded(e,s,n){const i=e.split("|"),a=i[0],u=i[1];s&&this.emit("failedLoading",a,u,s),!s&&n&&this.store.addResourceBundle(a,u,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const $={};this.queue.forEach(h=>{pushPath(h.loaded,[a],u),removePending(h,e),s&&h.errors.push(s),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(f=>{$[f]||($[f]={});const c=h.loaded[f];c.length&&c.forEach(S=>{$[f][S]===void 0&&($[f][S]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",$),this.queue=this.queue.filter(h=>!h.done)}read(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:i,wait:a,callback:u});return}this.readingCalls++;const $=(f,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const S=this.waitingReads.shift();this.read(S.lng,S.ns,S.fcName,S.tried,S.wait,S.callback)}if(f&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,i+1,a*2,u)},a);return}u(f,c)},h=this.backend[n].bind(this.backend);if(h.length===2){try{const f=h(e,s);f&&typeof f.then=="function"?f.then(c=>$(null,c)).catch($):$(null,f)}catch(f){$(f)}return}return h(e,s,$)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();isString$2(e)&&(e=this.languageUtils.toResolveHierarchy(e)),isString$2(s)&&(s=[s]);const a=this.queueLoad(e,s,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(u=>{this.loadOne(u)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(u,$)=>{u&&this.logger.warn(`${s}loading namespace ${a} for language ${i} failed`,u),!u&&$&&this.logger.log(`${s}loaded namespace ${a} for language ${i}`,$),this.loaded(e,u,$)})}saveMissing(e,s,n,i,a){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},$=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const h={...u,isUpdate:a},f=this.backend.create.bind(this.backend);if(f.length<6)try{let c;f.length===5?c=f(e,s,n,i,h):c=f(e,s,n,i),c&&typeof c.then=="function"?c.then(S=>$(null,S)).catch($):$(null,c)}catch(c){$(c)}else f(e,s,n,i,$,h)}!e||!e[0]||this.store.addResource(e[0],s,n,i)}}}const get=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),isString$2(t[1])&&(e.defaultValue=t[1]),isString$2(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),transformOptions=t=>(isString$2(t.ns)&&(t.ns=[t.ns]),isString$2(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),isString$2(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),noop=()=>{},bindMemberFunctions=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class I18n extends EventEmitter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=transformOptions(e),this.services={},this.logger=baseLogger,this.modules={external:[]},bindMemberFunctions(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(isString$2(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const i=get();this.options={...i,...this.options,...transformOptions(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?baseLogger.init(a(this.modules.logger),this.options):baseLogger.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Formatter);const S=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);const E=this.services;E.logger=baseLogger,E.resourceStore=this.store,E.languageUtils=S,E.pluralResolver=new PluralResolver(S,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(E.formatter=a(c),E.formatter.init(E,this.options),this.options.interpolation.format=E.formatter.format.bind(E.formatter)),E.interpolator=new Interpolator(this.options),E.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},E.backendConnector=new Connector(a(this.modules.backend),E.resourceStore,E,this.options),E.backendConnector.on("*",function(d){for(var T=arguments.length,B=new Array(T>1?T-1:0),_=1;_<T;_++)B[_-1]=arguments[_];e.emit(d,...B)}),this.modules.languageDetector&&(E.languageDetector=a(this.modules.languageDetector),E.languageDetector.init&&E.languageDetector.init(E,this.options.detection,this.options)),this.modules.i18nFormat&&(E.i18nFormat=a(this.modules.i18nFormat),E.i18nFormat.init&&E.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(d){for(var T=arguments.length,B=new Array(T>1?T-1:0),_=1;_<T;_++)B[_-1]=arguments[_];e.emit(d,...B)}),this.modules.external.forEach(d=>{d.init&&d.init(this)})}if(this.format=this.options.interpolation.format,n||(n=noop),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const h=defer(),f=()=>{const c=(S,E)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(E),n(S,E)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),h}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const i=isString$2(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],u=$=>{if(!$||$==="cimode")return;this.services.languageUtils.toResolveHierarchy($).forEach(f=>{f!=="cimode"&&a.indexOf(f)<0&&a.push(f)})};i?u(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>u(h)),this.options.preload&&this.options.preload.forEach($=>u($)),this.services.backendConnector.load(a,this.options.ns,$=>{!$&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n($)})}else n(null)}reloadResources(e,s,n){const i=defer();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=noop),this.services.backendConnector.reload(e,s,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&postProcessor.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const i=defer();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},u=(h,f)=>{f?(a(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),s&&s(h,function(){return n.t(...arguments)})},$=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const f=isString$2(h)?h:this.services.languageUtils.getBestMatchFromCodes(h);f&&(this.language||a(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,c=>{u(c,f)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?$(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then($):this.services.languageDetector.detect($):$(e),i}getFixedT(e,s,n){var i=this;const a=function(u,$){let h;if(typeof $!="object"){for(var f=arguments.length,c=new Array(f>2?f-2:0),S=2;S<f;S++)c[S-2]=arguments[S];h=i.options.overloadTranslationOptionHandler([u,$].concat(c))}else h={...$};h.lng=h.lng||a.lng,h.lngs=h.lngs||a.lngs,h.ns=h.ns||a.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||n||a.keyPrefix);const E=i.options.keySeparator||".";let d;return h.keyPrefix&&Array.isArray(u)?d=u.map(T=>`${h.keyPrefix}${E}${T}`):d=h.keyPrefix?`${h.keyPrefix}${E}${u}`:u,i.t(d,h)};return isString$2(e)?a.lng=e:a.lngs=e,a.ns=s,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const u=($,h)=>{const f=this.services.backendConnector.state[`${$}|${h}`];return f===-1||f===0||f===2};if(s.precheck){const $=s.precheck(this,u);if($!==void 0)return $}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(n,e)&&(!i||u(a,e)))}loadNamespaces(e,s){const n=defer();return this.options.ns?(isString$2(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),s&&s(i)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=defer();isString$2(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(u=>i.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return a.length?(this.options.preload=i.concat(a),this.loadResources(u=>{n.resolve(),s&&s(u)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new LanguageUtil(get());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new I18n(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new I18n(i);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach($=>{a[$]=this[$]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new ResourceStore(this.store.data,i),a.services.resourceStore=a.store),a.translator=new Translator(a.services,i),a.translator.on("*",function($){for(var h=arguments.length,f=new Array(h>1?h-1:0),c=1;c<h;c++)f[c-1]=arguments[c];a.emit($,...f)}),a.init(i,s),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;const warn=(...t)=>{console!=null&&console.warn&&(isString$1(t[0])&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t))},alreadyWarned={},warnOnce=(...t)=>{isString$1(t[0])&&alreadyWarned[t[0]]||(isString$1(t[0])&&(alreadyWarned[t[0]]=new Date),warn(...t))},loadedClb=(t,e)=>()=>{if(t.isInitialized)e();else{const s=()=>{setTimeout(()=>{t.off("initialized",s)},0),e()};t.on("initialized",s)}},loadNamespaces=(t,e,s)=>{t.loadNamespaces(e,loadedClb(t,s))},loadLanguages=(t,e,s,n)=>{isString$1(s)&&(s=[s]),s.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,loadedClb(t,n))},hasLoadedNamespace=(t,e,s={})=>!e.languages||!e.languages.length?(warnOnce("i18n.languages were undefined or empty",e.languages),!0):e.hasLoadedNamespace(t,{lng:s.lng,precheck:(n,i)=>{var a;if(((a=s.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),isString$1=t=>typeof t=="string",isObject=t=>typeof t=="object"&&t!==null,matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=t=>htmlEntities[t],unescape$1=t=>t.replace(matchHtmlEntity,unescapeHtmlEntity);let defaultOptions$1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};const setDefaults=(t={})=>{defaultOptions$1={...defaultOptions$1,...t}},getDefaults=()=>defaultOptions$1;let i18nInstance;const setI18n=t=>{i18nInstance=t},getI18n=()=>i18nInstance,initReactI18next={type:"3rdParty",init(t){setDefaults(t.options.react),setI18n(t)}},I18nContext=reactExports.createContext();class ReportNamespaces{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(s=>{this.usedNamespaces[s]||(this.usedNamespaces[s]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const usePrevious=(t,e)=>{const s=reactExports.useRef();return reactExports.useEffect(()=>{s.current=t},[t,e]),s.current},alwaysNewT=(t,e,s,n)=>t.getFixedT(e,s,n),useMemoizedT=(t,e,s,n)=>reactExports.useCallback(alwaysNewT(t,e,s,n),[t,e,s,n]),useTranslation=(t,e={})=>{var z,x,O,A;const{i18n:s}=e,{i18n:n,defaultNS:i}=reactExports.useContext(I18nContext)||{},a=s||n||getI18n();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new ReportNamespaces),!a){warnOnce("You will need to pass in an i18next instance by using initReactI18next");const k=(J,g)=>isString$1(g)?g:isObject(g)&&isString$1(g.defaultValue)?g.defaultValue:Array.isArray(J)?J[J.length-1]:J,F=[k,{},!1];return F.t=k,F.i18n={},F.ready=!1,F}(z=a.options.react)!=null&&z.wait&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...getDefaults(),...a.options.react,...e},{useSuspense:$,keyPrefix:h}=u;let f=i||((x=a.options)==null?void 0:x.defaultNS);f=isString$1(f)?[f]:f||["translation"],(A=(O=a.reportNamespaces).addUsedNamespaces)==null||A.call(O,f);const c=(a.isInitialized||a.initializedStoreOnce)&&f.every(k=>hasLoadedNamespace(k,a,u)),S=useMemoizedT(a,e.lng||null,u.nsMode==="fallback"?f:f[0],h),E=()=>S,d=()=>alwaysNewT(a,e.lng||null,u.nsMode==="fallback"?f:f[0],h),[T,B]=reactExports.useState(E);let _=f.join();e.lng&&(_=`${e.lng}${_}`);const j=usePrevious(_),N=reactExports.useRef(!0);reactExports.useEffect(()=>{const{bindI18n:k,bindI18nStore:F}=u;N.current=!0,!c&&!$&&(e.lng?loadLanguages(a,e.lng,f,()=>{N.current&&B(d)}):loadNamespaces(a,f,()=>{N.current&&B(d)})),c&&j&&j!==_&&N.current&&B(d);const J=()=>{N.current&&B(d)};return k&&(a==null||a.on(k,J)),F&&(a==null||a.store.on(F,J)),()=>{N.current=!1,a&&(k==null||k.split(" ").forEach(g=>a.off(g,J))),F&&a&&F.split(" ").forEach(g=>a.store.off(g,J))}},[a,_]),reactExports.useEffect(()=>{N.current&&c&&B(E)},[a,h,c]);const G=[T,a,c];if(G.t=T,G.i18n=a,G.ready=c,c||!c&&!$)return G;throw new Promise(k=>{e.lng?loadLanguages(a,e.lng,f,()=>k()):loadNamespaces(a,f,()=>k())})},navigation$1={about:"ber mich",experience:"Erfahrung",projects:"Projekte",contact:"Kontakt",themeSwitch:{title:"Passe die UI an",light:"Heller Modus",dark:"Dunkler Modus",bordeaux:"Bordeaux",green:"Grn",lime:"Limette"},languageSwitch:{title:"Passe die Sprache an",german:"Deutsch",english:"Englisch"}},hero$1={intro:"Hey, ich bin",subtitle:"Ich entwickle leidenschaftlich innovative Lsungen zur Optimierung von Arbeitsablufen und Steigerung der Produktivitt der Nutzer durch benutzerfreundliche Webanwendungen.",contact:"Kontakt"},about$1={title:"ber mich",introduction:"Hey, ich bin Frederic Bahr, ein leidenschaftlicher Softwareentwickler aus Leipzig, Deutschland. Seit meiner ersten Berhrung im Jahr 2017 whrend eines Schulprojektes entdeckte ich meine Leidenschaft fr die Webentwicklung. Seither verbessere und vertiefe ich kontinuierlich meine Fhigkeiten und Kenntnisse. Darberhinaus bietet mir ein akademischer Hintergrund in Medieninformatik ein solides Fundament und untermauert meine Expertise.",main:"Besonders fasziniert bin ich von der Entwicklung hochwertiger User Interfaces, die durch eine intuitive Benutzeroberflche Prozesse fr Nutzer vereinfachen. Meine Begeisterung fr dieses Feld treibt mich dazu an, stets neue Technologien und Frameworks zu erforschen und mich weiterzuentwickeln. Dabei lege ich groen Wert auf eine saubere und strukturierte Codebasis, die eine Wartbarkeit und Skalierbarkeit gewhrleistet.",volunteering:"Neben meiner beruflichen Ttigkeit entwickel ich in meiner Freizeit eine cloudbasierte Anwendung zur Verwaltung von Terminen fr kleine Vereine in meiner Heimat.",technologies:"Mit einem klaren Fokus auf Qualitt und Benutzerfreundlichkeit strebe ich danach, innovative Lsungen zu entwickeln, die einen echten Mehrwert bieten. Dafr verwende ich meistens:"},experience$1={title:"Erfahrung",subtitle:"Mein bisheriger Werdegang",jobTitles:{softwareDeveloper:"Software Developer",juniorSoftwareDeveloper:"Junior Software Developer",workingStudent:"Werkstudent",intern:"Praktikant",bachelor:"Bachelorand",master:"Masterand"},experiences:{juniorSoftwareDeveloperIpoque:{description:{first:"Entwicklung von UI-Logik im Core-Team",second:"Implementierung und Wartung von Komponenten fr ein internes Designsystem",third:"Implementierung und Wartung eines internen Frontend Frameworks fr Micro Frontends"}},workingStudentIpoque:{description:{first:"Weiterentwicklung der DSL und des dazugehrigen Compilers",second:"Implementierung von Plugins fr IDEs zur Untersttzung der DSL",third:"Migration der bestehenden Frontend-Tests auf modernere Technologien (Unit- und E2E-Tests)",fourth:"Implementierung und Wartung von Komponenten in das interne Designsystem",fifth:"Implementierung und Wartung eines internen Frontend Frameworks fr Micro Frontends",sixth:"Entwicklung von Features in einer Micro Frontend Architektur"}},masterIpoque:{description:{first:"Konzeption, Implementierung und Evaluation framework-agnostischer Lsungen fr das Scoping von Web Components in Micro-Frontends zur Vermeidung von Versionskonflikten",second:"Prototypische Implementierung der Lsungen in einer Micro-Frontend-Architektur und Evaluation der Ergebnisse",third:"Untersuchung einer mglichen Lsung zum Scoping von Web Components in Micro-Frontends mit unterschiedlichen Frameworks"}},bachelorIpoque:{description:{first:"Konzeption, Entwurf und Implementierung einer domnenspezifischen Sprache fr die Generierung von Komponentenquellcode",second:"Entwurf und Implementierung eines Compilers fr die Realisierung der domnenspezifischen Sprache",third:"Generierung von Angular-Komponentenquellcode auf Basis des definierten DSL-Modells"}},internIpoque:{description:{first:"Erstellung generischer Angularkomponenten zur Darstellung von UI-Komponenten in internem Showcase",second:"Automatisiertes Rendern verschiedener Formularelemente aufgrundlage einer benutzerdefinierten Konfiguration",third:"Reaktive Implementierung der Businesslogik mittels RxJS"}},workingStudentGDM:{description:{first:"Werkstudent in der Abteilung Service ITK",second:"Automatisierung von wiederkehrenden Aufgaben im Bereich der Microsoft Office Suite und Dateisystemen",third:"Prototypische Implementierung einer Automatisierung der Standortdatenpflege basierend auf diversen Dateien"}}},present:"Heute",cv:"Lebenslauf"},projects$2={title:"Projekte",tab:"Auswahl",website:"Webseite",github:"GitHub",projectTitles:{kirmize:"Kirmize",portfolio:"Portfolio",chatbot:"QUAtsCH Chatbot 22",multimediaDB:"Multimedia Datenbank Tierartzpraxis",eaFlowShop:"EA Flow Shop Optimierung",weatherData:"XML Wetterdaten Visualisierung"},details:{focus:"Fokus",period:"Zeitraum",present:"Heute",goal:"Ziel",implementation:"Umsetzung",technologies:"Technologien",screenshots:"Screenshots",kirmize:{focus:"Webentwicklung",subtitle:"Die mobile Webanwendung fr die Kirmes zur Planung von Terminen.",goal:"Die Kirmize-App wurde entwickelt, um die Organisation und Planung von Terminen von lokalen Vereinen zu erleichtern. Das Ziel war es, eine benutzerfreundliche und intuitive Anwendung zu schaffen, die es den Nutzern ermglicht, sich ber die verschiedenen Veranstaltungen zu informieren und ihre Teilnahme an den Terminen zu planen. Die App sollte eine klare Struktur und ein ansprechendes Design aufweisen, um die Nutzererfahrung zu verbessern und die Interaktion mit der Anwendung zu erleichtern. Darber hinaus sollte die Anwendung es ermglichen Fotos und Videos von den Veranstaltungen hochzuladen und zu teilen. Zustzlich sollen Umfragen und Abstimmungen duchgefhrt werden knnen, um die Meinung der Nutzer zu verschiedenen Themen zu erfassen.",implementation:"Die Kirmize-App wurde mit React und ChakraUI entwickelt. Die Anwendung wurde als Progressive Web App (PWA) konzipiert, um eine optimale Performance und Benutzererfahrung auf verschiedenen Gerten zu gewhrleisten. Die Implementierung erfolgte in enger Zusammenarbeit mit einem lokalen Vereinen, um die Anforderungen und Wnsche der Nutzer zu bercksichtigen. Zur Datenhaltung wird eine MongoDB-Datenbank verwendet, dessen Zugriff mittels Prisma ORM abstrahiert wird. Die Business-Logik der Anwedung wird in einem Express-Backend realisiert, welches die Kommunikation mit der Datenbank und die Bereitstellung der Daten fr die Frontend-Anwendung bernimmt. Die Authentifizierung und Autorisierung der Nutzer erfolgt ber JSON Web Tokens (JWT)."},portfolio:{focus:"Webentwicklung",subtitle:"Implementierung meiner persnlichen Portfolio-Webseite.",goal:"Das Ziel der Entwicklug meines eigenen Portfolios war es, meine bisherigen Projekte und Erfahrungen hervorzuheben, um so meine Fhigkeiten und Kenntnisse zu prsentieren. Zustzlich diente es als bung, um meine Fhigkeiten in Bereichen wie Design und Animation zu verbessern. Schlielich erhht ein Portfolio die Online-Prsenz und erleichtert die Kontaktaufnahme mit potenziellen Arbeitgebern oder Kunden.",implementation:"Zunchst habe ich recherchiert, welche Merkmale in gutes Portfolio erfllt und dazu Inspirationen gesammelt. Anschlieend habe ich die Struktur meiner Webseite geplant und ein Konzept erstellt. Anschlieend wurde das Portfolio mit React, ChakraUI und Framer Motion umgesetzt. Das Deployment erfolgt ber GitHub Pages."},chatbot:{focus:"Question Answering Systeme",subtitle:"Ein Projekt zur Entwicklung eines Chatbots fr die Landesanstalt fr Umwelt Baden-Wrttemberg.",goal:"Die Landesanstalt fr Umwelt Baden-Wrttemberg erfasst in einem Netz aus Messstationen Umweltdaten. Aus diesen Daten knnen Beobachtungen abgeleitet werden, um Aussagen ber den Zustand der kosysteme zu treffen. Der ffentliche Zugang ermglicht sowohl Forscher:innen als auch Privatpersonen eine Exploration der beobachteten Biotope. Die Menge und Komplexitt der erfassten Daten erfordert neben einem vereinfachten Zugang fr die diversen Benutzergruppen auch eine nachvollziehbare Aufbereitung der Informationen. Das Ziel dieses Projekts war es, die Umweltdaten ber ein Frage-Antwort-System zugnglich zu machen und die korrekte Eingabe mithilfe von Chatbot-Funktionen zu sttzen. Wesentlich hierbei war die Erzeugung eines Kontexts, in welchem eine Frage gestellt werden kann, sodass sie den Anforderungen der Datenquellen entspricht. Des Weiteren war eine Przisierung der Frage, die Verarbeitung der Datenstze und dessen Darstellung relevant, um die Zugnglichkeit fr den jeweiligen Benutzer zu gewhrleisten.",implementation:"Um die Projektziele zu erfllen, wurde eine webbasierte Anwendung entwickelt, welche die jeweiligen Anforderungen bedienen kann. Zur Bearbeitung der Chatbot-Funktionalitt wurde der Rasa-Technologie-Stack* benutzt, welcher sowohl die Eingabe in einer webbasierten Oberflchen, die Zuweisung von natrlichsprachigen Anfragen zu Computer-Befehlen als auch die Ausfhrung der Befehle mglich macht. Das Frage-Antwort-System wurde mithilfe des Qanary-Technologie-Stack** umgesetzt. Diese Technologie ermglicht es, einzelne Wissensfragmente aus der an das System gestellten Frage zu extrahieren und den Kontext der Frage herzustellen, sodass die Datenquellen abgefragt werden knnen. Die Przisierung der Frage, die Verarbeitung und Darstellung der Datenstze konnte ebenfalls ber diesen Mechanismus integriert werden.","rasa-detail":"Der Rasa-Technologie-Stack besteht aus Rasa-Chat, Rasa Open Source und Rasa Action Server:","qanary-detail":"Der Qanary-Technologie-Stack besteht aus einer Referenzimplementierung zur Erstellung von Fragebeantwortunssystemen nach der Qanary-Methodik:"},multimediaDB:{focus:"Multimedia Datenbanken, Fortgeschrittene Suchalgorithmen",subtitle:"Eine Implementierung einer Software zur Verwendung einer Multimedia Datenbank in einer Tierartztpraxis.",goal:"Das Ziel dieses Universittsprojekts war es, die Verwendung einer Multimediadatenbank, insbesondere PostgreSQL, in einem nahezu realen Kontext zu prsentieren und zu erlernen. Letztendlich sollte eine erweiterte Suchfunktionalitt basierend auf einem der vielfltigen Medientypen implementiert werden. Das Projekt wurde von einem Team aus zwei Studenten durchgefhrt und von einem Professor betreut. Es war Teil des Kurses Multimediadatenbanksysteme und wurde in etwa 6 Wochen umgesetzt.",implementation:"Um das definierte Ziel zu erreichen, wurde ein auf die Bedrfnisse von Tierarztpraxen zugeschnittenes System entwickelt, das die Speicherung von Kunden-, Tier- und Medikamentendaten ermglicht. Die Implementierung verschiedene Suchtechniken bezieht sich auf eine erweiterte Filterung von Medikamentendaten, eine datenbankbasierte Volltextsuche und das Finden von Tieren auf Basis von Bildvergleichen. Die Einfhrung dieser Suchtechniken soll die Benutzerfreundlichkeit und Funktionalitt des Systems im veterinrmedizinischen Bereich verbessern. In diesem Projekt lernten wir erste praktische Erfahrungen in der Datenbankgestaltung und -implementierung sowie der Nutzung von Multimediadaten in spezialisierten Anwendungen sammeln."},eaFlowShop:{focus:"Optimierung, Evolutionre Algorithmen",subtitle:"Ein evolutionrer Algorithmus (GA) zur Optimierung von Flow-Shop Problemen.",goal:"Das Fliebandproblem ist eine klassische Optimierungsherausforderung in Operations Research und Fertigung, bei der eine Reihe von Aufgaben ber eine Folge von Maschinen geplant werden mssen, wobei die Gesamtfertigstellungszeit minimiert wird. In diesem Universittsprojekt bin ich dieses Problem angegangen, indem ich evolutionre Algorithmen, voranging den Hillclimber und den genetischen Algorithmus, eingesetzt habe, um ihre Wirksamkeit bei der Suche nach optimalen Lsungen zu untersuchen. Das Projekt hatte zustzlich zum Ziel, ein Rahmen fr das Testen verschiedener Methoden evolutionrer Algorithmen zu spannen.",implementation:"In meinem Projekt habe ich die Optimierung des Problems mithilfe von zwei unterschiedlichen evolutionren Algorithmen untersucht: der Hillclimber mit einer Verschiebungsmutation und einem genetischen Algorithmus mit verschiedenen evolutionren Methoden. Fr den Hillclimber-Ansatz habe ich einen iterativen Verfeinerungsprozess entwickelt, der darauf abzielte, Lsungen kontinuierlich zu verbessern, indem Aufgaben zwischen Maschinen verschoben werden. Um die Erkundungsfhigkeiten des Algorithmus zu verbessern, habe ich einen Verschiebungsmutationsoperator integriert, der systematisch benachbarte Lsungen erforscht. Im Gegensatz dazu wurde der genetische Algorithmus entworfen, um eine Reihe von genetischen Operatoren und Auswahlstrategien zu testen. Konkret habe ich Methoden wie die Ordnungs-Rekombination, den Ein-Punkt-Crossover, die fitnessproportionale Auswahl, die Besten-Auswahl und die Turnierselektion implementiert. Die Ordnungs-Rekombination frderte die Vielfalt durch die Vermischung genetischen Materials aus Elternlsungen, whrend der Ein-Punkt-Crossover die Erstellung neuer Lsungen durch den Austausch von genetischem Material als Vorteil aufweiste. Die Auswahlstrategien waren vielfltig: Die fitnessproportionale Auswahl gewhrleistete, dass Individuen mit hheren Fitnesswerten wahrscheinlicher ausgewhlt wurden, um den evolutionren Prozess hin zu fitteren Lsungen zu lenken. Die Besten-Auswahl erhielt elitre Lsungen, indem sie Individuen mit den hchsten Fitnesswerten bevorzugte und so ber Generationen hinweg eine hochwertige Population aufrechterhielt. Die Turnierselektion hingegen frderte die Vielfalt und erhielt die Lsungsqualitt, indem sie eine Teilmenge von Individuen gegeneinander antreten lie. Diese komplexen Implementierungen ermglichten eine umfassende Erforschung evolutionrer Techniken zur Bewltigung des Fliebandplanungsproblems und erleichterten Vergleiche zwischen verschiedenen Algorithmen und Strategien."},weatherData:{focus:"Data Visualization",subtitle:"Projekt zur Visualisierung von Wetterdaten aus einer XML-Datei.",goal:"Das Hauptziel dieses Universittsprojekts bestand darin, ein visuelles Verarbeitungssystem fr Wetterdaten zu entwickeln, die aus XML-Dateien stammen. Dabei sollten Techniken von Dokumentenbeschreibungssprachen wie XML-Schema-Definition und XSL-Transformation verwendet werden.",implementation:"Das definierte Ziel wurde erreicht, indem ein XML-Schema mit XML-Schema-Definition etabliert wurde, um die Daten effektiv zu strukturieren. Anschlieend habe ich die XML-Daten mithilfe eigener XSL-Transformationen transformiert, um eine HTML-Struktur zur Darstellung der Daten zu generieren. Unter Nutzung von D3.js, einer leistungsfhigen JavaScript-Bibliothek fr Datenvisualisierung, habe ich eine interaktive Website erstellt, um die verarbeiteten Wetterdaten anzuzeigen. Dieses Projekt demonstrierte nicht nur die Integration von XML-Technologien zur Datenstrukturierung und Transformation, sondern zeigte auch die Fhigkeiten von D3.js bei der Erstellung dynamischer und informativer Visualisierungen im Web."}}},footer$1={text:"Entwickelt von Frederic Bahr mit"},chatbot$1={tooltip:"Chatbot ffnen",header:{title:"Chatbot",subtitle:"Stell mir eine Frage!",close:"Schlieen"},initialMessage:{firstMessage:"Hi, Ich bin Frederic`s ChatBot ",secondMessage:"Wie kann ich dir helfen?"},sayHello:{actionText:"Ich wollte nur einmal Hallo sagen",firstMessage:"Hi, wie gehts?",secondMessage:"Hey, schn dich kennenzulernen!",thirdMessage:"Danke dass du dir mein Portfolio anschaust.",fourthMessage:"Ich hoffe dir gefllt meine Arbeit.",fifthMessage:"Kann ich dir sonst irgendwie helfen?"},showCV:{actionText:"Zeig mir deinen Lebenslauf.",firstMessage:"Hey, ich interessiere mich fr deinen Lebenslauf!",secondMessage:"Danke fr dein Interesse.",thirdMessage:"Unten kannst du meinen Lebenslauf herunterladen.",download:"Lebenslauf herunterladen"},directChat:{actionText:"Ich will mit dir persnlich reden.",firstMessage:"Ich mag deinen Chatbot sehr, aber ich wrde gerne mit dir direkt reden.",secondMessage:"Schade, aber ich respektiere deine Entscheidung.",thirdMessage:"Schicke meinem Schpfer eine Nachricht, er wird so schnell wie mglich antworten!"}},socials$1={github:"GitHub Profil",linkedin:"LinkedIn Profil"},contact$1={headline:"Komm' mit mir ins Gesprch - Ich bin nur eine Nachricht entfernt!",subtext:"Fr eine gute Unterhaltung bin ich immer zu haben, sei es ber ein Projekt, ein Jobangebot oder einfach nur, um Hallo zu sagen. Zgere nicht, mich ber das Kontaktformular oder direkt per E-Mail zu erreichen.",form:{headline:"Schreib mir eine Nachricht!",name:"Name",email:"E-Mail",message:"Nachricht",submit:"Senden",emailError:"Bitte gib eine gltige E-Mail-Adresse ein."}},translation_de={navigation:navigation$1,hero:hero$1,about:about$1,experience:experience$1,projects:projects$2,footer:footer$1,chatbot:chatbot$1,socials:socials$1,contact:contact$1},navigation={about:"About",experience:"Experience",projects:"Projects",contact:"Contact me",themeSwitch:{title:"Customize the ui",light:"Light mode",dark:"Dark mode",bordeaux:"Bordeaux",green:"Green",lime:"Lime"},languageSwitch:{title:"Customize the language",german:"German",english:"English"}},hero={intro:"Hey, I am",subtitle:"I specialize in creating innovative solutions designed to streamline processes, drive digital transformation, and enhance the customer experience.",contact:"Contact me"},about={title:"About me",introduction:"Hey there, I'm Frederic Bahr, an enthusiastic software developer hailing from Leipzig, Germany. My journey into the world of web development began with a school project back in 2017, igniting a passion that has only grown since. Over time, I've honed and expanded my skills, delving deeper into the intricacies of the field. Moreover, my academic background in media informatics not only lays a strong foundation but also reinforces my expertise in the domain.",main:"I'm particularly fascinated by the development of high-quality user interfaces that streamline processes for users through an intuitive interface. My enthusiasm for this field drives me to constantly explore new technologies and frameworks and to continue evolving. I place great emphasis on maintaining a clean and structured codebase that ensures maintainability and scalability.",volunteering:"In addition to my professional work, I develop a cloud-based application in my free time for managing appointments for small local clubs based in my hometown.",technologies:"With a clear focus on quality and user-friendliness, I strive to develop innovative solutions that provide real value. For this, I mainly use:"},experience={title:"Experience",subtitle:"My professional journey",jobTitles:{softwareDeveloper:"Software Developer",juniorSoftwareDeveloper:"Junior Software Developer",workingStudent:"Working Student",intern:"Intern",bachelor:"Bachelor thesis",master:"Master thesis"},experiences:{juniorSoftwareDeveloperIpoque:{description:{first:"Development of UI logic in the core team",second:"Implementation and maintenance of components for an internal design system",third:"Implementation and maintenance of an internal frontend framework for micro frontends"}},workingStudentIpoque:{description:{first:"Further development of the DSL and the associated compiler",second:"Implementation of plugins for IDEs to support the DSL",third:"Migration of existing front-end tests to more modern technologies (unit and e2e tests)",fourth:"Implementation and maintenance of components in the internal design system",fifth:"Implementation and maintenance of an internal frontend framework for micro frontends",sixth:"Development of features in a micro front-end architecture"}},masterIpoque:{description:{first:"Conception, implementation and evaluation of framework-agnostic solutions for the scoping of web components in micro-frontends to avoid version conflicts",second:"Prototypical implementation of the solutions in a micro front-end architecture and evaluation of the results",third:"Investigation of a possible solution for scoping web components in micro-frontends with different frameworks"}},bachelorIpoque:{description:{first:"Conception, design and implementation of a domain-specific language for the generation of component source code",second:"Design and implementation of a compiler for the realization of the domain-specific language",third:"Generierung von Angular-Komponentenquellcode auf Basis des definierten DSL-Modells"}},internIpoque:{description:{first:"Creation of generic Angular components to display UI components in an internal showcase",second:"Automated rendering of various form elements based on a user-defined configuration",third:"Reactive implementation of the business logic using RxJS"}},workingStudentGDM:{description:{first:"Working student in the Service ITK department",second:"Automation of recurring tasks in the area of the Microsoft Office Suite and file systems",third:"Prototypical implementation of an automation of location data maintenance based on various files"}}},present:"Present",cv:"Curriculum Vitae"},projects$1={title:"Projects",tab:"Featured",website:"Website",github:"GitHub",projectTitles:{kirmize:"Kirmize",portfolio:"Portfolio",chatbot:"QUAtsCH Chatbot 22",multimediaDB:"Multimedia Database Veterinary Practice",eaFlowShop:"EA Flow Shop Optimization",weatherData:"XML Weather Data Visiualization"},details:{focus:"Focus",period:"Period",present:"Present",goal:"Goal",implementation:"Implementation",technologies:"Technologies",screenshots:"Screenshots",kirmize:{focus:"Web Development",subtitle:"A mobil web application for the digitalization of planning appointments.",goal:"The Kirmize app was developed to facilitate the organization and planning of appointments for local clubs. The goal was to create a user-friendly and intuitive application that allows users to stay informed about various events and plan their attendance. The app should have a clear structure and appealing design to enhance user experience and facilitate interaction with the application. Additionally, the application should allow users to upload and share photos and videos from the events. Furthermore, surveys and polls should be conducted to capture users' opinions on various topics.",implementation:"The Kirmize app was developed using React and ChakraUI. The application was designed as a Progressive Web App (PWA) to ensure optimal performance and user experience across various devices. The implementation was done in close collaboration with local clubs to consider the requirements and preferences of the users. For data storage, a MongoDB database is used, with access abstracted through Prisma ORM. The business logic of the application is implemented in an Express backend, which handles communication with the database and provides data to the frontend application. User authentication and authorization are performed using JSON Web Tokens (JWT)."},portfolio:{focus:"Web Development",subtitle:"My personal portfolio website to showcase my work.",goal:"The goal of creating my own portfolio was to highlight my previous projects and experiences in order to showcase my skills and expertise. Additionally, it served as practice to improve skills such as design and animation. Lastly, a portfolio enhances online presence and facilitates contact with potential employers or clients.",implementation:"First, I researched what features make a good portfolio and gathered inspiration. Then, I planned the structure of my website and created a concept. Subsequently, the portfolio was implemented using React, ChakraUI, and Framer Motion. Deployment is done via GitHub Pages."},chatbot:{focus:"Question Answering System",subtitle:"A prototype of a chatbot for the Landesanstalt fr Umwelt Baden-Wrttemberg.",goal:"The Landesanstalt fr Umwelt Baden-Wrttemberg captures environmental data through a network of monitoring stations. From these data, observations can be derived to make statements about the state of ecosystems. Public access enables both researchers and private individuals to explore the observed biotopes. The quantity and complexity of the collected data require not only simplified access for various user groups but also a comprehensible preparation of the information. The goal of this project was to make environmental data accessible through a question-answer system and to support correct input using chatbot functions. Essential here was the creation of a context in which a question can be asked so that it corresponds to the requirements of the data sources. Furthermore, the clarification of the question, the processing of the data sets, and their presentation were relevant to ensure accessibility for the respective user.",implementation:"To fulfill the project goals, a web-based application was developed, which can meet the respective requirements. For the implementation of the chatbot functionality, the Rasa technology stack* was used, which enables both input in a web-based interface, the mapping of natural language queries to computer commands and the execution of commands. The question-answering system was implemented using the Qanary technology stack**. This technology allows for the extraction of individual knowledge fragments from the question posed to the system and establishing the context of the question so that the data sources can be queried. The clarification of the question, the processing, and presentation of the data sets could also be integrated through this mechanism.","rasa-detail":"The Rasa technology stack consists of Rasa Chat, Rasa Open Source, and Rasa Action Server:","qanary-detail":"The Qanary technology stack consists of a reference implementation for creating question answering systems based on the Qanary methodology:"},multimediaDB:{focus:"Database Management, Advanced Searching",subtitle:"A prototypical software using multimedia database for the digitalization of veterinary practices (Case Study).",goal:"The goal of this university project was to showcase and learn the usage of a multimedia database, specifically PostgreSQL, within a near-real-world context. Ultimately an advances searching functionality based on one of the diverse media types needed to be implemented. The project was conducted in a team of two students and was supervised by a professor. The project was part of the course 'Multimedia Database Systems' and was realised in about 6 weeks.",implementation:"To achieve the defined goal, a system tailored for veterinary practices was developed, allowing for the storage of customer, animal, and medication data. The implementation of various search techniques involved advanced filtering of medication data, database-based full-text search and finding animals based on image comparisons. The introduction of these search techniques aims to enhance the usability and functionality of the system within the veterinary domain. In this project, we gained initial practical experience in database design and implementation, as well as the utilization of multimedia data in specialized applications."},eaFlowShop:{focus:"Optimization, Evolutionary Algorithm",subtitle:"An evolutionary algorithm for the optimization of flow shop scheduling problems.",goal:"The flow shop problem is a classic optimization challenge in operations research and manufacturing, where a set of tasks must be scheduled across a series of machines while minimizing the overall completion time. In this university project, I tackled this problem by employing evolutionary algorithms, namely the hill climber and genetic algorithm, to explore their effectiveness in finding optimal solutions. The project also aimed to be a learning playground for different evolutionary algorithm methods.",implementation:"In my project, I delved into optimizing the problem through two distinct evolutionary algorithms: hill climbing with a shift mutation and a genetic algorithm featuring multiple methods. For the hill climbing approach, I engineered an iterative refinement process aimed at continuously improving solutions by shifting tasks between machines. To enhance the algorithm's exploration capabilities, I integrated a shift mutation operator, which systematically explores neighboring solutions. Conversely, the genetic algorithm was meticulously designed to accommodate a range of genetic operators and selection strategies. Specifically, I implemented order recombination, one-point crossover, fitness-proportional selection, best selection and tournament selection methods. Order recombination fostered diversity by blending genetic material from parent solutions, while one-point crossover facilitated the creation of novel solutions through random genetic material exchange. The selection strategies were varied: fitness-proportional selection ensured that individuals with higher fitness levels were more likely to be chosen, thereby driving the evolutionary process toward fitter solutions. Best selection preserved elite solutions by favoring individuals with the highest fitness values, maintaining a high-quality population over generations. Tournament selection, on the other hand, promoted diversity and maintained solution quality by pitting a subset of individuals against each other for selection. These intricate implementations allowed for a comprehensive exploration of evolutionary techniques in tackling the flow shop scheduling problem, facilitating nuanced comparisons between different algorithms and strategies."},weatherData:{focus:"Data Visualization",subtitle:"A web application for the visualization of weather data based on XML files.",goal:"The primary objective of this university project was to develop a visual processing system for weather data obtained from XML files. Thereby the techniques of Document Description Languages such as XML Schema Definition and XSL Transformation should be used.",implementation:"The defined goal was reached by establishing an XML schema with XML Schema Defintion to structure the data effectively. Subsequently, I transformed the XML data utilizing a custom XSL transformations to generate a HTML structure for representing the data. Leveraging D3.js, a powerful JavaScript library for data visualization, I created an interactive website to display the processed weather data. This project not only demonstrated the integration of XML technologies for data structuring and transformation but also showcased the capabilities of D3.js in rendering dynamic and informative visualizations on the web."}}},footer={text:"Developed by Frederic Bahr with"},chatbot={tooltip:"Open the chatbot",header:{title:"Chatbot",subtitle:"Ask me anything!",close:"Close"},initialMessage:{firstMessage:"Hi, Im Frederic`s ChatBot ",secondMessage:"How can i help you?"},sayHello:{actionText:"I just wanted to say hello",firstMessage:"Hi, whats up?",secondMessage:"Well hello there, nice to meet you!",thirdMessage:"Thanks for looking at my personal website.",fourthMessage:"I hope you enjoy my work.",fifthMessage:"Can I help you with anything else?"},showCV:{actionText:"I want to see your CV.",firstMessage:"Hey, im interested in your CV!",secondMessage:"Thanks for reaching out to me.",thirdMessage:"Underneath you can download my CV.",download:"Download CV"},directChat:{actionText:"I want to talk to you directly.",firstMessage:"I really like your Chatbot, but i would rather talk to you directly.",secondMessage:"Sad times, but I respect your decision.",thirdMessage:"Send my creator a message and he will answer as soon as possible!"}},socials={github:"GitHub Profile",linkedin:"LinkedIn Profile"},contact={headline:"Get in touch",subtext:"I'm always open for a good chat, whether it's about a project, a job offer, or just to say hello. Feel free to reach out to me via the contact form or directly via email.",form:{headline:"Send me a message!",name:"Name",email:"Email",message:"Message",submit:"Send message",emailError:"Please enter a valid email address."}},translation_en={navigation,hero,about,experience,projects:projects$1,footer,chatbot,socials,contact},resources={en:{translation:translation_en},de:{translation:translation_de}};instance.use(initReactI18next).init({resources,lng:"de",fallbackLng:"de",interpolation:{escapeValue:!1}});const ChatbotIcon=()=>jsxRuntimeExports.jsxs("svg",{width:"20mm",height:"20mm",viewBox:"0 0 20 20",version:"1.1",id:"svg1139",children:[jsxRuntimeExports.jsx("title",{id:"title200",children:"Chatbot icon"}),jsxRuntimeExports.jsxs("defs",{id:"defs1133",children:[jsxRuntimeExports.jsx("clipPath",{clipPathUnits:"userSpaceOnUse",id:"clipPath5238-1-8-9-8-4",children:jsxRuntimeExports.jsx("rect",{transform:"rotate(-90)",style:{color:"#000000",display:"inline",overflow:"visible",visibility:"visible",fill:"#ffffff",fillOpacity:1,fillRule:"evenodd",stroke:"none"},id:"rect5240-2-3-9-5-1",width:"315.35437",height:"744.09448",x:"-1016.9291",y:"1461.6753"})}),jsxRuntimeExports.jsx("clipPath",{clipPathUnits:"userSpaceOnUse",id:"clipPath5242-3-9-7-7",children:jsxRuntimeExports.jsx("rect",{transform:"rotate(-90)",style:{color:"#000000",display:"inline",overflow:"visible",visibility:"visible",fill:"#ffffff",fillOpacity:1,fillRule:"evenodd",stroke:"none"},id:"rect5244-3-2-6-6",width:"315.35437",height:"744.09448",x:"-1016.9291",y:"1461.6753"})})]}),jsxRuntimeExports.jsx("g",{id:"layer1",transform:"translate(-25.414562,-111.28127)",children:jsxRuntimeExports.jsx("path",{style:{color:"#000000",display:"inline",overflow:"visible",visibility:"visible",fill:"#fbfffe",fillOpacity:1,fillRule:"evenodd",stroke:"none",strokeWidth:.62069714,strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:4,strokeDasharray:"none",strokeDashoffset:0,strokeOpacity:1,marker:"none"},d:"m 35.412312,115.5918 c -1.442046,0 -2.880739,0.49168 -4.052401,1.4748 -0.705182,0.59173 -1.2502,1.31171 -1.628713,2.10012 -0.05253,-0.005 -0.103652,-0.0164 -0.157588,-0.0164 -0.941869,0 -1.70024,0.75836 -1.70024,1.70021 v 2.10134 c 0,0.94184 0.758371,1.70021 1.70024,1.70021 0.05394,0 0.105059,-0.0117 0.157588,-0.0164 0.06777,0.14047 0.137889,0.27991 0.216918,0.41689 0.308938,0.55139 1.134304,0.0793 0.815588,-0.46655 -1.304955,-2.26029 -0.799571,-5.12447 1.199708,-6.80208 1.999326,-1.67765 4.903352,-1.67765 6.902655,0 1.999326,1.67761 2.50471,4.54174 1.199732,6.80208 l -0.01407,0.0234 -0.0094,0.0234 c 0,0 -0.633799,1.40211 -1.878344,1.40211 l -1.575387,-0.0141 c -0.147739,-0.21575 -0.384191,-0.366 -0.666512,-0.366 h -1.015533 c -0.45534,0 -0.821638,0.36752 -0.821638,0.82286 0,0.28087 0.178225,0.49415 0.586056,0.49415 l 3.493009,2.8e-4 c 1.867604,0 2.675336,-1.8335 2.712107,-1.91835 v -0.005 c 0.07832,-0.13578 0.147269,-0.27521 0.214572,-0.41444 0.05488,0.005 0.108342,0.0164 0.164858,0.0164 0.941869,0 1.700237,-0.75836 1.700237,-1.70021 v -2.10134 c 0,-0.94184 -0.75837,-1.70021 -1.700237,-1.70021 -0.05441,0 -0.105762,0.009 -0.158761,0.0164 -0.377627,-0.78846 -0.921023,-1.50837 -1.6263,-2.10014 -1.171614,-0.98312 -2.616355,-1.47481 -4.058451,-1.47481 z m -2.049205,2.98718 c -0.366019,-0.0239 -0.700354,0.0535 -0.992502,0.36114 -0.779049,0.82018 -1.260325,1.9365 -1.260325,3.12533 0,0.98061 0.327722,2.07941 0.879793,2.11951 0.786511,0.0572 2.027657,-0.45928 3.424676,-0.45928 1.480437,0 2.786843,0.57951 3.561606,0.44232 0.469528,-0.083 0.744064,-1.20536 0.744064,-2.10255 0,-1.18883 -0.482452,-2.30515 -1.261524,-3.12533 -0.779054,-0.82021 -1.855342,0 -3.044146,0 -0.743006,0 -1.441646,-0.32109 -2.051642,-0.36114 z m -0.174473,2.02134 c 0.434305,1.7e-4 0.786345,0.35219 0.786486,0.78651 -1.41e-4,0.43431 -0.352181,0.78633 -0.786486,0.78649 -0.434304,-1.6e-4 -0.786345,-0.35218 -0.786485,-0.78649 1.4e-4,-0.43432 0.352181,-0.78634 0.786485,-0.78651 z m 4.452304,0 c 0.434329,1.7e-4 0.786345,0.35219 0.786509,0.78651 -1.66e-4,0.43431 -0.35218,0.78633 -0.786509,0.78649 -0.434304,-1.6e-4 -0.786321,-0.35218 -0.786485,-0.78649 1.64e-4,-0.43432 0.352181,-0.78634 0.786485,-0.78651 z",id:"rect6094-5-9"})})]}),ChatHeader=({onClick:t})=>{const{t:e}=useTranslation();return jsxRuntimeExports.jsx(CardHeader,{paddingX:4,paddingY:4,children:jsxRuntimeExports.jsx(VStack,{children:jsxRuntimeExports.jsxs(HStack,{width:"full",children:[jsxRuntimeExports.jsx(Avatar,{icon:jsxRuntimeExports.jsx(ChatbotIcon,{}),colorScheme:"gray"}),jsxRuntimeExports.jsxs(VStack,{flex:1,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"md",children:e("chatbot.header.title")}),jsxRuntimeExports.jsx(Heading$1,{as:"h3",fontSize:"sm",fontWeight:"normal",children:e("chatbot.header.subtitle")})]}),jsxRuntimeExports.jsx(Tooltip,{label:e("chatbot.header.close"),hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(CloseButton,{onClick:t})})]})})})},cv="/portfolio/assets/lebenslauf-CJWm1AYW.pdf",initialMessages=[{message:"chatbot.initialMessage.firstMessage",owner:"bot"},{message:"chatbot.initialMessage.secondMessage",owner:"bot"}],sayHello={actionText:"chatbot.sayHello.actionText",messges:[{message:"chatbot.sayHello.firstMessage",owner:"customer"},{message:"chatbot.sayHello.secondMessage",owner:"bot"},{message:"chatbot.sayHello.thirdMessage",owner:"bot"},{message:"chatbot.sayHello.fourthMessage",owner:"bot"},{message:"chatbot.sayHello.fifthMessage",owner:"bot"}],furtherActions:["showCV","directChat"]},showCV={actionText:"chatbot.showCV.actionText",messges:[{message:"chatbot.showCV.firstMessage",owner:"customer"},{message:"chatbot.showCV.secondMessage",owner:"bot"},{message:"chatbot.showCV.thirdMessage",owner:"bot"},{type:"pdf",owner:"bot",url:cv,fileName:"cv_fredericbahr"}],furtherActions:["sayHello","directChat"]},directChat={actionText:"chatbot.directChat.actionText",messges:[{message:"chatbot.directChat.firstMessage",owner:"customer"},{message:"chatbot.directChat.secondMessage",owner:"bot"},{message:"chatbot.directChat.thirdMessage",owner:"bot"},{url:"/contact"}],furtherActions:["sayHello","showCV"]},actionRepository=new Map;actionRepository.set("sayHello",sayHello);actionRepository.set("showCV",showCV);actionRepository.set("directChat",directChat);const initialActions=[sayHello,showCV,directChat];function isChatTextMessage(t){return t.message!==void 0}function isChatDownload(t){return t.fileName!==void 0}function isChatRedirect(t){return t.url!==void 0}const ChatAction=({children:t,handleAction:e})=>jsxRuntimeExports.jsx(Button$1,{variant:"outline",colorScheme:"gray",onClick:e,children:jsxRuntimeExports.jsx(Text,{as:"span",width:"full",style:{textWrap:"wrap"},textAlign:{base:"start",lg:"center"},children:t})});function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,s){module.exports=e.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,e)=>{var ct;Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.RenderingIntentFlag=e.PromiseCapability=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.MAX_IMAGE_SIZE_TO_CACHE=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.BASELINE_FACTOR=e.AnnotationType=e.AnnotationReplyType=e.AnnotationPrefix=e.AnnotationMode=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.assert=Y,e.bytesToString=ke,e.createValidAbsoluteUrl=be,e.getModificationDate=$e,e.getUuid=Je,e.getVerbosityLevel=re,e.info=ce,e.isArrayBuffer=ge,e.isArrayEqual=Be,e.isNodeJS=void 0,e.normalizeUnicode=We,e.objectFromMap=Le,e.objectSize=Me,e.setVerbosityLevel=pe,e.shadow=q,e.string32=Te,e.stringToBytes=Ce,e.stringToPDFString=Pe,e.stringToUTF8String=Oe,e.unreachable=ye,e.utf8StringToString=Fe,e.warn=ie;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=s;const n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;const i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;const a=1e7;e.MAX_IMAGE_SIZE_TO_CACHE=a;const u=1.35;e.LINE_FACTOR=u;const $=.35;e.LINE_DESCENT_FACTOR=$;const h=$/u;e.BASELINE_FACTOR=h;const f={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=f;const c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=c;const S="pdfjs_internal_editor_";e.AnnotationEditorPrefix=S;const E={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};e.AnnotationEditorType=E;const d={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};e.AnnotationEditorParamsType=d;const T={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=T;const B={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=B;const _={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=_;const j={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=j;const N={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=N;const G={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=G;const z={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=z;const x={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=x;const O={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=O;const A={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=A;const k={O:"PageOpen",C:"PageClose"};e.PageActionEventType=k;const F={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=F;const J={NONE:0,BINARY:1};e.CMapCompressionType=J;const g={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=g;const U={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=U;let K=F.WARNINGS;function pe(Ie){Number.isInteger(Ie)&&(K=Ie)}function re(){return K}function ce(Ie){K>=F.INFOS&&console.log(`Info: ${Ie}`)}function ie(Ie){K>=F.WARNINGS&&console.log(`Warning: ${Ie}`)}function ye(Ie){throw new Error(Ie)}function Y(Ie,Ee){Ie||ye(Ee)}function ae(Ie){switch(Ie==null?void 0:Ie.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function be(Ie,Ee=null,Ae=null){if(!Ie)return null;try{if(Ae&&typeof Ie=="string"){if(Ae.addDefaultProtocol&&Ie.startsWith("www.")){const ot=Ie.match(/\./g);(ot==null?void 0:ot.length)>=2&&(Ie=`http://${Ie}`)}if(Ae.tryConvertEncoding)try{Ie=Oe(Ie)}catch{}}const Ve=Ee?new URL(Ie,Ee):new URL(Ie);if(ae(Ve))return Ve}catch{}return null}function q(Ie,Ee,Ae,Ve=!1){return Object.defineProperty(Ie,Ee,{value:Ae,enumerable:!Ve,configurable:!0,writable:!1}),Ae}const p=function(){function Ee(Ae,Ve){this.constructor===Ee&&ye("Cannot initialize BaseException."),this.message=Ae,this.name=Ve}return Ee.prototype=new Error,Ee.constructor=Ee,Ee}();e.BaseException=p;class y extends p{constructor(Ee,Ae){super(Ee,"PasswordException"),this.code=Ae}}e.PasswordException=y;class H extends p{constructor(Ee,Ae){super(Ee,"UnknownErrorException"),this.details=Ae}}e.UnknownErrorException=H;class Z extends p{constructor(Ee){super(Ee,"InvalidPDFException")}}e.InvalidPDFException=Z;class ee extends p{constructor(Ee){super(Ee,"MissingPDFException")}}e.MissingPDFException=ee;class te extends p{constructor(Ee,Ae){super(Ee,"UnexpectedResponseException"),this.status=Ae}}e.UnexpectedResponseException=te;class le extends p{constructor(Ee){super(Ee,"FormatError")}}e.FormatError=le;class me extends p{constructor(Ee){super(Ee,"AbortException")}}e.AbortException=me;function ke(Ie){(typeof Ie!="object"||(Ie==null?void 0:Ie.length)===void 0)&&ye("Invalid argument for bytesToString");const Ee=Ie.length,Ae=8192;if(Ee<Ae)return String.fromCharCode.apply(null,Ie);const Ve=[];for(let ot=0;ot<Ee;ot+=Ae){const rt=Math.min(ot+Ae,Ee),se=Ie.subarray(ot,rt);Ve.push(String.fromCharCode.apply(null,se))}return Ve.join("")}function Ce(Ie){typeof Ie!="string"&&ye("Invalid argument for stringToBytes");const Ee=Ie.length,Ae=new Uint8Array(Ee);for(let Ve=0;Ve<Ee;++Ve)Ae[Ve]=Ie.charCodeAt(Ve)&255;return Ae}function Te(Ie){return String.fromCharCode(Ie>>24&255,Ie>>16&255,Ie>>8&255,Ie&255)}function Me(Ie){return Object.keys(Ie).length}function Le(Ie){const Ee=Object.create(null);for(const[Ae,Ve]of Ie)Ee[Ae]=Ve;return Ee}function ue(){const Ie=new Uint8Array(4);return Ie[0]=1,new Uint32Array(Ie.buffer,0,1)[0]===1}function xe(){try{return new Function(""),!0}catch{return!1}}class W{static get isLittleEndian(){return q(this,"isLittleEndian",ue())}static get isEvalSupported(){return q(this,"isEvalSupported",xe())}static get isOffscreenCanvasSupported(){return q(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?q(this,"platform",{isWin:!1,isMac:!1}):q(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ee,Ae;return q(this,"isCSSRoundSupported",(Ae=(Ee=globalThis.CSS)==null?void 0:Ee.supports)==null?void 0:Ae.call(Ee,"width: round(1.5px, 1px)"))}}e.FeatureTest=W;const ne=[...Array(256).keys()].map(Ie=>Ie.toString(16).padStart(2,"0"));class he{static makeHexColor(Ee,Ae,Ve){return`#${ne[Ee]}${ne[Ae]}${ne[Ve]}`}static scaleMinMax(Ee,Ae){let Ve;Ee[0]?(Ee[0]<0&&(Ve=Ae[0],Ae[0]=Ae[1],Ae[1]=Ve),Ae[0]*=Ee[0],Ae[1]*=Ee[0],Ee[3]<0&&(Ve=Ae[2],Ae[2]=Ae[3],Ae[3]=Ve),Ae[2]*=Ee[3],Ae[3]*=Ee[3]):(Ve=Ae[0],Ae[0]=Ae[2],Ae[2]=Ve,Ve=Ae[1],Ae[1]=Ae[3],Ae[3]=Ve,Ee[1]<0&&(Ve=Ae[2],Ae[2]=Ae[3],Ae[3]=Ve),Ae[2]*=Ee[1],Ae[3]*=Ee[1],Ee[2]<0&&(Ve=Ae[0],Ae[0]=Ae[1],Ae[1]=Ve),Ae[0]*=Ee[2],Ae[1]*=Ee[2]),Ae[0]+=Ee[4],Ae[1]+=Ee[4],Ae[2]+=Ee[5],Ae[3]+=Ee[5]}static transform(Ee,Ae){return[Ee[0]*Ae[0]+Ee[2]*Ae[1],Ee[1]*Ae[0]+Ee[3]*Ae[1],Ee[0]*Ae[2]+Ee[2]*Ae[3],Ee[1]*Ae[2]+Ee[3]*Ae[3],Ee[0]*Ae[4]+Ee[2]*Ae[5]+Ee[4],Ee[1]*Ae[4]+Ee[3]*Ae[5]+Ee[5]]}static applyTransform(Ee,Ae){const Ve=Ee[0]*Ae[0]+Ee[1]*Ae[2]+Ae[4],ot=Ee[0]*Ae[1]+Ee[1]*Ae[3]+Ae[5];return[Ve,ot]}static applyInverseTransform(Ee,Ae){const Ve=Ae[0]*Ae[3]-Ae[1]*Ae[2],ot=(Ee[0]*Ae[3]-Ee[1]*Ae[2]+Ae[2]*Ae[5]-Ae[4]*Ae[3])/Ve,rt=(-Ee[0]*Ae[1]+Ee[1]*Ae[0]+Ae[4]*Ae[1]-Ae[5]*Ae[0])/Ve;return[ot,rt]}static getAxialAlignedBoundingBox(Ee,Ae){const Ve=this.applyTransform(Ee,Ae),ot=this.applyTransform(Ee.slice(2,4),Ae),rt=this.applyTransform([Ee[0],Ee[3]],Ae),se=this.applyTransform([Ee[2],Ee[1]],Ae);return[Math.min(Ve[0],ot[0],rt[0],se[0]),Math.min(Ve[1],ot[1],rt[1],se[1]),Math.max(Ve[0],ot[0],rt[0],se[0]),Math.max(Ve[1],ot[1],rt[1],se[1])]}static inverseTransform(Ee){const Ae=Ee[0]*Ee[3]-Ee[1]*Ee[2];return[Ee[3]/Ae,-Ee[1]/Ae,-Ee[2]/Ae,Ee[0]/Ae,(Ee[2]*Ee[5]-Ee[4]*Ee[3])/Ae,(Ee[4]*Ee[1]-Ee[5]*Ee[0])/Ae]}static singularValueDecompose2dScale(Ee){const Ae=[Ee[0],Ee[2],Ee[1],Ee[3]],Ve=Ee[0]*Ae[0]+Ee[1]*Ae[2],ot=Ee[0]*Ae[1]+Ee[1]*Ae[3],rt=Ee[2]*Ae[0]+Ee[3]*Ae[2],se=Ee[2]*Ae[1]+Ee[3]*Ae[3],je=(Ve+se)/2,ze=Math.sqrt((Ve+se)**2-4*(Ve*se-rt*ot))/2,Xe=je+ze||1,Qe=je-ze||1;return[Math.sqrt(Xe),Math.sqrt(Qe)]}static normalizeRect(Ee){const Ae=Ee.slice(0);return Ee[0]>Ee[2]&&(Ae[0]=Ee[2],Ae[2]=Ee[0]),Ee[1]>Ee[3]&&(Ae[1]=Ee[3],Ae[3]=Ee[1]),Ae}static intersect(Ee,Ae){const Ve=Math.max(Math.min(Ee[0],Ee[2]),Math.min(Ae[0],Ae[2])),ot=Math.min(Math.max(Ee[0],Ee[2]),Math.max(Ae[0],Ae[2]));if(Ve>ot)return null;const rt=Math.max(Math.min(Ee[1],Ee[3]),Math.min(Ae[1],Ae[3])),se=Math.min(Math.max(Ee[1],Ee[3]),Math.max(Ae[1],Ae[3]));return rt>se?null:[Ve,rt,ot,se]}static bezierBoundingBox(Ee,Ae,Ve,ot,rt,se,je,ze){const Xe=[],Qe=[[],[]];let Ue,Q,X,oe,_e,Re,De,Ne;for(let nt=0;nt<2;++nt){if(nt===0?(Q=6*Ee-12*Ve+6*rt,Ue=-3*Ee+9*Ve-9*rt+3*je,X=3*Ve-3*Ee):(Q=6*Ae-12*ot+6*se,Ue=-3*Ae+9*ot-9*se+3*ze,X=3*ot-3*Ae),Math.abs(Ue)<1e-12){if(Math.abs(Q)<1e-12)continue;oe=-X/Q,0<oe&&oe<1&&Xe.push(oe);continue}De=Q*Q-4*X*Ue,Ne=Math.sqrt(De),!(De<0)&&(_e=(-Q+Ne)/(2*Ue),0<_e&&_e<1&&Xe.push(_e),Re=(-Q-Ne)/(2*Ue),0<Re&&Re<1&&Xe.push(Re))}let Ye=Xe.length,Ge;const He=Ye;for(;Ye--;)oe=Xe[Ye],Ge=1-oe,Qe[0][Ye]=Ge*Ge*Ge*Ee+3*Ge*Ge*oe*Ve+3*Ge*oe*oe*rt+oe*oe*oe*je,Qe[1][Ye]=Ge*Ge*Ge*Ae+3*Ge*Ge*oe*ot+3*Ge*oe*oe*se+oe*oe*oe*ze;return Qe[0][He]=Ee,Qe[1][He]=Ae,Qe[0][He+1]=je,Qe[1][He+1]=ze,Qe[0].length=Qe[1].length=He+2,[Math.min(...Qe[0]),Math.min(...Qe[1]),Math.max(...Qe[0]),Math.max(...Qe[1])]}}e.Util=he;const ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Pe(Ie){if(Ie[0]>=""){let Ae;if(Ie[0]===""&&Ie[1]===""?Ae="utf-16be":Ie[0]===""&&Ie[1]===""?Ae="utf-16le":Ie[0]===""&&Ie[1]===""&&Ie[2]===""&&(Ae="utf-8"),Ae)try{const Ve=new TextDecoder(Ae,{fatal:!0}),ot=Ce(Ie);return Ve.decode(ot)}catch(Ve){ie(`stringToPDFString: "${Ve}".`)}}const Ee=[];for(let Ae=0,Ve=Ie.length;Ae<Ve;Ae++){const ot=ve[Ie.charCodeAt(Ae)];Ee.push(ot?String.fromCharCode(ot):Ie.charAt(Ae))}return Ee.join("")}function Oe(Ie){return decodeURIComponent(escape(Ie))}function Fe(Ie){return unescape(encodeURIComponent(Ie))}function ge(Ie){return typeof Ie=="object"&&(Ie==null?void 0:Ie.byteLength)!==void 0}function Be(Ie,Ee){if(Ie.length!==Ee.length)return!1;for(let Ae=0,Ve=Ie.length;Ae<Ve;Ae++)if(Ie[Ae]!==Ee[Ae])return!1;return!0}function $e(Ie=new Date){return[Ie.getUTCFullYear().toString(),(Ie.getUTCMonth()+1).toString().padStart(2,"0"),Ie.getUTCDate().toString().padStart(2,"0"),Ie.getUTCHours().toString().padStart(2,"0"),Ie.getUTCMinutes().toString().padStart(2,"0"),Ie.getUTCSeconds().toString().padStart(2,"0")].join("")}class tt{constructor(){Se(this,ct,!1);this.promise=new Promise((Ee,Ae)=>{this.resolve=Ve=>{we(this,ct,!0),Ee(Ve)},this.reject=Ve=>{we(this,ct,!0),Ae(Ve)}})}get settled(){return o(this,ct)}}ct=new WeakMap,e.PromiseCapability=tt;let Ze=null,at=null;function We(Ie){return Ze||(Ze=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,at=new Map([["","t"]])),Ie.replaceAll(Ze,(Ee,Ae,Ve)=>Ae?Ae.normalize("NFKC"):at.get(Ve))}function Je(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ie=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ie);else for(let Ee=0;Ee<32;Ee++)Ie[Ee]=Math.floor(Math.random()*255);return ke(Ie)}const st="pdfjs_internal_id_";e.AnnotationPrefix=st},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,s,n,i,vt,Lt,$,h,f,c,S,E,d,T,B,Ft,j,N,Xt,z,x;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(A){if(typeof A=="string"||A instanceof URL?A={url:A}:(0,_util.isArrayBuffer)(A)&&(A={data:A}),typeof A!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!A.url&&!A.data&&!A.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const k=new PDFDocumentLoadingTask,{docId:F}=k,J=A.url?getUrlProp(A.url):null,g=A.data?getDataProp(A.data):null,U=A.httpHeaders||null,K=A.withCredentials===!0,pe=A.password??null,re=A.range instanceof PDFDataRangeTransport?A.range:null,ce=Number.isInteger(A.rangeChunkSize)&&A.rangeChunkSize>0?A.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ie=A.worker instanceof PDFWorker?A.worker:null;const ye=A.verbosity,Y=typeof A.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(A.docBaseUrl)?A.docBaseUrl:null,ae=typeof A.cMapUrl=="string"?A.cMapUrl:null,be=A.cMapPacked!==!1,q=A.CMapReaderFactory||DefaultCMapReaderFactory,p=typeof A.standardFontDataUrl=="string"?A.standardFontDataUrl:null,y=A.StandardFontDataFactory||DefaultStandardFontDataFactory,H=A.stopAtErrors!==!0,Z=Number.isInteger(A.maxImageSize)&&A.maxImageSize>-1?A.maxImageSize:-1,ee=A.isEvalSupported!==!1,te=typeof A.isOffscreenCanvasSupported=="boolean"?A.isOffscreenCanvasSupported:!_util.isNodeJS,le=Number.isInteger(A.canvasMaxAreaInBytes)?A.canvasMaxAreaInBytes:-1,me=typeof A.disableFontFace=="boolean"?A.disableFontFace:_util.isNodeJS,ke=A.fontExtraProperties===!0,Ce=A.enableXfa===!0,Te=A.ownerDocument||globalThis.document,Me=A.disableRange===!0,Le=A.disableStream===!0,ue=A.disableAutoFetch===!0,xe=A.pdfBug===!0,W=re?re.length:A.length??NaN,ne=typeof A.useSystemFonts=="boolean"?A.useSystemFonts:!_util.isNodeJS&&!me,he=typeof A.useWorkerFetch=="boolean"?A.useWorkerFetch:q===_display_utils.DOMCMapReaderFactory&&y===_display_utils.DOMStandardFontDataFactory&&ae&&p&&(0,_display_utils.isValidFetchUrl)(ae,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(p,document.baseURI),ve=A.canvasFactory||new DefaultCanvasFactory({ownerDocument:Te}),Pe=A.filterFactory||new DefaultFilterFactory({docId:F,ownerDocument:Te}),Oe=null;(0,_util.setVerbosityLevel)(ye);const Fe={canvasFactory:ve,filterFactory:Pe};if(he||(Fe.cMapReaderFactory=new q({baseUrl:ae,isCompressed:be}),Fe.standardFontDataFactory=new y({baseUrl:p})),!ie){const $e={verbosity:ye,port:_worker_options.GlobalWorkerOptions.workerPort};ie=$e.port?PDFWorker.fromPort($e):new PDFWorker($e),k._worker=ie}const ge={docId:F,apiVersion:"3.11.174",data:g,password:pe,disableAutoFetch:ue,rangeChunkSize:ce,length:W,docBaseUrl:Y,enableXfa:Ce,evaluatorOptions:{maxImageSize:Z,disableFontFace:me,ignoreErrors:H,isEvalSupported:ee,isOffscreenCanvasSupported:te,canvasMaxAreaInBytes:le,fontExtraProperties:ke,useSystemFonts:ne,cMapUrl:he?ae:null,standardFontDataUrl:he?p:null}},Be={ignoreErrors:H,isEvalSupported:ee,disableFontFace:me,fontExtraProperties:ke,enableXfa:Ce,ownerDocument:Te,disableAutoFetch:ue,pdfBug:xe,styleElement:Oe};return ie.promise.then(function(){if(k.destroyed)throw new Error("Loading aborted");const $e=_fetchDocument(ie,ge),tt=new Promise(function(Ze){let at;re?at=new _transport_stream.PDFDataTransportStream({length:W,initialData:re.initialData,progressiveDone:re.progressiveDone,contentDispositionFilename:re.contentDispositionFilename,disableRange:Me,disableStream:Le},re):g||(at=(Je=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Je):(0,_display_utils.isValidFetchUrl)(Je.url)?new _displayFetch_stream.PDFFetchStream(Je):new _displayNetwork.PDFNetworkStream(Je))({url:J,length:W,httpHeaders:U,withCredentials:K,rangeChunkSize:ce,disableRange:Me,disableStream:Le})),Ze(at)});return Promise.all([$e,tt]).then(function([Ze,at]){if(k.destroyed)throw new Error("Loading aborted");const We=new _message_handler.MessageHandler(F,Ze,ie.port),Je=new WorkerTransport(We,k,at,Be,Fe);k._transport=Je,We.send("Ready",null)})}).catch(k._capability.reject),k}async function _fetchDocument(A,k){if(A.destroyed)throw new Error("Worker was destroyed");const F=await A.messageHandler.sendWithPromise("GetDocRequest",k,k.data?[k.data.buffer]:null);if(A.destroyed)throw new Error("Worker was destroyed");return F}function getUrlProp(A){if(A instanceof URL)return A.href;try{return new URL(A,window.location).href}catch{if(_util.isNodeJS&&typeof A=="string")return A}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(A){if(_util.isNodeJS&&typeof Buffer<"u"&&A instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(A instanceof Uint8Array&&A.byteLength===A.buffer.byteLength)return A;if(typeof A=="string")return(0,_util.stringToBytes)(A);if(typeof A=="object"&&!isNaN(A==null?void 0:A.length)||(0,_util.isArrayBuffer)(A))return new Uint8Array(A);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const e=class e{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${_t(e,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var k,F,J;this.destroyed=!0;try{(k=this._worker)!=null&&k.port&&(this._worker._pendingDestroy=!0),await((F=this._transport)==null?void 0:F.destroy())}catch(g){throw(J=this._worker)!=null&&J.port&&delete this._worker._pendingDestroy,g}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,Se(e,t,0);let PDFDocumentLoadingTask=e;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(k,F,J=!1,g=null){this.length=k,this.initialData=F,this.progressiveDone=J,this.contentDispositionFilename=g,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(k){this._rangeListeners.push(k)}addProgressListener(k){this._progressListeners.push(k)}addProgressiveReadListener(k){this._progressiveReadListeners.push(k)}addProgressiveDoneListener(k){this._progressiveDoneListeners.push(k)}onDataRange(k,F){for(const J of this._rangeListeners)J(k,F)}onDataProgress(k,F){this._readyCapability.promise.then(()=>{for(const J of this._progressListeners)J(k,F)})}onDataProgressiveRead(k){this._readyCapability.promise.then(()=>{for(const F of this._progressiveReadListeners)F(k)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const k of this._progressiveDoneListeners)k()})}transportReady(){this._readyCapability.resolve()}requestDataRange(k,F){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(k,F){this._pdfInfo=k,this._transport=F,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(J=>{if(!J)return J;const g=[];for(const U in J)g.push(...J[U]);return g}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(k){return this._transport.getPage(k)}getPageIndex(k){return this._transport.getPageIndex(k)}getDestinations(){return this._transport.getDestinations()}getDestination(k){return this._transport.getDestination(k)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(k=!1){return this._transport.startCleanup(k||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(k,F,J,g=!1){Se(this,i);Se(this,s,null);Se(this,n,!1);this._pageIndex=k,this._pageInfo=F,this._transport=J,this._stats=g?new _display_utils.StatTimer:null,this._pdfBug=g,this.commonObjs=J.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:k,rotation:F=this.rotate,offsetX:J=0,offsetY:g=0,dontFlip:U=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:k,rotation:F,offsetX:J,offsetY:g,dontFlip:U})}getAnnotations({intent:k="display"}={}){const F=this._transport.getRenderingIntent(k);return this._transport.getAnnotations(this._pageIndex,F.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var k;return((k=this._transport._htmlForXfa)==null?void 0:k.children[this._pageIndex])||null}render({canvasContext:k,viewport:F,intent:J="display",annotationMode:g=_util.AnnotationMode.ENABLE,transform:U=null,background:K=null,optionalContentConfigPromise:pe=null,annotationCanvasMap:re=null,pageColors:ce=null,printAnnotationStorage:ie=null}){var y,H;(y=this._stats)==null||y.time("Overall");const ye=this._transport.getRenderingIntent(J,g,ie);we(this,n,!1),fe(this,i,Lt).call(this),pe||(pe=this._transport.getOptionalContentConfig());let Y=this._intentStates.get(ye.cacheKey);Y||(Y=Object.create(null),this._intentStates.set(ye.cacheKey,Y)),Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);const ae=!!(ye.renderingIntent&_util.RenderingIntentFlag.PRINT);Y.displayReadyCapability||(Y.displayReadyCapability=new _util.PromiseCapability,Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(H=this._stats)==null||H.time("Page Request"),this._pumpOperatorList(ye));const be=Z=>{var ee,te;Y.renderTasks.delete(q),(this._maybeCleanupAfterRender||ae)&&we(this,n,!0),fe(this,i,vt).call(this,!ae),Z?(q.capability.reject(Z),this._abortOperatorList({intentState:Y,reason:Z instanceof Error?Z:new Error(Z)})):q.capability.resolve(),(ee=this._stats)==null||ee.timeEnd("Rendering"),(te=this._stats)==null||te.timeEnd("Overall")},q=new InternalRenderTask({callback:be,params:{canvasContext:k,viewport:F,transform:U,background:K},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:re,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ae,pdfBug:this._pdfBug,pageColors:ce});(Y.renderTasks||(Y.renderTasks=new Set)).add(q);const p=q.task;return Promise.all([Y.displayReadyCapability.promise,pe]).then(([Z,ee])=>{var te;if(this.destroyed){be();return}(te=this._stats)==null||te.time("Rendering"),q.initializeGraphics({transparency:Z,optionalContentConfig:ee}),q.operatorListChanged()}).catch(be),p}getOperatorList({intent:k="display",annotationMode:F=_util.AnnotationMode.ENABLE,printAnnotationStorage:J=null}={}){var re;function g(){K.operatorList.lastChunk&&(K.opListReadCapability.resolve(K.operatorList),K.renderTasks.delete(pe))}const U=this._transport.getRenderingIntent(k,F,J,!0);let K=this._intentStates.get(U.cacheKey);K||(K=Object.create(null),this._intentStates.set(U.cacheKey,K));let pe;return K.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=g,K.opListReadCapability=new _util.PromiseCapability,(K.renderTasks||(K.renderTasks=new Set)).add(pe),K.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(re=this._stats)==null||re.time("Page Request"),this._pumpOperatorList(U)),K.opListReadCapability.promise}streamTextContent({includeMarkedContent:k=!1,disableNormalization:F=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:k===!0,disableNormalization:F===!0},{highWaterMark:100,size(g){return g.items.length}})}getTextContent(k={}){if(this._transport._htmlForXfa)return this.getXfa().then(J=>_xfa_text.XfaText.textContent(J));const F=this.streamTextContent(k);return new Promise(function(J,g){function U(){K.read().then(function({value:re,done:ce}){if(ce){J(pe);return}Object.assign(pe.styles,re.styles),pe.items.push(...re.items),U()},g)}const K=F.getReader(),pe={items:[],styles:Object.create(null)};U()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const k=[];for(const F of this._intentStates.values())if(this._abortOperatorList({intentState:F,reason:new Error("Page was destroyed."),force:!0}),!F.opListReadCapability)for(const J of F.renderTasks)k.push(J.completed),J.cancel();return this.objs.clear(),we(this,n,!1),fe(this,i,Lt).call(this),Promise.all(k)}cleanup(k=!1){we(this,n,!0);const F=fe(this,i,vt).call(this,!1);return k&&F&&this._stats&&(this._stats=new _display_utils.StatTimer),F}_startRenderPage(k,F){var g,U;const J=this._intentStates.get(F);J&&((g=this._stats)==null||g.timeEnd("Page Request"),(U=J.displayReadyCapability)==null||U.resolve(k))}_renderPageChunk(k,F){for(let J=0,g=k.length;J<g;J++)F.operatorList.fnArray.push(k.fnArray[J]),F.operatorList.argsArray.push(k.argsArray[J]);F.operatorList.lastChunk=k.lastChunk,F.operatorList.separateAnnots=k.separateAnnots;for(const J of F.renderTasks)J.operatorListChanged();k.lastChunk&&fe(this,i,vt).call(this,!0)}_pumpOperatorList({renderingIntent:k,cacheKey:F,annotationStorageSerializable:J}){const{map:g,transfers:U}=J,pe=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:k,cacheKey:F,annotationStorage:g},U).getReader(),re=this._intentStates.get(F);re.streamReader=pe;const ce=()=>{pe.read().then(({value:ie,done:ye})=>{if(ye){re.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ie,re),ce())},ie=>{if(re.streamReader=null,!this._transport.destroyed){if(re.operatorList){re.operatorList.lastChunk=!0;for(const ye of re.renderTasks)ye.operatorListChanged();fe(this,i,vt).call(this,!0)}if(re.displayReadyCapability)re.displayReadyCapability.reject(ie);else if(re.opListReadCapability)re.opListReadCapability.reject(ie);else throw ie}})};ce()}_abortOperatorList({intentState:k,reason:F,force:J=!1}){if(k.streamReader){if(k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null),!J){if(k.renderTasks.size>0)return;if(F instanceof _display_utils.RenderingCancelledException){let g=RENDERING_CANCELLED_TIMEOUT;F.extraDelay>0&&F.extraDelay<1e3&&(g+=F.extraDelay),k.streamReaderCancelTimeout=setTimeout(()=>{k.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:k,reason:F,force:!0})},g);return}}if(k.streamReader.cancel(new _util.AbortException(F.message)).catch(()=>{}),k.streamReader=null,!this._transport.destroyed){for(const[g,U]of this._intentStates)if(U===k){this._intentStates.delete(g);break}this.cleanup()}}}get stats(){return this._stats}}s=new WeakMap,n=new WeakMap,i=new WeakSet,vt=function(k=!1){if(fe(this,i,Lt).call(this),!o(this,n)||this.destroyed)return!1;if(k)return we(this,s,setTimeout(()=>{we(this,s,null),fe(this,i,vt).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:F,operatorList:J}of this._intentStates.values())if(F.size>0||!J.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),we(this,n,!1),!0},Lt=function(){o(this,s)&&(clearTimeout(o(this,s)),we(this,s,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Se(this,$,new Set);Se(this,h,Promise.resolve())}postMessage(k,F){const J={data:structuredClone(k,F?{transfer:F}:null)};o(this,h).then(()=>{for(const g of o(this,$))g.call(this,J)})}addEventListener(k,F){o(this,$).add(F)}removeEventListener(k,F){o(this,$).delete(F)}terminate(){o(this,$).clear()}}$=new WeakMap,h=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const A=(f=document==null?void 0:document.currentScript)==null?void 0:f.src;A&&(PDFWorkerUtil.fallbackWorkerSrc=A.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(A,k){let F;try{if(F=new URL(A),!F.origin||F.origin==="null")return!1}catch{return!1}const J=new URL(k,F);return F.origin===J.origin},PDFWorkerUtil.createCDNWrapper=function(A){const k=`importScripts("${A}");`;return URL.createObjectURL(new Blob([k]))}}const _PDFWorker=class _PDFWorker{constructor({name:A=null,port:k=null,verbosity:F=(0,_util.getVerbosityLevel)()}={}){var J;if(this.name=A,this.destroyed=!1,this.verbosity=F,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,k){if((J=o(_PDFWorker,c))!=null&&J.has(k))throw new Error("Cannot use more than one PDFWorker per port.");(o(_PDFWorker,c)||we(_PDFWorker,c,new WeakMap)).set(k,this),this._initializeFromPort(k);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(A){this._port=A,this._messageHandler=new _message_handler.MessageHandler("main","worker",A),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:A}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,A)||(A=PDFWorkerUtil.createCDNWrapper(new URL(A,window.location).href));const k=new Worker(A),F=new _message_handler.MessageHandler("main","worker",k),J=()=>{k.removeEventListener("error",g),F.destroy(),k.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},g=()=>{this._webWorker||J()};k.addEventListener("error",g),F.on("test",K=>{if(k.removeEventListener("error",g),this.destroyed){J();return}K?(this._messageHandler=F,this._port=k,this._webWorker=k,this._readyCapability.resolve(),F.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),F.destroy(),k.terminate())}),F.on("ready",K=>{if(k.removeEventListener("error",g),this.destroyed){J();return}try{U()}catch{this._setupFakeWorker()}});const U=()=>{const K=new Uint8Array;F.send("test",K,[K.buffer])};U();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(A=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const k=new LoopbackPort;this._port=k;const F=`fake${PDFWorkerUtil.fakeWorkerId++}`,J=new _message_handler.MessageHandler(F+"_worker",F,k);A.setup(J,k);const g=new _message_handler.MessageHandler(F,F+"_worker",k);this._messageHandler=g,this._readyCapability.resolve(),g.send("configure",{verbosity:this.verbosity})}).catch(A=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${A.message}".`))})}destroy(){var A;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(A=o(_PDFWorker,c))==null||A.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(A){var F;if(!(A!=null&&A.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const k=(F=o(this,c))==null?void 0:F.get(A.port);if(k){if(k._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return k}return new _PDFWorker(A)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var A;try{return((A=globalThis.pdfjsWorker)==null?void 0:A.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};c=new WeakMap,Se(_PDFWorker,c);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(k,F,J,g,U){Se(this,B);Se(this,S,new Map);Se(this,E,new Map);Se(this,d,new Map);Se(this,T,null);this.messageHandler=k,this.loadingTask=F,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:g.ownerDocument,styleElement:g.styleElement}),this._params=g,this.canvasFactory=U.canvasFactory,this.filterFactory=U.filterFactory,this.cMapReaderFactory=U.cMapReaderFactory,this.standardFontDataFactory=U.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=J,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(k,F=_util.AnnotationMode.ENABLE,J=null,g=!1){let U=_util.RenderingIntentFlag.DISPLAY,K=_annotation_storage.SerializableEmpty;switch(k){case"any":U=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":U=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${k}`)}switch(F){case _util.AnnotationMode.DISABLE:U+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:U+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:U+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,K=(U&_util.RenderingIntentFlag.PRINT&&J instanceof _annotation_storage.PrintAnnotationStorage?J:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${F}`)}return g&&(U+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:U,cacheKey:`${U}_${K.hash}`,annotationStorageSerializable:K}}destroy(){var J;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(J=o(this,T))==null||J.reject(new Error("Worker was destroyed during onPassword callback"));const k=[];for(const g of o(this,E).values())k.push(g._destroy());o(this,E).clear(),o(this,d).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const F=this.messageHandler.sendWithPromise("Terminate",null);return k.push(F),Promise.all(k).then(()=>{var g;this.commonObjs.clear(),this.fontLoader.clear(),o(this,S).clear(),this.filterFactory.destroy(),(g=this._networkStream)==null||g.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:k,loadingTask:F}=this;k.on("GetReader",(J,g)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=U=>{this._lastProgress={loaded:U.loaded,total:U.total}},g.onPull=()=>{this._fullReader.read().then(function({value:U,done:K}){if(K){g.close();return}(0,_util.assert)(U instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(U),1,[U])}).catch(U=>{g.error(U)})},g.onCancel=U=>{this._fullReader.cancel(U),g.ready.catch(K=>{if(!this.destroyed)throw K})}}),k.on("ReaderHeadersReady",J=>{const g=new _util.PromiseCapability,U=this._fullReader;return U.headersReady.then(()=>{var K;(!U.isStreamingSupported||!U.isRangeSupported)&&(this._lastProgress&&((K=F.onProgress)==null||K.call(F,this._lastProgress)),U.onProgress=pe=>{var re;(re=F.onProgress)==null||re.call(F,{loaded:pe.loaded,total:pe.total})}),g.resolve({isStreamingSupported:U.isStreamingSupported,isRangeSupported:U.isRangeSupported,contentLength:U.contentLength})},g.reject),g.promise}),k.on("GetRangeReader",(J,g)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const U=this._networkStream.getRangeReader(J.begin,J.end);if(!U){g.close();return}g.onPull=()=>{U.read().then(function({value:K,done:pe}){if(pe){g.close();return}(0,_util.assert)(K instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),g.enqueue(new Uint8Array(K),1,[K])}).catch(K=>{g.error(K)})},g.onCancel=K=>{U.cancel(K),g.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),k.on("GetDoc",({pdfInfo:J})=>{this._numPages=J.numPages,this._htmlForXfa=J.htmlForXfa,delete J.htmlForXfa,F._capability.resolve(new PDFDocumentProxy(J,this))}),k.on("DocException",function(J){let g;switch(J.name){case"PasswordException":g=new _util.PasswordException(J.message,J.code);break;case"InvalidPDFException":g=new _util.InvalidPDFException(J.message);break;case"MissingPDFException":g=new _util.MissingPDFException(J.message);break;case"UnexpectedResponseException":g=new _util.UnexpectedResponseException(J.message,J.status);break;case"UnknownErrorException":g=new _util.UnknownErrorException(J.message,J.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}F._capability.reject(g)}),k.on("PasswordRequest",J=>{if(we(this,T,new _util.PromiseCapability),F.onPassword){const g=U=>{U instanceof Error?o(this,T).reject(U):o(this,T).resolve({password:U})};try{F.onPassword(g,J.code)}catch(U){o(this,T).reject(U)}}else o(this,T).reject(new _util.PasswordException(J.message,J.code));return o(this,T).promise}),k.on("DataLoaded",J=>{var g;(g=F.onProgress)==null||g.call(F,{loaded:J.length,total:J.length}),this.downloadInfoCapability.resolve(J)}),k.on("StartRenderPage",J=>{if(this.destroyed)return;o(this,E).get(J.pageIndex)._startRenderPage(J.transparency,J.cacheKey)}),k.on("commonobj",([J,g,U])=>{var K;if(!this.destroyed&&!this.commonObjs.has(J))switch(g){case"Font":const pe=this._params;if("error"in U){const ie=U.error;(0,_util.warn)(`Error during font loading: ${ie}`),this.commonObjs.resolve(J,ie);break}const re=pe.pdfBug&&((K=globalThis.FontInspector)!=null&&K.enabled)?(ie,ye)=>globalThis.FontInspector.fontAdded(ie,ye):null,ce=new _font_loader.FontFaceObject(U,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,inspectFont:re});this.fontLoader.bind(ce).catch(ie=>k.sendWithPromise("FontFallback",{id:J})).finally(()=>{!pe.fontExtraProperties&&ce.data&&(ce.data=null),this.commonObjs.resolve(J,ce)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(J,U);break;default:throw new Error(`Got unknown common object type ${g}`)}}),k.on("obj",([J,g,U,K])=>{var re;if(this.destroyed)return;const pe=o(this,E).get(g);if(!pe.objs.has(J))switch(U){case"Image":if(pe.objs.resolve(J,K),K){let ce;if(K.bitmap){const{width:ie,height:ye}=K;ce=ie*ye*4}else ce=((re=K.data)==null?void 0:re.length)||0;ce>_util.MAX_IMAGE_SIZE_TO_CACHE&&(pe._maybeCleanupAfterRender=!0)}break;case"Pattern":pe.objs.resolve(J,K);break;default:throw new Error(`Got unknown object type ${U}`)}}),k.on("DocProgress",J=>{var g;this.destroyed||(g=F.onProgress)==null||g.call(F,{loaded:J.loaded,total:J.total})}),k.on("FetchBuiltInCMap",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(J):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),k.on("FetchStandardFontData",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(J):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var J;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:k,transfers:F}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:k,filename:((J=this._fullReader)==null?void 0:J.filename)??null},F).finally(()=>{this.annotationStorage.resetModified()})}getPage(k){if(!Number.isInteger(k)||k<=0||k>this._numPages)return Promise.reject(new Error("Invalid page request."));const F=k-1,J=o(this,d).get(F);if(J)return J;const g=this.messageHandler.sendWithPromise("GetPage",{pageIndex:F}).then(U=>{if(this.destroyed)throw new Error("Transport destroyed");const K=new PDFPageProxy(F,U,this,this._params.pdfBug);return o(this,E).set(F,K),K});return o(this,d).set(F,g),g}getPageIndex(k){return typeof k!="object"||k===null||!Number.isInteger(k.num)||k.num<0||!Number.isInteger(k.gen)||k.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:k.num,gen:k.gen})}getAnnotations(k,F){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:k,intent:F})}getFieldObjects(){return fe(this,B,Ft).call(this,"GetFieldObjects")}hasJSActions(){return fe(this,B,Ft).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(k){return typeof k!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:k})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return fe(this,B,Ft).call(this,"GetDocJSActions")}getPageJSActions(k){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:k})}getStructTree(k){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:k})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(k=>new _optional_content_config.OptionalContentConfig(k))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const k="GetMetadata",F=o(this,S).get(k);if(F)return F;const J=this.messageHandler.sendWithPromise(k,null).then(g=>{var U,K;return{info:g[0],metadata:g[1]?new _metadata.Metadata(g[1]):null,contentDispositionFilename:((U=this._fullReader)==null?void 0:U.filename)??null,contentLength:((K=this._fullReader)==null?void 0:K.contentLength)??null}});return o(this,S).set(k,J),J}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(k=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const F of o(this,E).values())if(!F.cleanup())throw new Error(`startCleanup: Page ${F.pageNumber} is currently rendering.`);this.commonObjs.clear(),k||this.fontLoader.clear(),o(this,S).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:k,enableXfa:F}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:k,enableXfa:F})}}S=new WeakMap,E=new WeakMap,d=new WeakMap,T=new WeakMap,B=new WeakSet,Ft=function(k,F=null){const J=o(this,S).get(k);if(J)return J;const g=this.messageHandler.sendWithPromise(k,F);return o(this,S).set(k,g),g};class PDFObjects{constructor(){Se(this,N);Se(this,j,Object.create(null))}get(k,F=null){if(F){const g=fe(this,N,Xt).call(this,k);return g.capability.promise.then(()=>F(g.data)),null}const J=o(this,j)[k];if(!(J!=null&&J.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${k}.`);return J.data}has(k){const F=o(this,j)[k];return(F==null?void 0:F.capability.settled)||!1}resolve(k,F=null){const J=fe(this,N,Xt).call(this,k);J.data=F,J.capability.resolve()}clear(){var k;for(const F in o(this,j)){const{data:J}=o(this,j)[F];(k=J==null?void 0:J.bitmap)==null||k.close()}we(this,j,Object.create(null))}}j=new WeakMap,N=new WeakSet,Xt=function(k){var F;return(F=o(this,j))[k]||(F[k]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(k){Se(this,z,null);we(this,z,k),this.onContinue=null}get promise(){return o(this,z).capability.promise}cancel(k=0){o(this,z).cancel(null,k)}get separateAnnots(){const{separateAnnots:k}=o(this,z).operatorList;if(!k)return!1;const{annotationCanvasMap:F}=o(this,z);return k.form||k.canvas&&(F==null?void 0:F.size)>0}}z=new WeakMap,exports.RenderTask=RenderTask;const O=class O{constructor({callback:k,params:F,objs:J,commonObjs:g,annotationCanvasMap:U,operatorList:K,pageIndex:pe,canvasFactory:re,filterFactory:ce,useRequestAnimationFrame:ie=!1,pdfBug:ye=!1,pageColors:Y=null}){this.callback=k,this.params=F,this.objs=J,this.commonObjs=g,this.annotationCanvasMap=U,this.operatorListIdx=null,this.operatorList=K,this._pageIndex=pe,this.canvasFactory=re,this.filterFactory=ce,this._pdfBug=ye,this.pageColors=Y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ie===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=F.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:k=!1,optionalContentConfig:F}){var pe,re;if(this.cancelled)return;if(this._canvas){if(o(O,x).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");o(O,x).add(this._canvas)}this._pdfBug&&((pe=globalThis.StepperManager)!=null&&pe.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:J,viewport:g,transform:U,background:K}=this.params;this.gfx=new _canvas.CanvasGraphics(J,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:F},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:U,viewport:g,transparency:k,background:K}),this.operatorListIdx=0,this.graphicsReady=!0,(re=this.graphicsReadyCallback)==null||re.call(this)}cancel(k=null,F=0){var J;this.running=!1,this.cancelled=!0,(J=this.gfx)==null||J.endDrawing(),o(O,x).delete(this._canvas),this.callback(k||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,F))}operatorListChanged(){var k;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(k=this.stepper)==null||k.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),o(O,x).delete(this._canvas),this.callback())))}};x=new WeakMap,Se(O,x,new WeakSet);let InternalRenderTask=O;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(t,e,s)=>{var f,c,S,jn,d;Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableEmpty=e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=s(1),i=s(4),a=s(8);const u=Object.freeze({map:null,hash:"",transfers:void 0});e.SerializableEmpty=u;class ${constructor(){Se(this,S);Se(this,f,!1);Se(this,c,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(B,_){const j=o(this,c).get(B);return j===void 0?_:Object.assign(_,j)}getRawValue(B){return o(this,c).get(B)}remove(B){if(o(this,c).delete(B),o(this,c).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const _ of o(this,c).values())if(_ instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(B,_){const j=o(this,c).get(B);let N=!1;if(j!==void 0)for(const[G,z]of Object.entries(_))j[G]!==z&&(N=!0,j[G]=z);else N=!0,o(this,c).set(B,_);N&&fe(this,S,jn).call(this),_ instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(_.constructor._type)}has(B){return o(this,c).has(B)}getAll(){return o(this,c).size>0?(0,n.objectFromMap)(o(this,c)):null}setAll(B){for(const[_,j]of Object.entries(B))this.setValue(_,j)}get size(){return o(this,c).size}resetModified(){o(this,f)&&(we(this,f,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new h(this)}get serializable(){if(o(this,c).size===0)return u;const B=new Map,_=new a.MurmurHash3_64,j=[],N=Object.create(null);let G=!1;for(const[z,x]of o(this,c)){const O=x instanceof i.AnnotationEditor?x.serialize(!1,N):x;O&&(B.set(z,O),_.update(`${z}:${JSON.stringify(O)}`),G||(G=!!O.bitmap))}if(G)for(const z of B.values())z.bitmap&&j.push(z.bitmap);return B.size>0?{map:B,hash:_.hexdigest(),transfers:j}:u}}f=new WeakMap,c=new WeakMap,S=new WeakSet,jn=function(){o(this,f)||(we(this,f,!0),typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=$;class h extends ${constructor(_){super();Se(this,d);const{map:j,hash:N,transfers:G}=_.serializable,z=structuredClone(j,G?{transfer:G}:null);we(this,d,{map:z,hash:N,transfers:G})}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return o(this,d)}}d=new WeakMap,e.PrintAnnotationStorage=h},(t,e,s)=>{var h,f,c,S,E,d,T,B,_,j,N,G,z,x,O,Yt,Kt,F,Jt,Qt,Mn,Ln,Fn,Zt,Dn;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=s(5),i=s(1),a=s(6);const ie=class ie{constructor(Y){Se(this,O);Se(this,h,"");Se(this,f,!1);Se(this,c,null);Se(this,S,null);Se(this,E,null);Se(this,d,!1);Se(this,T,null);Se(this,B,this.focusin.bind(this));Se(this,_,this.focusout.bind(this));Se(this,j,!1);Se(this,N,!1);Se(this,G,!1);ht(this,"_initialOptions",Object.create(null));ht(this,"_uiManager",null);ht(this,"_focusEventsAllowed",!0);ht(this,"_l10nPromise",null);Se(this,z,!1);Se(this,x,ie._zIndex++);this.constructor===ie&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Y.parent,this.id=Y.id,this.width=this.height=null,this.pageIndex=Y.parent.pageIndex,this.name=Y.name,this.div=null,this._uiManager=Y.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Y.isCentered,this._structTreeParentId=null;const{rotation:ae,rawDims:{pageWidth:be,pageHeight:q,pageX:p,pageY:y}}=this.parent.viewport;this.rotation=ae,this.pageRotation=(360+ae-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[be,q],this.pageTranslation=[p,y];const[H,Z]=this.parentDimensions;this.x=Y.x/H,this.y=Y.y/Z,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Y){const ae=new $({id:Y.parent.getNextId(),parent:Y.parent,uiManager:Y._uiManager});ae.annotationElementId=Y.annotationElementId,ae.deleted=!0,ae._uiManager.addToAnnotationStorage(ae)}static initialize(Y,ae=null){if(ie._l10nPromise||(ie._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(q=>[q,Y.get(q)]))),ae!=null&&ae.strings)for(const q of ae.strings)ie._l10nPromise.set(q,Y.get(q));if(ie._borderLineWidth!==-1)return;const be=getComputedStyle(document.documentElement);ie._borderLineWidth=parseFloat(be.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Y,ae){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Y){return!1}static paste(Y,ae){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return o(this,z)}set _isDraggable(Y){var ae;we(this,z,Y),(ae=this.div)==null||ae.classList.toggle("draggable",Y)}center(){const[Y,ae]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ae/(Y*2),this.y+=this.width*Y/(ae*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ae/(Y*2),this.y-=this.width*Y/(ae*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Y){this._uiManager.addCommands(Y)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=o(this,x)}setParent(Y){Y!==null&&(this.pageIndex=Y.pageIndex,this.pageDimensions=Y.pageDimensions),this.parent=Y}focusin(Y){this._focusEventsAllowed&&(o(this,j)?we(this,j,!1):this.parent.setSelected(this))}focusout(Y){var be;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ae=Y.relatedTarget;ae!=null&&ae.closest(`#${this.id}`)||(Y.preventDefault(),(be=this.parent)!=null&&be.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Y,ae,be,q){const[p,y]=this.parentDimensions;[be,q]=this.screenToPageTranslation(be,q),this.x=(Y+be)/p,this.y=(ae+q)/y,this.fixAndSetPosition()}translate(Y,ae){fe(this,O,Yt).call(this,this.parentDimensions,Y,ae)}translateInPage(Y,ae){fe(this,O,Yt).call(this,this.pageDimensions,Y,ae),this.div.scrollIntoView({block:"nearest"})}drag(Y,ae){const[be,q]=this.parentDimensions;if(this.x+=Y/be,this.y+=ae/q,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:ee,y:te}=this.div.getBoundingClientRect();this.parent.findNewParent(this,ee,te)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:p,y}=this;const[H,Z]=fe(this,O,Kt).call(this);p+=H,y+=Z,this.div.style.left=`${(100*p).toFixed(2)}%`,this.div.style.top=`${(100*y).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Y,ae]=this.pageDimensions;let{x:be,y:q,width:p,height:y}=this;switch(p*=Y,y*=ae,be*=Y,q*=ae,this.rotation){case 0:be=Math.max(0,Math.min(Y-p,be)),q=Math.max(0,Math.min(ae-y,q));break;case 90:be=Math.max(0,Math.min(Y-y,be)),q=Math.min(ae,Math.max(p,q));break;case 180:be=Math.min(Y,Math.max(p,be)),q=Math.min(ae,Math.max(y,q));break;case 270:be=Math.min(Y,Math.max(y,be)),q=Math.max(0,Math.min(ae-p,q));break}this.x=be/=Y,this.y=q/=ae;const[H,Z]=fe(this,O,Kt).call(this);be+=H,q+=Z;const{style:ee}=this.div;ee.left=`${(100*be).toFixed(2)}%`,ee.top=`${(100*q).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Y,ae){var be;return fe(be=ie,F,Jt).call(be,Y,ae,this.parentRotation)}pageTranslationToScreen(Y,ae){var be;return fe(be=ie,F,Jt).call(be,Y,ae,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Y,pageDimensions:[ae,be]}=this,q=ae*Y,p=be*Y;return i.FeatureTest.isCSSRoundSupported?[Math.round(q),Math.round(p)]:[q,p]}setDims(Y,ae){var p;const[be,q]=this.parentDimensions;this.div.style.width=`${(100*Y/be).toFixed(2)}%`,o(this,d)||(this.div.style.height=`${(100*ae/q).toFixed(2)}%`),(p=o(this,c))==null||p.classList.toggle("small",Y<ie.SMALL_EDITOR_SIZE||ae<ie.SMALL_EDITOR_SIZE)}fixDims(){const{style:Y}=this.div,{height:ae,width:be}=Y,q=be.endsWith("%"),p=!o(this,d)&&ae.endsWith("%");if(q&&p)return;const[y,H]=this.parentDimensions;q||(Y.width=`${(100*parseFloat(be)/y).toFixed(2)}%`),!o(this,d)&&!p&&(Y.height=`${(100*parseFloat(ae)/H).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(o(this,c))return;const Y=we(this,c,document.createElement("button"));Y.className="altText";const ae=await ie._l10nPromise.get("editor_alt_text_button_label");Y.textContent=ae,Y.setAttribute("aria-label",ae),Y.tabIndex="0",Y.addEventListener("contextmenu",a.noContextMenu),Y.addEventListener("pointerdown",be=>be.stopPropagation()),Y.addEventListener("click",be=>{be.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Y.addEventListener("keydown",be=>{be.target===Y&&be.key==="Enter"&&(be.preventDefault(),this._uiManager.editAltText(this))}),fe(this,O,Zt).call(this),this.div.append(Y),ie.SMALL_EDITOR_SIZE||(ie.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Y.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:o(this,h),decorative:o(this,f)}}set altTextData({altText:Y,decorative:ae}){o(this,h)===Y&&o(this,f)===ae||(we(this,h,Y),we(this,f,ae),fe(this,O,Zt).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",o(this,B)),this.div.addEventListener("focusout",o(this,_));const[Y,ae]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ae/Y).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Y/ae).toFixed(2)}%`);const[be,q]=this.getInitialTranslation();return this.translate(be,q),(0,n.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Y){const{isMac:ae}=i.FeatureTest.platform;if(Y.button!==0||Y.ctrlKey&&ae){Y.preventDefault();return}we(this,j,!0),fe(this,O,Dn).call(this,Y)}moveInDOM(){var Y;(Y=this.parent)==null||Y.moveEditorInDOM(this)}_setParentAndPosition(Y,ae,be){Y.changeParent(this),this.x=ae,this.y=be,this.fixAndSetPosition()}getRect(Y,ae){const be=this.parentScale,[q,p]=this.pageDimensions,[y,H]=this.pageTranslation,Z=Y/be,ee=ae/be,te=this.x*q,le=this.y*p,me=this.width*q,ke=this.height*p;switch(this.rotation){case 0:return[te+Z+y,p-le-ee-ke+H,te+Z+me+y,p-le-ee+H];case 90:return[te+ee+y,p-le+Z+H,te+ee+ke+y,p-le+Z+me+H];case 180:return[te-Z-me+y,p-le+ee+H,te-Z+y,p-le+ee+ke+H];case 270:return[te-ee-ke+y,p-le-Z-me+H,te-ee+y,p-le-Z+H];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Y,ae){const[be,q,p,y]=Y,H=p-be,Z=y-q;switch(this.rotation){case 0:return[be,ae-y,H,Z];case 90:return[be,ae-q,Z,H];case 180:return[p,ae-q,H,Z];case 270:return[p,ae-y,Z,H];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){we(this,G,!0)}disableEditMode(){we(this,G,!1)}isInEditMode(){return o(this,G)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Y,ae;(Y=this.div)==null||Y.addEventListener("focusin",o(this,B)),(ae=this.div)==null||ae.addEventListener("focusout",o(this,_))}serialize(Y=!1,ae=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(Y,ae,be){const q=new this.prototype.constructor({parent:ae,id:ae.getNextId(),uiManager:be});q.rotation=Y.rotation;const[p,y]=q.pageDimensions,[H,Z,ee,te]=q.getRectInCurrentCoords(Y.rect,y);return q.x=H/p,q.y=Z/y,q.width=ee/p,q.height=te/y,q}remove(){var Y;this.div.removeEventListener("focusin",o(this,B)),this.div.removeEventListener("focusout",o(this,_)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Y=o(this,c))==null||Y.remove(),we(this,c,null),we(this,S,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(fe(this,O,Mn).call(this),o(this,T).classList.remove("hidden"))}select(){var Y;this.makeResizable(),(Y=this.div)==null||Y.classList.add("selectedEditor")}unselect(){var Y,ae,be;(Y=o(this,T))==null||Y.classList.add("hidden"),(ae=this.div)==null||ae.classList.remove("selectedEditor"),(be=this.div)!=null&&be.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Y,ae){}disableEditing(){o(this,c)&&(o(this,c).hidden=!0)}enableEditing(){o(this,c)&&(o(this,c).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return o(this,N)}set isEditing(Y){we(this,N,Y),this.parent&&(Y?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Y,ae){we(this,d,!0);const be=Y/ae,{style:q}=this.div;q.aspectRatio=be,q.height="auto"}static get MIN_SIZE(){return 16}};h=new WeakMap,f=new WeakMap,c=new WeakMap,S=new WeakMap,E=new WeakMap,d=new WeakMap,T=new WeakMap,B=new WeakMap,_=new WeakMap,j=new WeakMap,N=new WeakMap,G=new WeakMap,z=new WeakMap,x=new WeakMap,O=new WeakSet,Yt=function([Y,ae],be,q){[be,q]=this.screenToPageTranslation(be,q),this.x+=be/Y,this.y+=q/ae,this.fixAndSetPosition()},Kt=function(){const[Y,ae]=this.parentDimensions,{_borderLineWidth:be}=ie,q=be/Y,p=be/ae;switch(this.rotation){case 90:return[-q,p];case 180:return[q,p];case 270:return[q,-p];default:return[-q,-p]}},F=new WeakSet,Jt=function(Y,ae,be){switch(be){case 90:return[ae,-Y];case 180:return[-Y,-ae];case 270:return[-ae,Y];default:return[Y,ae]}},Qt=function(Y){switch(Y){case 90:{const[ae,be]=this.pageDimensions;return[0,-ae/be,be/ae,0]}case 180:return[-1,0,0,-1];case 270:{const[ae,be]=this.pageDimensions;return[0,ae/be,-be/ae,0]}default:return[1,0,0,1]}},Mn=function(){if(o(this,T))return;we(this,T,document.createElement("div")),o(this,T).classList.add("resizers");const Y=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Y.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const ae of Y){const be=document.createElement("div");o(this,T).append(be),be.classList.add("resizer",ae),be.addEventListener("pointerdown",fe(this,O,Ln).bind(this,ae)),be.addEventListener("contextmenu",a.noContextMenu)}this.div.prepend(o(this,T))},Ln=function(Y,ae){ae.preventDefault();const{isMac:be}=i.FeatureTest.platform;if(ae.button!==0||ae.ctrlKey&&be)return;const q=fe(this,O,Fn).bind(this,Y),p=this._isDraggable;this._isDraggable=!1;const y={passive:!0,capture:!0};window.addEventListener("pointermove",q,y);const H=this.x,Z=this.y,ee=this.width,te=this.height,le=this.parent.div.style.cursor,me=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ae.target).cursor;const ke=()=>{this._isDraggable=p,window.removeEventListener("pointerup",ke),window.removeEventListener("blur",ke),window.removeEventListener("pointermove",q,y),this.parent.div.style.cursor=le,this.div.style.cursor=me;const Ce=this.x,Te=this.y,Me=this.width,Le=this.height;Ce===H&&Te===Z&&Me===ee&&Le===te||this.addCommands({cmd:()=>{this.width=Me,this.height=Le,this.x=Ce,this.y=Te;const[ue,xe]=this.parentDimensions;this.setDims(ue*Me,xe*Le),this.fixAndSetPosition()},undo:()=>{this.width=ee,this.height=te,this.x=H,this.y=Z;const[ue,xe]=this.parentDimensions;this.setDims(ue*ee,xe*te),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",ke),window.addEventListener("blur",ke)},Fn=function(Y,ae){const[be,q]=this.parentDimensions,p=this.x,y=this.y,H=this.width,Z=this.height,ee=ie.MIN_SIZE/be,te=ie.MIN_SIZE/q,le=We=>Math.round(We*1e4)/1e4,me=fe(this,O,Qt).call(this,this.rotation),ke=(We,Je)=>[me[0]*We+me[2]*Je,me[1]*We+me[3]*Je],Ce=fe(this,O,Qt).call(this,360-this.rotation),Te=(We,Je)=>[Ce[0]*We+Ce[2]*Je,Ce[1]*We+Ce[3]*Je];let Me,Le,ue=!1,xe=!1;switch(Y){case"topLeft":ue=!0,Me=(We,Je)=>[0,0],Le=(We,Je)=>[We,Je];break;case"topMiddle":Me=(We,Je)=>[We/2,0],Le=(We,Je)=>[We/2,Je];break;case"topRight":ue=!0,Me=(We,Je)=>[We,0],Le=(We,Je)=>[0,Je];break;case"middleRight":xe=!0,Me=(We,Je)=>[We,Je/2],Le=(We,Je)=>[0,Je/2];break;case"bottomRight":ue=!0,Me=(We,Je)=>[We,Je],Le=(We,Je)=>[0,0];break;case"bottomMiddle":Me=(We,Je)=>[We/2,Je],Le=(We,Je)=>[We/2,0];break;case"bottomLeft":ue=!0,Me=(We,Je)=>[0,Je],Le=(We,Je)=>[We,0];break;case"middleLeft":xe=!0,Me=(We,Je)=>[0,Je/2],Le=(We,Je)=>[We,Je/2];break}const W=Me(H,Z),ne=Le(H,Z);let he=ke(...ne);const ve=le(p+he[0]),Pe=le(y+he[1]);let Oe=1,Fe=1,[ge,Be]=this.screenToPageTranslation(ae.movementX,ae.movementY);if([ge,Be]=Te(ge/be,Be/q),ue){const We=Math.hypot(H,Z);Oe=Fe=Math.max(Math.min(Math.hypot(ne[0]-W[0]-ge,ne[1]-W[1]-Be)/We,1/H,1/Z),ee/H,te/Z)}else xe?Oe=Math.max(ee,Math.min(1,Math.abs(ne[0]-W[0]-ge)))/H:Fe=Math.max(te,Math.min(1,Math.abs(ne[1]-W[1]-Be)))/Z;const $e=le(H*Oe),tt=le(Z*Fe);he=ke(...Le($e,tt));const Ze=ve-he[0],at=Pe-he[1];this.width=$e,this.height=tt,this.x=Ze,this.y=at,this.setDims(be*$e,q*tt),this.fixAndSetPosition()},Zt=async function(){var be;const Y=o(this,c);if(!Y)return;if(!o(this,h)&&!o(this,f)){Y.classList.remove("done"),(be=o(this,S))==null||be.remove();return}ie._l10nPromise.get("editor_alt_text_edit_button_label").then(q=>{Y.setAttribute("aria-label",q)});let ae=o(this,S);if(!ae){we(this,S,ae=document.createElement("span")),ae.className="tooltip",ae.setAttribute("role","tooltip");const q=ae.id=`alt-text-tooltip-${this.id}`;Y.setAttribute("aria-describedby",q);const p=100;Y.addEventListener("mouseenter",()=>{we(this,E,setTimeout(()=>{we(this,E,null),o(this,S).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},p))}),Y.addEventListener("mouseleave",()=>{var y;clearTimeout(o(this,E)),we(this,E,null),(y=o(this,S))==null||y.classList.remove("show")})}Y.classList.add("done"),ae.innerText=o(this,f)?await ie._l10nPromise.get("editor_alt_text_decorative_tooltip"):o(this,h),ae.parentNode||Y.append(ae)},Dn=function(Y){if(!this._isDraggable)return;const ae=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let be,q;ae&&(be={passive:!0,capture:!0},q=y=>{const[H,Z]=this.screenToPageTranslation(y.movementX,y.movementY);this._uiManager.dragSelectedEditors(H,Z)},window.addEventListener("pointermove",q,be));const p=()=>{if(window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),ae&&window.removeEventListener("pointermove",q,be),we(this,j,!1),!this._uiManager.endDragSession()){const{isMac:y}=i.FeatureTest.platform;Y.ctrlKey&&!y||Y.shiftKey||Y.metaKey&&y?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",p),window.addEventListener("blur",p)},Se(ie,F),ht(ie,"_borderLineWidth",-1),ht(ie,"_colorManager",new n.ColorManager),ht(ie,"_zIndex",1),ht(ie,"SMALL_EDITOR_SIZE",0);let u=ie;e.AnnotationEditor=u;class $ extends u{constructor(Y){super(Y),this.annotationElementId=Y.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,e,s)=>{var d,T,B,_,j,en,z,x,O,A,k,In,g,U,K,pe,re,ce,ie,ye,Y,ae,be,q,p,y,H,Z,ee,te,le,me,ke,Ce,Te,Me,Le,ue,xe,W,ne,he,ve,Pe,Oe,Fe,ge,On,tn,nn,Dt,sn,rn,pt,Rt,Nn,$n,an,kt,on;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=a,e.opacityToHex=u;var n=s(1),i=s(6);function a(rt,se,je){for(const ze of je)se.addEventListener(ze,rt[ze].bind(rt))}function u(rt){return Math.round(Math.min(255,Math.max(1,255*rt))).toString(16).padStart(2,"0")}class ${constructor(){Se(this,d,0)}getId(){return`${n.AnnotationEditorPrefix}${_t(this,d)._++}`}}d=new WeakMap;const G=class G{constructor(){Se(this,j);Se(this,T,(0,n.getUuid)());Se(this,B,0);Se(this,_,null)}static get _isSVGFittingCanvas(){const se='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',ze=new OffscreenCanvas(1,3).getContext("2d"),Xe=new Image;Xe.src=se;const Qe=Xe.decode().then(()=>(ze.drawImage(Xe,0,0,1,1,0,0,1,3),new Uint32Array(ze.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,n.shadow)(this,"_isSVGFittingCanvas",Qe)}async getFromFile(se){const{lastModified:je,name:ze,size:Xe,type:Qe}=se;return fe(this,j,en).call(this,`${je}_${ze}_${Xe}_${Qe}`,se)}async getFromUrl(se){return fe(this,j,en).call(this,se,se)}async getFromId(se){o(this,_)||we(this,_,new Map);const je=o(this,_).get(se);return je?je.bitmap?(je.refCounter+=1,je):je.file?this.getFromFile(je.file):this.getFromUrl(je.url):null}getSvgUrl(se){const je=o(this,_).get(se);return je!=null&&je.isSvg?je.svgUrl:null}deleteId(se){o(this,_)||we(this,_,new Map);const je=o(this,_).get(se);je&&(je.refCounter-=1,je.refCounter===0&&(je.bitmap=null))}isValidId(se){return se.startsWith(`image_${o(this,T)}_`)}};T=new WeakMap,B=new WeakMap,_=new WeakMap,j=new WeakSet,en=async function(se,je){o(this,_)||we(this,_,new Map);let ze=o(this,_).get(se);if(ze===null)return null;if(ze!=null&&ze.bitmap)return ze.refCounter+=1,ze;try{ze||(ze={bitmap:null,id:`image_${o(this,T)}_${_t(this,B)._++}`,refCounter:0,isSvg:!1});let Xe;if(typeof je=="string"){ze.url=je;const Qe=await fetch(je);if(!Qe.ok)throw new Error(Qe.statusText);Xe=await Qe.blob()}else Xe=ze.file=je;if(Xe.type==="image/svg+xml"){const Qe=G._isSVGFittingCanvas,Ue=new FileReader,Q=new Image,X=new Promise((oe,_e)=>{Q.onload=()=>{ze.bitmap=Q,ze.isSvg=!0,oe()},Ue.onload=async()=>{const Re=ze.svgUrl=Ue.result;Q.src=await Qe?`${Re}#svgView(preserveAspectRatio(none))`:Re},Q.onerror=Ue.onerror=_e});Ue.readAsDataURL(Xe),await X}else ze.bitmap=await createImageBitmap(Xe);ze.refCounter=1}catch(Xe){console.error(Xe),ze=null}return o(this,_).set(se,ze),ze&&o(this,_).set(ze.id,ze),ze};let h=G;class f{constructor(se=128){Se(this,z,[]);Se(this,x,!1);Se(this,O);Se(this,A,-1);we(this,O,se)}add({cmd:se,undo:je,mustExec:ze,type:Xe=NaN,overwriteIfSameType:Qe=!1,keepUndo:Ue=!1}){if(ze&&se(),o(this,x))return;const Q={cmd:se,undo:je,type:Xe};if(o(this,A)===-1){o(this,z).length>0&&(o(this,z).length=0),we(this,A,0),o(this,z).push(Q);return}if(Qe&&o(this,z)[o(this,A)].type===Xe){Ue&&(Q.undo=o(this,z)[o(this,A)].undo),o(this,z)[o(this,A)]=Q;return}const X=o(this,A)+1;X===o(this,O)?o(this,z).splice(0,1):(we(this,A,X),X<o(this,z).length&&o(this,z).splice(X)),o(this,z).push(Q)}undo(){o(this,A)!==-1&&(we(this,x,!0),o(this,z)[o(this,A)].undo(),we(this,x,!1),we(this,A,o(this,A)-1))}redo(){o(this,A)<o(this,z).length-1&&(we(this,A,o(this,A)+1),we(this,x,!0),o(this,z)[o(this,A)].cmd(),we(this,x,!1))}hasSomethingToUndo(){return o(this,A)!==-1}hasSomethingToRedo(){return o(this,A)<o(this,z).length-1}destroy(){we(this,z,null)}}z=new WeakMap,x=new WeakMap,O=new WeakMap,A=new WeakMap,e.CommandManager=f;class c{constructor(se){Se(this,k);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:je}=n.FeatureTest.platform;for(const[ze,Xe,Qe={}]of se)for(const Ue of ze){const Q=Ue.startsWith("mac+");je&&Q?(this.callbacks.set(Ue.slice(4),{callback:Xe,options:Qe}),this.allKeys.add(Ue.split("+").at(-1))):!je&&!Q&&(this.callbacks.set(Ue,{callback:Xe,options:Qe}),this.allKeys.add(Ue.split("+").at(-1)))}}exec(se,je){if(!this.allKeys.has(je.key))return;const ze=this.callbacks.get(fe(this,k,In).call(this,je));if(!ze)return;const{callback:Xe,options:{bubbles:Qe=!1,args:Ue=[],checker:Q=null}}=ze;Q&&!Q(se,je)||(Xe.bind(se,...Ue)(),Qe||(je.stopPropagation(),je.preventDefault()))}}k=new WeakSet,In=function(se){se.altKey&&this.buffer.push("alt"),se.ctrlKey&&this.buffer.push("ctrl"),se.metaKey&&this.buffer.push("meta"),se.shiftKey&&this.buffer.push("shift"),this.buffer.push(se.key);const je=this.buffer.join("+");return this.buffer.length=0,je},e.KeyboardManager=c;const J=class J{get _colors(){const se=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(se),(0,n.shadow)(this,"_colors",se)}convert(se){const je=(0,i.getRGB)(se);if(!window.matchMedia("(forced-colors: active)").matches)return je;for(const[ze,Xe]of this._colors)if(Xe.every((Qe,Ue)=>Qe===je[Ue]))return J._colorsMapping.get(ze);return je}getHexCode(se){const je=this._colors.get(se);return je?n.Util.makeHexColor(...je):se}};ht(J,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let S=J;e.ColorManager=S;const ot=class ot{constructor(se,je,ze,Xe,Qe,Ue){Se(this,ge);Se(this,g,null);Se(this,U,new Map);Se(this,K,new Map);Se(this,pe,null);Se(this,re,null);Se(this,ce,new f);Se(this,ie,0);Se(this,ye,new Set);Se(this,Y,null);Se(this,ae,null);Se(this,be,new Set);Se(this,q,null);Se(this,p,new $);Se(this,y,!1);Se(this,H,!1);Se(this,Z,null);Se(this,ee,n.AnnotationEditorType.NONE);Se(this,te,new Set);Se(this,le,null);Se(this,me,this.blur.bind(this));Se(this,ke,this.focus.bind(this));Se(this,Ce,this.copy.bind(this));Se(this,Te,this.cut.bind(this));Se(this,Me,this.paste.bind(this));Se(this,Le,this.keydown.bind(this));Se(this,ue,this.onEditingAction.bind(this));Se(this,xe,this.onPageChanging.bind(this));Se(this,W,this.onScaleChanging.bind(this));Se(this,ne,this.onRotationChanging.bind(this));Se(this,he,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Se(this,ve,[0,0]);Se(this,Pe,null);Se(this,Oe,null);Se(this,Fe,null);we(this,Oe,se),we(this,Fe,je),we(this,pe,ze),this._eventBus=Xe,this._eventBus._on("editingaction",o(this,ue)),this._eventBus._on("pagechanging",o(this,xe)),this._eventBus._on("scalechanging",o(this,W)),this._eventBus._on("rotationchanging",o(this,ne)),we(this,re,Qe.annotationStorage),we(this,q,Qe.filterFactory),we(this,le,Ue),this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const se=ot.prototype,je=Qe=>{const{activeElement:Ue}=document;return Ue&&o(Qe,Oe).contains(Ue)&&Qe.hasSomethingToControl()},ze=this.TRANSLATE_SMALL,Xe=this.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new c([[["ctrl+a","mac+meta+a"],se.selectAll],[["ctrl+z","mac+meta+z"],se.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],se.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],se.delete],[["Escape","mac+Escape"],se.unselectAll],[["ArrowLeft","mac+ArrowLeft"],se.translateSelectedEditors,{args:[-ze,0],checker:je}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],se.translateSelectedEditors,{args:[-Xe,0],checker:je}],[["ArrowRight","mac+ArrowRight"],se.translateSelectedEditors,{args:[ze,0],checker:je}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],se.translateSelectedEditors,{args:[Xe,0],checker:je}],[["ArrowUp","mac+ArrowUp"],se.translateSelectedEditors,{args:[0,-ze],checker:je}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],se.translateSelectedEditors,{args:[0,-Xe],checker:je}],[["ArrowDown","mac+ArrowDown"],se.translateSelectedEditors,{args:[0,ze],checker:je}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],se.translateSelectedEditors,{args:[0,Xe],checker:je}]]))}destroy(){fe(this,ge,Dt).call(this),fe(this,ge,tn).call(this),this._eventBus._off("editingaction",o(this,ue)),this._eventBus._off("pagechanging",o(this,xe)),this._eventBus._off("scalechanging",o(this,W)),this._eventBus._off("rotationchanging",o(this,ne));for(const se of o(this,K).values())se.destroy();o(this,K).clear(),o(this,U).clear(),o(this,be).clear(),we(this,g,null),o(this,te).clear(),o(this,ce).destroy(),o(this,pe).destroy()}get hcmFilter(){return(0,n.shadow)(this,"hcmFilter",o(this,le)?o(this,q).addHCMFilter(o(this,le).foreground,o(this,le).background):"none")}get direction(){return(0,n.shadow)(this,"direction",getComputedStyle(o(this,Oe)).direction)}editAltText(se){var je;(je=o(this,pe))==null||je.editAltText(this,se)}onPageChanging({pageNumber:se}){we(this,ie,se-1)}focusMainContainer(){o(this,Oe).focus()}findParent(se,je){for(const ze of o(this,K).values()){const{x:Xe,y:Qe,width:Ue,height:Q}=ze.div.getBoundingClientRect();if(se>=Xe&&se<=Xe+Ue&&je>=Qe&&je<=Qe+Q)return ze}return null}disableUserSelect(se=!1){o(this,Fe).classList.toggle("noUserSelect",se)}addShouldRescale(se){o(this,be).add(se)}removeShouldRescale(se){o(this,be).delete(se)}onScaleChanging({scale:se}){this.commitOrRemove(),this.viewParameters.realScale=se*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const je of o(this,be))je.onScaleChanging()}onRotationChanging({pagesRotation:se}){this.commitOrRemove(),this.viewParameters.rotation=se}addToAnnotationStorage(se){!se.isEmpty()&&o(this,re)&&!o(this,re).has(se.id)&&o(this,re).setValue(se.id,se)}blur(){if(!this.hasSelection)return;const{activeElement:se}=document;for(const je of o(this,te))if(je.div.contains(se)){we(this,Z,[je,se]),je._focusEventsAllowed=!1;break}}focus(){if(!o(this,Z))return;const[se,je]=o(this,Z);we(this,Z,null),je.addEventListener("focusin",()=>{se._focusEventsAllowed=!0},{once:!0}),je.focus()}addEditListeners(){fe(this,ge,nn).call(this),fe(this,ge,sn).call(this)}removeEditListeners(){fe(this,ge,Dt).call(this),fe(this,ge,rn).call(this)}copy(se){var ze;if(se.preventDefault(),(ze=o(this,g))==null||ze.commitOrRemove(),!this.hasSelection)return;const je=[];for(const Xe of o(this,te)){const Qe=Xe.serialize(!0);Qe&&je.push(Qe)}je.length!==0&&se.clipboardData.setData("application/pdfjs",JSON.stringify(je))}cut(se){this.copy(se),this.delete()}paste(se){se.preventDefault();const{clipboardData:je}=se;for(const Qe of je.items)for(const Ue of o(this,ae))if(Ue.isHandlingMimeForPasting(Qe.type)){Ue.paste(Qe,this.currentLayer);return}let ze=je.getData("application/pdfjs");if(!ze)return;try{ze=JSON.parse(ze)}catch(Qe){(0,n.warn)(`paste: "${Qe.message}".`);return}if(!Array.isArray(ze))return;this.unselectAll();const Xe=this.currentLayer;try{const Qe=[];for(const X of ze){const oe=Xe.deserialize(X);if(!oe)return;Qe.push(oe)}const Ue=()=>{for(const X of Qe)fe(this,ge,an).call(this,X);fe(this,ge,on).call(this,Qe)},Q=()=>{for(const X of Qe)X.remove()};this.addCommands({cmd:Ue,undo:Q,mustExec:!0})}catch(Qe){(0,n.warn)(`paste: "${Qe.message}".`)}}keydown(se){var je;(je=this.getActive())!=null&&je.shouldGetKeyboardEvents()||ot._keyboardManager.exec(this,se)}onEditingAction(se){["undo","redo","delete","selectAll"].includes(se.name)&&this[se.name]()}setEditingState(se){se?(fe(this,ge,On).call(this),fe(this,ge,nn).call(this),fe(this,ge,sn).call(this),fe(this,ge,pt).call(this,{isEditing:o(this,ee)!==n.AnnotationEditorType.NONE,isEmpty:fe(this,ge,kt).call(this),hasSomethingToUndo:o(this,ce).hasSomethingToUndo(),hasSomethingToRedo:o(this,ce).hasSomethingToRedo(),hasSelectedEditor:!1})):(fe(this,ge,tn).call(this),fe(this,ge,Dt).call(this),fe(this,ge,rn).call(this),fe(this,ge,pt).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(se){if(!o(this,ae)){we(this,ae,se);for(const je of o(this,ae))fe(this,ge,Rt).call(this,je.defaultPropertiesToUpdate)}}getId(){return o(this,p).getId()}get currentLayer(){return o(this,K).get(o(this,ie))}getLayer(se){return o(this,K).get(se)}get currentPageIndex(){return o(this,ie)}addLayer(se){o(this,K).set(se.pageIndex,se),o(this,y)?se.enable():se.disable()}removeLayer(se){o(this,K).delete(se.pageIndex)}updateMode(se,je=null){if(o(this,ee)!==se){if(we(this,ee,se),se===n.AnnotationEditorType.NONE){this.setEditingState(!1),fe(this,ge,$n).call(this);return}this.setEditingState(!0),fe(this,ge,Nn).call(this),this.unselectAll();for(const ze of o(this,K).values())ze.updateMode(se);if(je){for(const ze of o(this,U).values())if(ze.annotationElementId===je){this.setSelected(ze),ze.enterInEditMode();break}}}}updateToolbar(se){se!==o(this,ee)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:se})}updateParams(se,je){if(o(this,ae)){if(se===n.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(se);return}for(const ze of o(this,te))ze.updateParams(se,je);for(const ze of o(this,ae))ze.updateDefaultParams(se,je)}}enableWaiting(se=!1){if(o(this,H)!==se){we(this,H,se);for(const je of o(this,K).values())se?je.disableClick():je.enableClick(),je.div.classList.toggle("waiting",se)}}getEditors(se){const je=[];for(const ze of o(this,U).values())ze.pageIndex===se&&je.push(ze);return je}getEditor(se){return o(this,U).get(se)}addEditor(se){o(this,U).set(se.id,se)}removeEditor(se){var je;o(this,U).delete(se.id),this.unselect(se),(!se.annotationElementId||!o(this,ye).has(se.annotationElementId))&&((je=o(this,re))==null||je.remove(se.id))}addDeletedAnnotationElement(se){o(this,ye).add(se.annotationElementId),se.deleted=!0}isDeletedAnnotationElement(se){return o(this,ye).has(se)}removeDeletedAnnotationElement(se){o(this,ye).delete(se.annotationElementId),se.deleted=!1}setActiveEditor(se){o(this,g)!==se&&(we(this,g,se),se&&fe(this,ge,Rt).call(this,se.propertiesToUpdate))}toggleSelected(se){if(o(this,te).has(se)){o(this,te).delete(se),se.unselect(),fe(this,ge,pt).call(this,{hasSelectedEditor:this.hasSelection});return}o(this,te).add(se),se.select(),fe(this,ge,Rt).call(this,se.propertiesToUpdate),fe(this,ge,pt).call(this,{hasSelectedEditor:!0})}setSelected(se){for(const je of o(this,te))je!==se&&je.unselect();o(this,te).clear(),o(this,te).add(se),se.select(),fe(this,ge,Rt).call(this,se.propertiesToUpdate),fe(this,ge,pt).call(this,{hasSelectedEditor:!0})}isSelected(se){return o(this,te).has(se)}unselect(se){se.unselect(),o(this,te).delete(se),fe(this,ge,pt).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return o(this,te).size!==0}undo(){o(this,ce).undo(),fe(this,ge,pt).call(this,{hasSomethingToUndo:o(this,ce).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:fe(this,ge,kt).call(this)})}redo(){o(this,ce).redo(),fe(this,ge,pt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:o(this,ce).hasSomethingToRedo(),isEmpty:fe(this,ge,kt).call(this)})}addCommands(se){o(this,ce).add(se),fe(this,ge,pt).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:fe(this,ge,kt).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const se=[...o(this,te)],je=()=>{for(const Xe of se)Xe.remove()},ze=()=>{for(const Xe of se)fe(this,ge,an).call(this,Xe)};this.addCommands({cmd:je,undo:ze,mustExec:!0})}commitOrRemove(){var se;(se=o(this,g))==null||se.commitOrRemove()}hasSomethingToControl(){return o(this,g)||this.hasSelection}selectAll(){for(const se of o(this,te))se.commit();fe(this,ge,on).call(this,o(this,U).values())}unselectAll(){if(o(this,g)){o(this,g).commitOrRemove();return}if(this.hasSelection){for(const se of o(this,te))se.unselect();o(this,te).clear(),fe(this,ge,pt).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(se,je,ze=!1){if(ze||this.commitOrRemove(),!this.hasSelection)return;o(this,ve)[0]+=se,o(this,ve)[1]+=je;const[Xe,Qe]=o(this,ve),Ue=[...o(this,te)],Q=1e3;o(this,Pe)&&clearTimeout(o(this,Pe)),we(this,Pe,setTimeout(()=>{we(this,Pe,null),o(this,ve)[0]=o(this,ve)[1]=0,this.addCommands({cmd:()=>{for(const X of Ue)o(this,U).has(X.id)&&X.translateInPage(Xe,Qe)},undo:()=>{for(const X of Ue)o(this,U).has(X.id)&&X.translateInPage(-Xe,-Qe)},mustExec:!1})},Q));for(const X of Ue)X.translateInPage(se,je)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),we(this,Y,new Map);for(const se of o(this,te))o(this,Y).set(se,{savedX:se.x,savedY:se.y,savedPageIndex:se.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!o(this,Y))return!1;this.disableUserSelect(!1);const se=o(this,Y);we(this,Y,null);let je=!1;for(const[{x:Xe,y:Qe,pageIndex:Ue},Q]of se)Q.newX=Xe,Q.newY=Qe,Q.newPageIndex=Ue,je||(je=Xe!==Q.savedX||Qe!==Q.savedY||Ue!==Q.savedPageIndex);if(!je)return!1;const ze=(Xe,Qe,Ue,Q)=>{if(o(this,U).has(Xe.id)){const X=o(this,K).get(Q);X?Xe._setParentAndPosition(X,Qe,Ue):(Xe.pageIndex=Q,Xe.x=Qe,Xe.y=Ue)}};return this.addCommands({cmd:()=>{for(const[Xe,{newX:Qe,newY:Ue,newPageIndex:Q}]of se)ze(Xe,Qe,Ue,Q)},undo:()=>{for(const[Xe,{savedX:Qe,savedY:Ue,savedPageIndex:Q}]of se)ze(Xe,Qe,Ue,Q)},mustExec:!0}),!0}dragSelectedEditors(se,je){if(o(this,Y))for(const ze of o(this,Y).keys())ze.drag(se,je)}rebuild(se){if(se.parent===null){const je=this.getLayer(se.pageIndex);je?(je.changeParent(se),je.addOrRebuild(se)):(this.addEditor(se),this.addToAnnotationStorage(se),se.rebuild())}else se.parent.addOrRebuild(se)}isActive(se){return o(this,g)===se}getActive(){return o(this,g)}getMode(){return o(this,ee)}get imageManager(){return(0,n.shadow)(this,"imageManager",new h)}};g=new WeakMap,U=new WeakMap,K=new WeakMap,pe=new WeakMap,re=new WeakMap,ce=new WeakMap,ie=new WeakMap,ye=new WeakMap,Y=new WeakMap,ae=new WeakMap,be=new WeakMap,q=new WeakMap,p=new WeakMap,y=new WeakMap,H=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,le=new WeakMap,me=new WeakMap,ke=new WeakMap,Ce=new WeakMap,Te=new WeakMap,Me=new WeakMap,Le=new WeakMap,ue=new WeakMap,xe=new WeakMap,W=new WeakMap,ne=new WeakMap,he=new WeakMap,ve=new WeakMap,Pe=new WeakMap,Oe=new WeakMap,Fe=new WeakMap,ge=new WeakSet,On=function(){window.addEventListener("focus",o(this,ke)),window.addEventListener("blur",o(this,me))},tn=function(){window.removeEventListener("focus",o(this,ke)),window.removeEventListener("blur",o(this,me))},nn=function(){window.addEventListener("keydown",o(this,Le),{capture:!0})},Dt=function(){window.removeEventListener("keydown",o(this,Le),{capture:!0})},sn=function(){document.addEventListener("copy",o(this,Ce)),document.addEventListener("cut",o(this,Te)),document.addEventListener("paste",o(this,Me))},rn=function(){document.removeEventListener("copy",o(this,Ce)),document.removeEventListener("cut",o(this,Te)),document.removeEventListener("paste",o(this,Me))},pt=function(se){Object.entries(se).some(([ze,Xe])=>o(this,he)[ze]!==Xe)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(o(this,he),se)})},Rt=function(se){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:se})},Nn=function(){if(!o(this,y)){we(this,y,!0);for(const se of o(this,K).values())se.enable()}},$n=function(){if(this.unselectAll(),o(this,y)){we(this,y,!1);for(const se of o(this,K).values())se.disable()}},an=function(se){const je=o(this,K).get(se.pageIndex);je?je.addOrRebuild(se):this.addEditor(se)},kt=function(){if(o(this,U).size===0)return!0;if(o(this,U).size===1)for(const se of o(this,U).values())return se.isEmpty();return!1},on=function(se){o(this,te).clear();for(const je of se)je.isEmpty()||(o(this,te).add(je),je.select());fe(this,ge,pt).call(this,{hasSelectedEditor:!0})},ht(ot,"TRANSLATE_SMALL",1),ht(ot,"TRANSLATE_BIG",10);let E=ot;e.AnnotationEditorUIManager=E},(t,e,s)=>{var ie,ye,Y,ae,be,q,p,y,H,Z,ee,te,St,Et,ln,It,Ot,Ct,Pt;Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMFilterFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=void 0,e.deprecated=A,e.getColorValues=U,e.getCurrentTransform=K,e.getCurrentTransformInverse=pe,e.getFilenameFromUrl=j,e.getPdfFilenameFromUrl=N,e.getRGB=g,e.getXfaPageViewport=J,e.isDataScheme=B,e.isPdfFile=_,e.isValidFetchUrl=z,e.loadScript=O,e.noContextMenu=x,e.setLayerDimensions=re;var n=s(7),i=s(1);const a="http://www.w3.org/2000/svg",ce=class ce{};ht(ce,"CSS",96),ht(ce,"PDF",72),ht(ce,"PDF_TO_CSS_UNITS",ce.CSS/ce.PDF);let u=ce;e.PixelsPerInch=u;class $ extends n.BaseFilterFactory{constructor({docId:W,ownerDocument:ne=globalThis.document}={}){super();Se(this,te);Se(this,ie);Se(this,ye);Se(this,Y);Se(this,ae);Se(this,be);Se(this,q);Se(this,p);Se(this,y);Se(this,H);Se(this,Z);Se(this,ee,0);we(this,Y,W),we(this,ae,ne)}addFilter(W){if(!W)return"none";let ne=o(this,te,St).get(W);if(ne)return ne;let he,ve,Pe,Oe;if(W.length===1){const $e=W[0],tt=new Array(256);for(let Ze=0;Ze<256;Ze++)tt[Ze]=$e[Ze]/255;Oe=he=ve=Pe=tt.join(",")}else{const[$e,tt,Ze]=W,at=new Array(256),We=new Array(256),Je=new Array(256);for(let st=0;st<256;st++)at[st]=$e[st]/255,We[st]=tt[st]/255,Je[st]=Ze[st]/255;he=at.join(","),ve=We.join(","),Pe=Je.join(","),Oe=`${he}${ve}${Pe}`}if(ne=o(this,te,St).get(Oe),ne)return o(this,te,St).set(W,ne),ne;const Fe=`g_${o(this,Y)}_transfer_map_${_t(this,ee)._++}`,ge=`url(#${Fe})`;o(this,te,St).set(W,ge),o(this,te,St).set(Oe,ge);const Be=fe(this,te,It).call(this,Fe);return fe(this,te,Ct).call(this,he,ve,Pe,Be),ge}addHCMFilter(W,ne){var tt;const he=`${W}-${ne}`;if(o(this,q)===he)return o(this,p);if(we(this,q,he),we(this,p,"none"),(tt=o(this,be))==null||tt.remove(),!W||!ne)return o(this,p);const ve=fe(this,te,Pt).call(this,W);W=i.Util.makeHexColor(...ve);const Pe=fe(this,te,Pt).call(this,ne);if(ne=i.Util.makeHexColor(...Pe),o(this,te,Et).style.color="",W==="#000000"&&ne==="#ffffff"||W===ne)return o(this,p);const Oe=new Array(256);for(let Ze=0;Ze<=255;Ze++){const at=Ze/255;Oe[Ze]=at<=.03928?at/12.92:((at+.055)/1.055)**2.4}const Fe=Oe.join(","),ge=`g_${o(this,Y)}_hcm_filter`,Be=we(this,y,fe(this,te,It).call(this,ge));fe(this,te,Ct).call(this,Fe,Fe,Fe,Be),fe(this,te,ln).call(this,Be);const $e=(Ze,at)=>{const We=ve[Ze]/255,Je=Pe[Ze]/255,st=new Array(at+1);for(let ct=0;ct<=at;ct++)st[ct]=We+ct/at*(Je-We);return st.join(",")};return fe(this,te,Ct).call(this,$e(0,5),$e(1,5),$e(2,5),Be),we(this,p,`url(#${ge})`),o(this,p)}addHighlightHCMFilter(W,ne,he,ve){var Je;const Pe=`${W}-${ne}-${he}-${ve}`;if(o(this,H)===Pe)return o(this,Z);if(we(this,H,Pe),we(this,Z,"none"),(Je=o(this,y))==null||Je.remove(),!W||!ne)return o(this,Z);const[Oe,Fe]=[W,ne].map(fe(this,te,Pt).bind(this));let ge=Math.round(.2126*Oe[0]+.7152*Oe[1]+.0722*Oe[2]),Be=Math.round(.2126*Fe[0]+.7152*Fe[1]+.0722*Fe[2]),[$e,tt]=[he,ve].map(fe(this,te,Pt).bind(this));Be<ge&&([ge,Be,$e,tt]=[Be,ge,tt,$e]),o(this,te,Et).style.color="";const Ze=(st,ct,Ie)=>{const Ee=new Array(256),Ae=(Be-ge)/Ie,Ve=st/255,ot=(ct-st)/(255*Ie);let rt=0;for(let se=0;se<=Ie;se++){const je=Math.round(ge+se*Ae),ze=Ve+se*ot;for(let Xe=rt;Xe<=je;Xe++)Ee[Xe]=ze;rt=je+1}for(let se=rt;se<256;se++)Ee[se]=Ee[rt-1];return Ee.join(",")},at=`g_${o(this,Y)}_hcm_highlight_filter`,We=we(this,y,fe(this,te,It).call(this,at));return fe(this,te,ln).call(this,We),fe(this,te,Ct).call(this,Ze($e[0],tt[0],5),Ze($e[1],tt[1],5),Ze($e[2],tt[2],5),We),we(this,Z,`url(#${at})`),o(this,Z)}destroy(W=!1){W&&(o(this,p)||o(this,Z))||(o(this,ye)&&(o(this,ye).parentNode.parentNode.remove(),we(this,ye,null)),o(this,ie)&&(o(this,ie).clear(),we(this,ie,null)),we(this,ee,0))}}ie=new WeakMap,ye=new WeakMap,Y=new WeakMap,ae=new WeakMap,be=new WeakMap,q=new WeakMap,p=new WeakMap,y=new WeakMap,H=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakSet,St=function(){return o(this,ie)||we(this,ie,new Map)},Et=function(){if(!o(this,ye)){const W=o(this,ae).createElement("div"),{style:ne}=W;ne.visibility="hidden",ne.contain="strict",ne.width=ne.height=0,ne.position="absolute",ne.top=ne.left=0,ne.zIndex=-1;const he=o(this,ae).createElementNS(a,"svg");he.setAttribute("width",0),he.setAttribute("height",0),we(this,ye,o(this,ae).createElementNS(a,"defs")),W.append(he),he.append(o(this,ye)),o(this,ae).body.append(W)}return o(this,ye)},ln=function(W){const ne=o(this,ae).createElementNS(a,"feColorMatrix");ne.setAttribute("type","matrix"),ne.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),W.append(ne)},It=function(W){const ne=o(this,ae).createElementNS(a,"filter");return ne.setAttribute("color-interpolation-filters","sRGB"),ne.setAttribute("id",W),o(this,te,Et).append(ne),ne},Ot=function(W,ne,he){const ve=o(this,ae).createElementNS(a,ne);ve.setAttribute("type","discrete"),ve.setAttribute("tableValues",he),W.append(ve)},Ct=function(W,ne,he,ve){const Pe=o(this,ae).createElementNS(a,"feComponentTransfer");ve.append(Pe),fe(this,te,Ot).call(this,Pe,"feFuncR",W),fe(this,te,Ot).call(this,Pe,"feFuncG",ne),fe(this,te,Ot).call(this,Pe,"feFuncB",he)},Pt=function(W){return o(this,te,Et).style.color=W,g(getComputedStyle(o(this,te,Et)).getPropertyValue("color"))},e.DOMFilterFactory=$;class h extends n.BaseCanvasFactory{constructor({ownerDocument:xe=globalThis.document}={}){super(),this._document=xe}_createCanvas(xe,W){const ne=this._document.createElement("canvas");return ne.width=xe,ne.height=W,ne}}e.DOMCanvasFactory=h;async function f(ue,xe=!1){if(z(ue,document.baseURI)){const W=await fetch(ue);if(!W.ok)throw new Error(W.statusText);return xe?new Uint8Array(await W.arrayBuffer()):(0,i.stringToBytes)(await W.text())}return new Promise((W,ne)=>{const he=new XMLHttpRequest;he.open("GET",ue,!0),xe&&(he.responseType="arraybuffer"),he.onreadystatechange=()=>{if(he.readyState===XMLHttpRequest.DONE){if(he.status===200||he.status===0){let ve;if(xe&&he.response?ve=new Uint8Array(he.response):!xe&&he.responseText&&(ve=(0,i.stringToBytes)(he.responseText)),ve){W(ve);return}}ne(new Error(he.statusText))}},he.send(null)})}class c extends n.BaseCMapReaderFactory{_fetchData(xe,W){return f(xe,this.isCompressed).then(ne=>({cMapData:ne,compressionType:W}))}}e.DOMCMapReaderFactory=c;class S extends n.BaseStandardFontDataFactory{_fetchData(xe){return f(xe,!0)}}e.DOMStandardFontDataFactory=S;class E extends n.BaseSVGFactory{_createSVG(xe){return document.createElementNS(a,xe)}}e.DOMSVGFactory=E;class d{constructor({viewBox:xe,scale:W,rotation:ne,offsetX:he=0,offsetY:ve=0,dontFlip:Pe=!1}){this.viewBox=xe,this.scale=W,this.rotation=ne,this.offsetX=he,this.offsetY=ve;const Oe=(xe[2]+xe[0])/2,Fe=(xe[3]+xe[1])/2;let ge,Be,$e,tt;switch(ne%=360,ne<0&&(ne+=360),ne){case 180:ge=-1,Be=0,$e=0,tt=1;break;case 90:ge=0,Be=1,$e=1,tt=0;break;case 270:ge=0,Be=-1,$e=-1,tt=0;break;case 0:ge=1,Be=0,$e=0,tt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Pe&&($e=-$e,tt=-tt);let Ze,at,We,Je;ge===0?(Ze=Math.abs(Fe-xe[1])*W+he,at=Math.abs(Oe-xe[0])*W+ve,We=(xe[3]-xe[1])*W,Je=(xe[2]-xe[0])*W):(Ze=Math.abs(Oe-xe[0])*W+he,at=Math.abs(Fe-xe[1])*W+ve,We=(xe[2]-xe[0])*W,Je=(xe[3]-xe[1])*W),this.transform=[ge*W,Be*W,$e*W,tt*W,Ze-ge*W*Oe-$e*W*Fe,at-Be*W*Oe-tt*W*Fe],this.width=We,this.height=Je}get rawDims(){const{viewBox:xe}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:xe[2]-xe[0],pageHeight:xe[3]-xe[1],pageX:xe[0],pageY:xe[1]})}clone({scale:xe=this.scale,rotation:W=this.rotation,offsetX:ne=this.offsetX,offsetY:he=this.offsetY,dontFlip:ve=!1}={}){return new d({viewBox:this.viewBox.slice(),scale:xe,rotation:W,offsetX:ne,offsetY:he,dontFlip:ve})}convertToViewportPoint(xe,W){return i.Util.applyTransform([xe,W],this.transform)}convertToViewportRectangle(xe){const W=i.Util.applyTransform([xe[0],xe[1]],this.transform),ne=i.Util.applyTransform([xe[2],xe[3]],this.transform);return[W[0],W[1],ne[0],ne[1]]}convertToPdfPoint(xe,W){return i.Util.applyInverseTransform([xe,W],this.transform)}}e.PageViewport=d;class T extends i.BaseException{constructor(xe,W=0){super(xe,"RenderingCancelledException"),this.extraDelay=W}}e.RenderingCancelledException=T;function B(ue){const xe=ue.length;let W=0;for(;W<xe&&ue[W].trim()==="";)W++;return ue.substring(W,W+5).toLowerCase()==="data:"}function _(ue){return typeof ue=="string"&&/\.pdf$/i.test(ue)}function j(ue,xe=!1){return xe||([ue]=ue.split(/[#?]/,1)),ue.substring(ue.lastIndexOf("/")+1)}function N(ue,xe="document.pdf"){if(typeof ue!="string")return xe;if(B(ue))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),xe;const W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ne=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,he=W.exec(ue);let ve=ne.exec(he[1])||ne.exec(he[2])||ne.exec(he[3]);if(ve&&(ve=ve[0],ve.includes("%")))try{ve=ne.exec(decodeURIComponent(ve))[0]}catch{}return ve||xe}class G{constructor(){ht(this,"started",Object.create(null));ht(this,"times",[])}time(xe){xe in this.started&&(0,i.warn)(`Timer is already running for ${xe}`),this.started[xe]=Date.now()}timeEnd(xe){xe in this.started||(0,i.warn)(`Timer has not been started for ${xe}`),this.times.push({name:xe,start:this.started[xe],end:Date.now()}),delete this.started[xe]}toString(){const xe=[];let W=0;for(const{name:ne}of this.times)W=Math.max(ne.length,W);for(const{name:ne,start:he,end:ve}of this.times)xe.push(`${ne.padEnd(W)} ${ve-he}ms
`);return xe.join("")}}e.StatTimer=G;function z(ue,xe){try{const{protocol:W}=xe?new URL(ue,xe):new URL(ue);return W==="http:"||W==="https:"}catch{return!1}}function x(ue){ue.preventDefault()}function O(ue,xe=!1){return new Promise((W,ne)=>{const he=document.createElement("script");he.src=ue,he.onload=function(ve){xe&&he.remove(),W(ve)},he.onerror=function(){ne(new Error(`Cannot load script at: ${he.src}`))},(document.head||document.documentElement).append(he)})}function A(ue){console.log("Deprecated API usage: "+ue)}let k;class F{static toDateObject(xe){if(!xe||typeof xe!="string")return null;k||(k=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const W=k.exec(xe);if(!W)return null;const ne=parseInt(W[1],10);let he=parseInt(W[2],10);he=he>=1&&he<=12?he-1:0;let ve=parseInt(W[3],10);ve=ve>=1&&ve<=31?ve:1;let Pe=parseInt(W[4],10);Pe=Pe>=0&&Pe<=23?Pe:0;let Oe=parseInt(W[5],10);Oe=Oe>=0&&Oe<=59?Oe:0;let Fe=parseInt(W[6],10);Fe=Fe>=0&&Fe<=59?Fe:0;const ge=W[7]||"Z";let Be=parseInt(W[8],10);Be=Be>=0&&Be<=23?Be:0;let $e=parseInt(W[9],10)||0;return $e=$e>=0&&$e<=59?$e:0,ge==="-"?(Pe+=Be,Oe+=$e):ge==="+"&&(Pe-=Be,Oe-=$e),new Date(Date.UTC(ne,he,ve,Pe,Oe,Fe))}}e.PDFDateString=F;function J(ue,{scale:xe=1,rotation:W=0}){const{width:ne,height:he}=ue.attributes.style,ve=[0,0,parseInt(ne),parseInt(he)];return new d({viewBox:ve,scale:xe,rotation:W})}function g(ue){if(ue.startsWith("#")){const xe=parseInt(ue.slice(1),16);return[(xe&16711680)>>16,(xe&65280)>>8,xe&255]}return ue.startsWith("rgb(")?ue.slice(4,-1).split(",").map(xe=>parseInt(xe)):ue.startsWith("rgba(")?ue.slice(5,-1).split(",").map(xe=>parseInt(xe)).slice(0,3):((0,i.warn)(`Not a valid color format: "${ue}"`),[0,0,0])}function U(ue){const xe=document.createElement("span");xe.style.visibility="hidden",document.body.append(xe);for(const W of ue.keys()){xe.style.color=W;const ne=window.getComputedStyle(xe).color;ue.set(W,g(ne))}xe.remove()}function K(ue){const{a:xe,b:W,c:ne,d:he,e:ve,f:Pe}=ue.getTransform();return[xe,W,ne,he,ve,Pe]}function pe(ue){const{a:xe,b:W,c:ne,d:he,e:ve,f:Pe}=ue.getTransform().invertSelf();return[xe,W,ne,he,ve,Pe]}function re(ue,xe,W=!1,ne=!0){if(xe instanceof d){const{pageWidth:he,pageHeight:ve}=xe.rawDims,{style:Pe}=ue,Oe=i.FeatureTest.isCSSRoundSupported,Fe=`var(--scale-factor) * ${he}px`,ge=`var(--scale-factor) * ${ve}px`,Be=Oe?`round(${Fe}, 1px)`:`calc(${Fe})`,$e=Oe?`round(${ge}, 1px)`:`calc(${ge})`;!W||xe.rotation%180===0?(Pe.width=Be,Pe.height=$e):(Pe.width=$e,Pe.height=Be)}ne&&ue.setAttribute("data-main-rotation",xe.rotation)}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseFilterFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=s(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(c){return"none"}addHCMFilter(c,S){return"none"}addHighlightHCMFilter(c,S,E,d){return"none"}destroy(c=!1){}}e.BaseFilterFactory=i;class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,S){if(c<=0||S<=0)throw new Error("Invalid canvas size");const E=this._createCanvas(c,S);return{canvas:E,context:E.getContext("2d")}}reset(c,S,E){if(!c.canvas)throw new Error("Canvas is not specified");if(S<=0||E<=0)throw new Error("Invalid canvas size");c.canvas.width=S,c.canvas.height=E}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,S){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=a;class u{constructor({baseUrl:c=null,isCompressed:S=!0}){this.constructor===u&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=S}async fetch({name:c}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");const S=this.baseUrl+c+(this.isCompressed?".bcmap":""),E=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(S,E).catch(d=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${S}`)})}_fetchData(c,S){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=u;class ${constructor({baseUrl:c=null}){this.constructor===$&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}async fetch({filename:c}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");const S=`${this.baseUrl}${c}`;return this._fetchData(S).catch(E=>{throw new Error(`Unable to load font data at: ${S}`)})}_fetchData(c){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=$;class h{constructor(){this.constructor===h&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,S,E=!1){if(c<=0||S<=0)throw new Error("Invalid SVG dimensions");const d=this._createSVG("svg:svg");return d.setAttribute("version","1.1"),E||(d.setAttribute("width",`${c}px`),d.setAttribute("height",`${S}px`)),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("viewBox",`0 0 ${c} ${S}`),d}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=h},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=s(1);const i=3285377520,a=4294901760,u=65535;class ${constructor(f){this.h1=f?f&4294967295:i,this.h2=f?f&4294967295:i}update(f){let c,S;if(typeof f=="string"){c=new Uint8Array(f.length*2),S=0;for(let A=0,k=f.length;A<k;A++){const F=f.charCodeAt(A);F<=255?c[S++]=F:(c[S++]=F>>>8,c[S++]=F&255)}}else if((0,n.isArrayBuffer)(f))c=f.slice(),S=c.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const E=S>>2,d=S-E*4,T=new Uint32Array(c.buffer,0,E);let B=0,_=0,j=this.h1,N=this.h2;const G=3432918353,z=461845907,x=G&u,O=z&u;for(let A=0;A<E;A++)A&1?(B=T[A],B=B*G&a|B*x&u,B=B<<15|B>>>17,B=B*z&a|B*O&u,j^=B,j=j<<13|j>>>19,j=j*5+3864292196):(_=T[A],_=_*G&a|_*x&u,_=_<<15|_>>>17,_=_*z&a|_*O&u,N^=_,N=N<<13|N>>>19,N=N*5+3864292196);switch(B=0,d){case 3:B^=c[E*4+2]<<16;case 2:B^=c[E*4+1]<<8;case 1:B^=c[E*4],B=B*G&a|B*x&u,B=B<<15|B>>>17,B=B*z&a|B*O&u,E&1?j^=B:N^=B}this.h1=j,this.h2=N}hexdigest(){let f=this.h1,c=this.h2;return f^=c>>>1,f=f*3981806797&a|f*36045&u,c=c*4283543511&a|((c<<16|f>>>16)*2950163797&a)>>>16,f^=c>>>1,f=f*444984403&a|f*60499&u,c=c*3301882366&a|((c<<16|f>>>16)*3120437893&a)>>>16,f^=c>>>1,(f>>>0).toString(16).padStart(8,"0")+(c>>>0).toString(16).padStart(8,"0")}}e.MurmurHash3_64=$},(t,e,s)=>{var u;Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=s(1);class i{constructor({ownerDocument:h=globalThis.document,styleElement:f=null}){Se(this,u,new Set);this._document=h,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(h){this.nativeFontFaces.add(h),this._document.fonts.add(h)}removeNativeFontFace(h){this.nativeFontFaces.delete(h),this._document.fonts.delete(h)}insertRule(h){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const f=this.styleElement.sheet;f.insertRule(h,f.cssRules.length)}clear(){for(const h of this.nativeFontFaces)this._document.fonts.delete(h);this.nativeFontFaces.clear(),o(this,u).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(h){if(!(!h||o(this,u).has(h.loadedName))){if((0,n.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:f,src:c,style:S}=h,E=new FontFace(f,c,S);this.addNativeFontFace(E);try{await E.load(),o(this,u).add(f)}catch{(0,n.warn)(`Cannot load system font: ${h.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(E)}return}(0,n.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(h){if(h.attached||h.missingFile&&!h.systemFontInfo)return;if(h.attached=!0,h.systemFontInfo){await this.loadSystemFont(h.systemFontInfo);return}if(this.isFontLoadingAPISupported){const c=h.createNativeFontFace();if(c){this.addNativeFontFace(c);try{await c.loaded}catch(S){throw(0,n.warn)(`Failed to load font '${c.family}': '${S}'.`),h.disableFontFace=!0,S}}return}const f=h.createFontFaceRule();if(f){if(this.insertRule(f),this.isSyncFontLoadingSupported)return;await new Promise(c=>{const S=this._queueLoadingCallback(c);this._prepareFontLoadEvent(h,S)})}}get isFontLoadingAPISupported(){var f;const h=!!((f=this._document)!=null&&f.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",h)}get isSyncFontLoadingSupported(){let h=!1;return(n.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(h=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",h)}_queueLoadingCallback(h){function f(){for((0,n.assert)(!S.done,"completeRequest() cannot be called twice."),S.done=!0;c.length>0&&c[0].done;){const E=c.shift();setTimeout(E.callback,0)}}const{loadingRequests:c}=this,S={done:!1,complete:f,callback:h};return c.push(S),S}get _loadTestFont(){const h=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,n.shadow)(this,"_loadTestFont",h)}_prepareFontLoadEvent(h,f){function c(g,U){return g.charCodeAt(U)<<24|g.charCodeAt(U+1)<<16|g.charCodeAt(U+2)<<8|g.charCodeAt(U+3)&255}function S(g,U,K,pe){const re=g.substring(0,U),ce=g.substring(U+K);return re+pe+ce}let E,d;const T=this._document.createElement("canvas");T.width=1,T.height=1;const B=T.getContext("2d");let _=0;function j(g,U){if(++_>30){(0,n.warn)("Load test font never loaded."),U();return}if(B.font="30px "+g,B.fillText(".",0,20),B.getImageData(0,0,1,1).data[3]>0){U();return}setTimeout(j.bind(null,g,U))}const N=`lt${Date.now()}${this.loadTestFontId++}`;let G=this._loadTestFont;G=S(G,976,N.length,N);const x=16,O=1482184792;let A=c(G,x);for(E=0,d=N.length-3;E<d;E+=4)A=A-O+c(N,E)|0;E<N.length&&(A=A-O+c(N+"XXX",E)|0),G=S(G,x,4,(0,n.string32)(A));const k=`url(data:font/opentype;base64,${btoa(G)});`,F=`@font-face {font-family:"${N}";src:${k}}`;this.insertRule(F);const J=this._document.createElement("div");J.style.visibility="hidden",J.style.width=J.style.height="10px",J.style.position="absolute",J.style.top=J.style.left="0px";for(const g of[h.loadedName,N]){const U=this._document.createElement("span");U.textContent="Hi",U.style.fontFamily=g,J.append(U)}this._document.body.append(J),j(N,()=>{J.remove(),f.complete()})}}u=new WeakMap,e.FontLoader=i;class a{constructor(h,{isEvalSupported:f=!0,disableFontFace:c=!1,ignoreErrors:S=!1,inspectFont:E=null}){this.compiledGlyphs=Object.create(null);for(const d in h)this[d]=h[d];this.isEvalSupported=f!==!1,this.disableFontFace=c===!0,this.ignoreErrors=S===!0,this._inspectFont=E}createNativeFontFace(){var f;if(!this.data||this.disableFontFace)return null;let h;if(!this.cssFontInfo)h=new FontFace(this.loadedName,this.data,{});else{const c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),h=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}return(f=this._inspectFont)==null||f.call(this,this),h}createFontFaceRule(){var S;if(!this.data||this.disableFontFace)return null;const h=(0,n.bytesToString)(this.data),f=`url(data:${this.mimetype};base64,${btoa(h)});`;let c;if(!this.cssFontInfo)c=`@font-face {font-family:"${this.loadedName}";src:${f}}`;else{let E=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(E+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),c=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${E}src:${f}}`}return(S=this._inspectFont)==null||S.call(this,this,f),c}getPathGenerator(h,f){if(this.compiledGlyphs[f]!==void 0)return this.compiledGlyphs[f];let c;try{c=h.get(this.loadedName+"_path_"+f)}catch(S){if(!this.ignoreErrors)throw S;return(0,n.warn)(`getPathGenerator - ignoring character: "${S}".`),this.compiledGlyphs[f]=function(E,d){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const S=[];for(const E of c){const d=E.args!==void 0?E.args.join(","):"";S.push("c.",E.cmd,"(",d,`);
`)}return this.compiledGlyphs[f]=new Function("c","size",S.join(""))}return this.compiledGlyphs[f]=function(S,E){for(const d of c)d.cmd==="scale"&&(d.args=[E,-E]),S[d.cmd].apply(S,d.args)}}}e.FontFaceObject=a},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeFilterFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=s(7);s(1);const i=function(f){return new Promise((c,S)=>{require$$5.readFile(f,(d,T)=>{if(d||!T){S(new Error(d));return}c(new Uint8Array(T))})})};class a extends n.BaseFilterFactory{}e.NodeFilterFactory=a;class u extends n.BaseCanvasFactory{_createCanvas(c,S){return require$$5.createCanvas(c,S)}}e.NodeCanvasFactory=u;class $ extends n.BaseCMapReaderFactory{_fetchData(c,S){return i(c).then(E=>({cMapData:E,compressionType:S}))}}e.NodeCMapReaderFactory=$;class h extends n.BaseStandardFontDataFactory{_fetchData(c){return i(c)}}e.NodeStandardFontDataFactory=h},(t,e,s)=>{var ye,cn,un;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=s(1),i=s(6),a=s(12),u=s(13);const $=16,h=100,f=4096,c=15,S=10,E=1e3,d=16;function T(q,p){if(q._removeMirroring)throw new Error("Context is already forwarding operations.");q.__originalSave=q.save,q.__originalRestore=q.restore,q.__originalRotate=q.rotate,q.__originalScale=q.scale,q.__originalTranslate=q.translate,q.__originalTransform=q.transform,q.__originalSetTransform=q.setTransform,q.__originalResetTransform=q.resetTransform,q.__originalClip=q.clip,q.__originalMoveTo=q.moveTo,q.__originalLineTo=q.lineTo,q.__originalBezierCurveTo=q.bezierCurveTo,q.__originalRect=q.rect,q.__originalClosePath=q.closePath,q.__originalBeginPath=q.beginPath,q._removeMirroring=()=>{q.save=q.__originalSave,q.restore=q.__originalRestore,q.rotate=q.__originalRotate,q.scale=q.__originalScale,q.translate=q.__originalTranslate,q.transform=q.__originalTransform,q.setTransform=q.__originalSetTransform,q.resetTransform=q.__originalResetTransform,q.clip=q.__originalClip,q.moveTo=q.__originalMoveTo,q.lineTo=q.__originalLineTo,q.bezierCurveTo=q.__originalBezierCurveTo,q.rect=q.__originalRect,q.closePath=q.__originalClosePath,q.beginPath=q.__originalBeginPath,delete q._removeMirroring},q.save=function(){p.save(),this.__originalSave()},q.restore=function(){p.restore(),this.__originalRestore()},q.translate=function(H,Z){p.translate(H,Z),this.__originalTranslate(H,Z)},q.scale=function(H,Z){p.scale(H,Z),this.__originalScale(H,Z)},q.transform=function(H,Z,ee,te,le,me){p.transform(H,Z,ee,te,le,me),this.__originalTransform(H,Z,ee,te,le,me)},q.setTransform=function(H,Z,ee,te,le,me){p.setTransform(H,Z,ee,te,le,me),this.__originalSetTransform(H,Z,ee,te,le,me)},q.resetTransform=function(){p.resetTransform(),this.__originalResetTransform()},q.rotate=function(H){p.rotate(H),this.__originalRotate(H)},q.clip=function(H){p.clip(H),this.__originalClip(H)},q.moveTo=function(y,H){p.moveTo(y,H),this.__originalMoveTo(y,H)},q.lineTo=function(y,H){p.lineTo(y,H),this.__originalLineTo(y,H)},q.bezierCurveTo=function(y,H,Z,ee,te,le){p.bezierCurveTo(y,H,Z,ee,te,le),this.__originalBezierCurveTo(y,H,Z,ee,te,le)},q.rect=function(y,H,Z,ee){p.rect(y,H,Z,ee),this.__originalRect(y,H,Z,ee)},q.closePath=function(){p.closePath(),this.__originalClosePath()},q.beginPath=function(){p.beginPath(),this.__originalBeginPath()}}class B{constructor(p){this.canvasFactory=p,this.cache=Object.create(null)}getCanvas(p,y,H){let Z;return this.cache[p]!==void 0?(Z=this.cache[p],this.canvasFactory.reset(Z,y,H)):(Z=this.canvasFactory.create(y,H),this.cache[p]=Z),Z}delete(p){delete this.cache[p]}clear(){for(const p in this.cache){const y=this.cache[p];this.canvasFactory.destroy(y),delete this.cache[p]}}}function _(q,p,y,H,Z,ee,te,le,me,ke){const[Ce,Te,Me,Le,ue,xe]=(0,i.getCurrentTransform)(q);if(Te===0&&Me===0){const he=te*Ce+ue,ve=Math.round(he),Pe=le*Le+xe,Oe=Math.round(Pe),Fe=(te+me)*Ce+ue,ge=Math.abs(Math.round(Fe)-ve)||1,Be=(le+ke)*Le+xe,$e=Math.abs(Math.round(Be)-Oe)||1;return q.setTransform(Math.sign(Ce),0,0,Math.sign(Le),ve,Oe),q.drawImage(p,y,H,Z,ee,0,0,ge,$e),q.setTransform(Ce,Te,Me,Le,ue,xe),[ge,$e]}if(Ce===0&&Le===0){const he=le*Me+ue,ve=Math.round(he),Pe=te*Te+xe,Oe=Math.round(Pe),Fe=(le+ke)*Me+ue,ge=Math.abs(Math.round(Fe)-ve)||1,Be=(te+me)*Te+xe,$e=Math.abs(Math.round(Be)-Oe)||1;return q.setTransform(0,Math.sign(Te),Math.sign(Me),0,ve,Oe),q.drawImage(p,y,H,Z,ee,0,0,$e,ge),q.setTransform(Ce,Te,Me,Le,ue,xe),[$e,ge]}q.drawImage(p,y,H,Z,ee,te,le,me,ke);const W=Math.hypot(Ce,Te),ne=Math.hypot(Me,Le);return[W*me,ne*ke]}function j(q){const{width:p,height:y}=q;if(p>E||y>E)return null;const H=1e3,Z=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),ee=p+1;let te=new Uint8Array(ee*(y+1)),le,me,ke;const Ce=p+7&-8;let Te=new Uint8Array(Ce*y),Me=0;for(const ne of q.data){let he=128;for(;he>0;)Te[Me++]=ne&he?0:255,he>>=1}let Le=0;for(Me=0,Te[Me]!==0&&(te[0]=1,++Le),me=1;me<p;me++)Te[Me]!==Te[Me+1]&&(te[me]=Te[Me]?2:1,++Le),Me++;for(Te[Me]!==0&&(te[me]=2,++Le),le=1;le<y;le++){Me=le*Ce,ke=le*ee,Te[Me-Ce]!==Te[Me]&&(te[ke]=Te[Me]?1:8,++Le);let ne=(Te[Me]?4:0)+(Te[Me-Ce]?8:0);for(me=1;me<p;me++)ne=(ne>>2)+(Te[Me+1]?4:0)+(Te[Me-Ce+1]?8:0),Z[ne]&&(te[ke+me]=Z[ne],++Le),Me++;if(Te[Me-Ce]!==Te[Me]&&(te[ke+me]=Te[Me]?2:4,++Le),Le>H)return null}for(Me=Ce*(y-1),ke=le*ee,Te[Me]!==0&&(te[ke]=8,++Le),me=1;me<p;me++)Te[Me]!==Te[Me+1]&&(te[ke+me]=Te[Me]?4:8,++Le),Me++;if(Te[Me]!==0&&(te[ke+me]=4,++Le),Le>H)return null;const ue=new Int32Array([0,ee,-1,0,-ee,0,0,0,1]),xe=new Path2D;for(le=0;Le&&le<=y;le++){let ne=le*ee;const he=ne+p;for(;ne<he&&!te[ne];)ne++;if(ne===he)continue;xe.moveTo(ne%ee,le);const ve=ne;let Pe=te[ne];do{const Oe=ue[Pe];do ne+=Oe;while(!te[ne]);const Fe=te[ne];Fe!==5&&Fe!==10?(Pe=Fe,te[ne]=0):(Pe=Fe&51*Pe>>4,te[ne]&=Pe>>2|Pe<<2),xe.lineTo(ne%ee,ne/ee|0),te[ne]||--Le}while(ve!==ne);--le}return Te=null,te=null,function(ne){ne.save(),ne.scale(1/p,-1/y),ne.translate(0,-y),ne.fill(xe),ne.beginPath(),ne.restore()}}class N{constructor(p,y){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,p,y])}clone(){const p=Object.create(this);return p.clipBox=this.clipBox.slice(),p}setCurrentPoint(p,y){this.x=p,this.y=y}updatePathMinMax(p,y,H){[y,H]=n.Util.applyTransform([y,H],p),this.minX=Math.min(this.minX,y),this.minY=Math.min(this.minY,H),this.maxX=Math.max(this.maxX,y),this.maxY=Math.max(this.maxY,H)}updateRectMinMax(p,y){const H=n.Util.applyTransform(y,p),Z=n.Util.applyTransform(y.slice(2),p);this.minX=Math.min(this.minX,H[0],Z[0]),this.minY=Math.min(this.minY,H[1],Z[1]),this.maxX=Math.max(this.maxX,H[0],Z[0]),this.maxY=Math.max(this.maxY,H[1],Z[1])}updateScalingPathMinMax(p,y){n.Util.scaleMinMax(p,y),this.minX=Math.min(this.minX,y[0]),this.maxX=Math.max(this.maxX,y[1]),this.minY=Math.min(this.minY,y[2]),this.maxY=Math.max(this.maxY,y[3])}updateCurvePathMinMax(p,y,H,Z,ee,te,le,me,ke,Ce){const Te=n.Util.bezierBoundingBox(y,H,Z,ee,te,le,me,ke);if(Ce){Ce[0]=Math.min(Ce[0],Te[0],Te[2]),Ce[1]=Math.max(Ce[1],Te[0],Te[2]),Ce[2]=Math.min(Ce[2],Te[1],Te[3]),Ce[3]=Math.max(Ce[3],Te[1],Te[3]);return}this.updateRectMinMax(p,Te)}getPathBoundingBox(p=a.PathType.FILL,y=null){const H=[this.minX,this.minY,this.maxX,this.maxY];if(p===a.PathType.STROKE){y||(0,n.unreachable)("Stroke bounding box must include transform.");const Z=n.Util.singularValueDecompose2dScale(y),ee=Z[0]*this.lineWidth/2,te=Z[1]*this.lineWidth/2;H[0]-=ee,H[1]-=te,H[2]+=ee,H[3]+=te}return H}updateClipFromPath(){const p=n.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(p||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(p){this.clipBox=p,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(p=a.PathType.FILL,y=null){return n.Util.intersect(this.clipBox,this.getPathBoundingBox(p,y))}}function G(q,p){if(typeof ImageData<"u"&&p instanceof ImageData){q.putImageData(p,0,0);return}const y=p.height,H=p.width,Z=y%d,ee=(y-Z)/d,te=Z===0?ee:ee+1,le=q.createImageData(H,d);let me=0,ke;const Ce=p.data,Te=le.data;let Me,Le,ue,xe;if(p.kind===n.ImageKind.GRAYSCALE_1BPP){const W=Ce.byteLength,ne=new Uint32Array(Te.buffer,0,Te.byteLength>>2),he=ne.length,ve=H+7>>3,Pe=4294967295,Oe=n.FeatureTest.isLittleEndian?4278190080:255;for(Me=0;Me<te;Me++){for(ue=Me<ee?d:Z,ke=0,Le=0;Le<ue;Le++){const Fe=W-me;let ge=0;const Be=Fe>ve?H:Fe*8-7,$e=Be&-8;let tt=0,Ze=0;for(;ge<$e;ge+=8)Ze=Ce[me++],ne[ke++]=Ze&128?Pe:Oe,ne[ke++]=Ze&64?Pe:Oe,ne[ke++]=Ze&32?Pe:Oe,ne[ke++]=Ze&16?Pe:Oe,ne[ke++]=Ze&8?Pe:Oe,ne[ke++]=Ze&4?Pe:Oe,ne[ke++]=Ze&2?Pe:Oe,ne[ke++]=Ze&1?Pe:Oe;for(;ge<Be;ge++)tt===0&&(Ze=Ce[me++],tt=128),ne[ke++]=Ze&tt?Pe:Oe,tt>>=1}for(;ke<he;)ne[ke++]=0;q.putImageData(le,0,Me*d)}}else if(p.kind===n.ImageKind.RGBA_32BPP){for(Le=0,xe=H*d*4,Me=0;Me<ee;Me++)Te.set(Ce.subarray(me,me+xe)),me+=xe,q.putImageData(le,0,Le),Le+=d;Me<te&&(xe=H*Z*4,Te.set(Ce.subarray(me,me+xe)),q.putImageData(le,0,Le))}else if(p.kind===n.ImageKind.RGB_24BPP)for(ue=d,xe=H*ue,Me=0;Me<te;Me++){for(Me>=ee&&(ue=Z,xe=H*ue),ke=0,Le=xe;Le--;)Te[ke++]=Ce[me++],Te[ke++]=Ce[me++],Te[ke++]=Ce[me++],Te[ke++]=255;q.putImageData(le,0,Me*d)}else throw new Error(`bad image kind: ${p.kind}`)}function z(q,p){if(p.bitmap){q.drawImage(p.bitmap,0,0);return}const y=p.height,H=p.width,Z=y%d,ee=(y-Z)/d,te=Z===0?ee:ee+1,le=q.createImageData(H,d);let me=0;const ke=p.data,Ce=le.data;for(let Te=0;Te<te;Te++){const Me=Te<ee?d:Z;({srcPos:me}=(0,u.convertBlackAndWhiteToRGBA)({src:ke,srcPos:me,dest:Ce,width:H,height:Me,nonBlackColor:0})),q.putImageData(le,0,Te*d)}}function x(q,p){const y=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const H of y)q[H]!==void 0&&(p[H]=q[H]);q.setLineDash!==void 0&&(p.setLineDash(q.getLineDash()),p.lineDashOffset=q.lineDashOffset)}function O(q){if(q.strokeStyle=q.fillStyle="#000000",q.fillRule="nonzero",q.globalAlpha=1,q.lineWidth=1,q.lineCap="butt",q.lineJoin="miter",q.miterLimit=10,q.globalCompositeOperation="source-over",q.font="10px sans-serif",q.setLineDash!==void 0&&(q.setLineDash([]),q.lineDashOffset=0),!n.isNodeJS){const{filter:p}=q;p!=="none"&&p!==""&&(q.filter="none")}}function A(q,p,y,H){const Z=q.length;for(let ee=3;ee<Z;ee+=4){const te=q[ee];if(te===0)q[ee-3]=p,q[ee-2]=y,q[ee-1]=H;else if(te<255){const le=255-te;q[ee-3]=q[ee-3]*te+p*le>>8,q[ee-2]=q[ee-2]*te+y*le>>8,q[ee-1]=q[ee-1]*te+H*le>>8}}}function k(q,p,y){const H=q.length,Z=1/255;for(let ee=3;ee<H;ee+=4){const te=y?y[q[ee]]:q[ee];p[ee]=p[ee]*te*Z|0}}function F(q,p,y){const H=q.length;for(let Z=3;Z<H;Z+=4){const ee=q[Z-3]*77+q[Z-2]*152+q[Z-1]*28;p[Z]=y?p[Z]*y[ee>>8]>>8:p[Z]*ee>>16}}function J(q,p,y,H,Z,ee,te,le,me,ke,Ce){const Te=!!ee,Me=Te?ee[0]:0,Le=Te?ee[1]:0,ue=Te?ee[2]:0,xe=Z==="Luminosity"?F:k,ne=Math.min(H,Math.ceil(1048576/y));for(let he=0;he<H;he+=ne){const ve=Math.min(ne,H-he),Pe=q.getImageData(le-ke,he+(me-Ce),y,ve),Oe=p.getImageData(le,he+me,y,ve);Te&&A(Pe.data,Me,Le,ue),xe(Pe.data,Oe.data,te),p.putImageData(Oe,le,he+me)}}function g(q,p,y,H){const Z=H[0],ee=H[1],te=H[2]-Z,le=H[3]-ee;te===0||le===0||(J(p.context,y,te,le,p.subtype,p.backdrop,p.transferMap,Z,ee,p.offsetX,p.offsetY),q.save(),q.globalAlpha=1,q.globalCompositeOperation="source-over",q.setTransform(1,0,0,1,0,0),q.drawImage(y.canvas,0,0),q.restore())}function U(q,p){const y=n.Util.singularValueDecompose2dScale(q);y[0]=Math.fround(y[0]),y[1]=Math.fround(y[1]);const H=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return p!==void 0?p:y[0]<=H||y[1]<=H}const K=["butt","round","square"],pe=["miter","round","bevel"],re={},ce={},be=class be{constructor(p,y,H,Z,ee,{optionalContentConfig:te,markedContentStack:le=null},me,ke){Se(this,ye);this.ctx=p,this.current=new N(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=y,this.objs=H,this.canvasFactory=Z,this.filterFactory=ee,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=le||[],this.optionalContentConfig=te,this.cachedCanvases=new B(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=me,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ke,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(p,y=null){return typeof p=="string"?p.startsWith("g_")?this.commonObjs.get(p):this.objs.get(p):y}beginDrawing({transform:p,viewport:y,transparency:H=!1,background:Z=null}){const ee=this.ctx.canvas.width,te=this.ctx.canvas.height,le=this.ctx.fillStyle;if(this.ctx.fillStyle=Z||"#ffffff",this.ctx.fillRect(0,0,ee,te),this.ctx.fillStyle=le,H){const me=this.cachedCanvases.getCanvas("transparent",ee,te);this.compositeCtx=this.ctx,this.transparentCanvas=me.canvas,this.ctx=me.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),O(this.ctx),p&&(this.ctx.transform(...p),this.outputScaleX=p[0],this.outputScaleY=p[0]),this.ctx.transform(...y.transform),this.viewportScale=y.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(p,y,H,Z){const ee=p.argsArray,te=p.fnArray;let le=y||0;const me=ee.length;if(me===le)return le;const ke=me-le>S&&typeof H=="function",Ce=ke?Date.now()+c:0;let Te=0;const Me=this.commonObjs,Le=this.objs;let ue;for(;;){if(Z!==void 0&&le===Z.nextBreakPoint)return Z.breakIt(le,H),le;if(ue=te[le],ue!==n.OPS.dependency)this[ue].apply(this,ee[le]);else for(const xe of ee[le]){const W=xe.startsWith("g_")?Me:Le;if(!W.has(xe))return W.get(xe,H),le}if(le++,le===me)return le;if(ke&&++Te>S){if(Date.now()>Ce)return H(),le;Te=0}}}endDrawing(){fe(this,ye,cn).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const p of this._cachedBitmapsMap.values()){for(const y of p.values())typeof HTMLCanvasElement<"u"&&y instanceof HTMLCanvasElement&&(y.width=y.height=0);p.clear()}this._cachedBitmapsMap.clear(),fe(this,ye,un).call(this)}_scaleImage(p,y){const H=p.width,Z=p.height;let ee=Math.max(Math.hypot(y[0],y[1]),1),te=Math.max(Math.hypot(y[2],y[3]),1),le=H,me=Z,ke="prescale1",Ce,Te;for(;ee>2&&le>1||te>2&&me>1;){let Me=le,Le=me;ee>2&&le>1&&(Me=le>=16384?Math.floor(le/2)-1||1:Math.ceil(le/2),ee/=le/Me),te>2&&me>1&&(Le=me>=16384?Math.floor(me/2)-1||1:Math.ceil(me)/2,te/=me/Le),Ce=this.cachedCanvases.getCanvas(ke,Me,Le),Te=Ce.context,Te.clearRect(0,0,Me,Le),Te.drawImage(p,0,0,le,me,0,0,Me,Le),p=Ce.canvas,le=Me,me=Le,ke=ke==="prescale1"?"prescale2":"prescale1"}return{img:p,paintWidth:le,paintHeight:me}}_createMaskCanvas(p){const y=this.ctx,{width:H,height:Z}=p,ee=this.current.fillColor,te=this.current.patternFill,le=(0,i.getCurrentTransform)(y);let me,ke,Ce,Te;if((p.bitmap||p.data)&&p.count>1){const ge=p.bitmap||p.data.buffer;ke=JSON.stringify(te?le:[le.slice(0,4),ee]),me=this._cachedBitmapsMap.get(ge),me||(me=new Map,this._cachedBitmapsMap.set(ge,me));const Be=me.get(ke);if(Be&&!te){const $e=Math.round(Math.min(le[0],le[2])+le[4]),tt=Math.round(Math.min(le[1],le[3])+le[5]);return{canvas:Be,offsetX:$e,offsetY:tt}}Ce=Be}Ce||(Te=this.cachedCanvases.getCanvas("maskCanvas",H,Z),z(Te.context,p));let Me=n.Util.transform(le,[1/H,0,0,-1/Z,0,0]);Me=n.Util.transform(Me,[1,0,0,1,0,-Z]);const Le=n.Util.applyTransform([0,0],Me),ue=n.Util.applyTransform([H,Z],Me),xe=n.Util.normalizeRect([Le[0],Le[1],ue[0],ue[1]]),W=Math.round(xe[2]-xe[0])||1,ne=Math.round(xe[3]-xe[1])||1,he=this.cachedCanvases.getCanvas("fillCanvas",W,ne),ve=he.context,Pe=Math.min(Le[0],ue[0]),Oe=Math.min(Le[1],ue[1]);ve.translate(-Pe,-Oe),ve.transform(...Me),Ce||(Ce=this._scaleImage(Te.canvas,(0,i.getCurrentTransformInverse)(ve)),Ce=Ce.img,me&&te&&me.set(ke,Ce)),ve.imageSmoothingEnabled=U((0,i.getCurrentTransform)(ve),p.interpolate),_(ve,Ce,0,0,Ce.width,Ce.height,0,0,H,Z),ve.globalCompositeOperation="source-in";const Fe=n.Util.transform((0,i.getCurrentTransformInverse)(ve),[1,0,0,1,-Pe,-Oe]);return ve.fillStyle=te?ee.getPattern(y,this,Fe,a.PathType.FILL):ee,ve.fillRect(0,0,H,Z),me&&!te&&(this.cachedCanvases.delete("fillCanvas"),me.set(ke,he.canvas)),{canvas:he.canvas,offsetX:Math.round(Pe),offsetY:Math.round(Oe)}}setLineWidth(p){p!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=p,this.ctx.lineWidth=p}setLineCap(p){this.ctx.lineCap=K[p]}setLineJoin(p){this.ctx.lineJoin=pe[p]}setMiterLimit(p){this.ctx.miterLimit=p}setDash(p,y){const H=this.ctx;H.setLineDash!==void 0&&(H.setLineDash(p),H.lineDashOffset=y)}setRenderingIntent(p){}setFlatness(p){}setGState(p){for(const[y,H]of p)switch(y){case"LW":this.setLineWidth(H);break;case"LC":this.setLineCap(H);break;case"LJ":this.setLineJoin(H);break;case"ML":this.setMiterLimit(H);break;case"D":this.setDash(H[0],H[1]);break;case"RI":this.setRenderingIntent(H);break;case"FL":this.setFlatness(H);break;case"Font":this.setFont(H[0],H[1]);break;case"CA":this.current.strokeAlpha=H;break;case"ca":this.current.fillAlpha=H,this.ctx.globalAlpha=H;break;case"BM":this.ctx.globalCompositeOperation=H;break;case"SMask":this.current.activeSMask=H?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(H);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const p=this.inSMaskMode;this.current.activeSMask&&!p?this.beginSMaskMode():!this.current.activeSMask&&p&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const p=this.ctx.canvas.width,y=this.ctx.canvas.height,H="smaskGroupAt"+this.groupLevel,Z=this.cachedCanvases.getCanvas(H,p,y);this.suspendedCtx=this.ctx,this.ctx=Z.context;const ee=this.ctx;ee.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),x(this.suspendedCtx,ee),T(ee,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),x(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(p){if(!this.current.activeSMask)return;p?(p[0]=Math.floor(p[0]),p[1]=Math.floor(p[1]),p[2]=Math.ceil(p[2]),p[3]=Math.ceil(p[3])):p=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const y=this.current.activeSMask,H=this.suspendedCtx;g(H,y,this.ctx,p),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(x(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const p=this.current;this.stateStack.push(p),this.current=p.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),x(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(p,y,H,Z,ee,te){this.ctx.transform(p,y,H,Z,ee,te),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(p,y,H){const Z=this.ctx,ee=this.current;let te=ee.x,le=ee.y,me,ke;const Ce=(0,i.getCurrentTransform)(Z),Te=Ce[0]===0&&Ce[3]===0||Ce[1]===0&&Ce[2]===0,Me=Te?H.slice(0):null;for(let Le=0,ue=0,xe=p.length;Le<xe;Le++)switch(p[Le]|0){case n.OPS.rectangle:te=y[ue++],le=y[ue++];const W=y[ue++],ne=y[ue++],he=te+W,ve=le+ne;Z.moveTo(te,le),W===0||ne===0?Z.lineTo(he,ve):(Z.lineTo(he,le),Z.lineTo(he,ve),Z.lineTo(te,ve)),Te||ee.updateRectMinMax(Ce,[te,le,he,ve]),Z.closePath();break;case n.OPS.moveTo:te=y[ue++],le=y[ue++],Z.moveTo(te,le),Te||ee.updatePathMinMax(Ce,te,le);break;case n.OPS.lineTo:te=y[ue++],le=y[ue++],Z.lineTo(te,le),Te||ee.updatePathMinMax(Ce,te,le);break;case n.OPS.curveTo:me=te,ke=le,te=y[ue+4],le=y[ue+5],Z.bezierCurveTo(y[ue],y[ue+1],y[ue+2],y[ue+3],te,le),ee.updateCurvePathMinMax(Ce,me,ke,y[ue],y[ue+1],y[ue+2],y[ue+3],te,le,Me),ue+=6;break;case n.OPS.curveTo2:me=te,ke=le,Z.bezierCurveTo(te,le,y[ue],y[ue+1],y[ue+2],y[ue+3]),ee.updateCurvePathMinMax(Ce,me,ke,te,le,y[ue],y[ue+1],y[ue+2],y[ue+3],Me),te=y[ue+2],le=y[ue+3],ue+=4;break;case n.OPS.curveTo3:me=te,ke=le,te=y[ue+2],le=y[ue+3],Z.bezierCurveTo(y[ue],y[ue+1],te,le,te,le),ee.updateCurvePathMinMax(Ce,me,ke,y[ue],y[ue+1],te,le,te,le,Me),ue+=4;break;case n.OPS.closePath:Z.closePath();break}Te&&ee.updateScalingPathMinMax(Ce,Me),ee.setCurrentPoint(te,le)}closePath(){this.ctx.closePath()}stroke(p=!0){const y=this.ctx,H=this.current.strokeColor;y.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof H=="object"&&(H!=null&&H.getPattern)?(y.save(),y.strokeStyle=H.getPattern(y,this,(0,i.getCurrentTransformInverse)(y),a.PathType.STROKE),this.rescaleAndStroke(!1),y.restore()):this.rescaleAndStroke(!0)),p&&this.consumePath(this.current.getClippedPathBoundingBox()),y.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(p=!0){const y=this.ctx,H=this.current.fillColor,Z=this.current.patternFill;let ee=!1;Z&&(y.save(),y.fillStyle=H.getPattern(y,this,(0,i.getCurrentTransformInverse)(y),a.PathType.FILL),ee=!0);const te=this.current.getClippedPathBoundingBox();this.contentVisible&&te!==null&&(this.pendingEOFill?(y.fill("evenodd"),this.pendingEOFill=!1):y.fill()),ee&&y.restore(),p&&this.consumePath(te)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=re}eoClip(){this.pendingClip=ce}beginText(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const p=this.pendingTextPaths,y=this.ctx;if(p===void 0){y.beginPath();return}y.save(),y.beginPath();for(const H of p)y.setTransform(...H.transform),y.translate(H.x,H.y),H.addToPath(y,H.fontSize);y.restore(),y.clip(),y.beginPath(),delete this.pendingTextPaths}setCharSpacing(p){this.current.charSpacing=p}setWordSpacing(p){this.current.wordSpacing=p}setHScale(p){this.current.textHScale=p/100}setLeading(p){this.current.leading=-p}setFont(p,y){var Ce;const H=this.commonObjs.get(p),Z=this.current;if(!H)throw new Error(`Can't find font for ${p}`);if(Z.fontMatrix=H.fontMatrix||n.FONT_IDENTITY_MATRIX,(Z.fontMatrix[0]===0||Z.fontMatrix[3]===0)&&(0,n.warn)("Invalid font matrix for font "+p),y<0?(y=-y,Z.fontDirection=-1):Z.fontDirection=1,this.current.font=H,this.current.fontSize=y,H.isType3Font)return;const ee=H.loadedName||"sans-serif",te=((Ce=H.systemFontInfo)==null?void 0:Ce.css)||`"${ee}", ${H.fallbackName}`;let le="normal";H.black?le="900":H.bold&&(le="bold");const me=H.italic?"italic":"normal";let ke=y;y<$?ke=$:y>h&&(ke=h),this.current.fontSizeScale=y/ke,this.ctx.font=`${me} ${le} ${ke}px ${te}`}setTextRenderingMode(p){this.current.textRenderingMode=p}setTextRise(p){this.current.textRise=p}moveText(p,y){this.current.x=this.current.lineX+=p,this.current.y=this.current.lineY+=y}setLeadingMoveText(p,y){this.setLeading(-y),this.moveText(p,y)}setTextMatrix(p,y,H,Z,ee,te){this.current.textMatrix=[p,y,H,Z,ee,te],this.current.textMatrixScale=Math.hypot(p,y),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(p,y,H,Z){const ee=this.ctx,te=this.current,le=te.font,me=te.textRenderingMode,ke=te.fontSize/te.fontSizeScale,Ce=me&n.TextRenderingMode.FILL_STROKE_MASK,Te=!!(me&n.TextRenderingMode.ADD_TO_PATH_FLAG),Me=te.patternFill&&!le.missingFile;let Le;(le.disableFontFace||Te||Me)&&(Le=le.getPathGenerator(this.commonObjs,p)),le.disableFontFace||Me?(ee.save(),ee.translate(y,H),ee.beginPath(),Le(ee,ke),Z&&ee.setTransform(...Z),(Ce===n.TextRenderingMode.FILL||Ce===n.TextRenderingMode.FILL_STROKE)&&ee.fill(),(Ce===n.TextRenderingMode.STROKE||Ce===n.TextRenderingMode.FILL_STROKE)&&ee.stroke(),ee.restore()):((Ce===n.TextRenderingMode.FILL||Ce===n.TextRenderingMode.FILL_STROKE)&&ee.fillText(p,y,H),(Ce===n.TextRenderingMode.STROKE||Ce===n.TextRenderingMode.FILL_STROKE)&&ee.strokeText(p,y,H)),Te&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,i.getCurrentTransform)(ee),x:y,y:H,fontSize:ke,addToPath:Le})}get isFontSubpixelAAEnabled(){const{context:p}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);p.scale(1.5,1),p.fillText("I",0,10);const y=p.getImageData(0,0,10,10).data;let H=!1;for(let Z=3;Z<y.length;Z+=4)if(y[Z]>0&&y[Z]<255){H=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",H)}showText(p){const y=this.current,H=y.font;if(H.isType3Font)return this.showType3Text(p);const Z=y.fontSize;if(Z===0)return;const ee=this.ctx,te=y.fontSizeScale,le=y.charSpacing,me=y.wordSpacing,ke=y.fontDirection,Ce=y.textHScale*ke,Te=p.length,Me=H.vertical,Le=Me?1:-1,ue=H.defaultVMetrics,xe=Z*y.fontMatrix[0],W=y.textRenderingMode===n.TextRenderingMode.FILL&&!H.disableFontFace&&!y.patternFill;ee.save(),ee.transform(...y.textMatrix),ee.translate(y.x,y.y+y.textRise),ke>0?ee.scale(Ce,-1):ee.scale(Ce,1);let ne;if(y.patternFill){ee.save();const Fe=y.fillColor.getPattern(ee,this,(0,i.getCurrentTransformInverse)(ee),a.PathType.FILL);ne=(0,i.getCurrentTransform)(ee),ee.restore(),ee.fillStyle=Fe}let he=y.lineWidth;const ve=y.textMatrixScale;if(ve===0||he===0){const Fe=y.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;(Fe===n.TextRenderingMode.STROKE||Fe===n.TextRenderingMode.FILL_STROKE)&&(he=this.getSinglePixelWidth())}else he/=ve;if(te!==1&&(ee.scale(te,te),he/=te),ee.lineWidth=he,H.isInvalidPDFjsFont){const Fe=[];let ge=0;for(const Be of p)Fe.push(Be.unicode),ge+=Be.width;ee.fillText(Fe.join(""),0,0),y.x+=ge*xe*Ce,ee.restore(),this.compose();return}let Pe=0,Oe;for(Oe=0;Oe<Te;++Oe){const Fe=p[Oe];if(typeof Fe=="number"){Pe+=Le*Fe*Z/1e3;continue}let ge=!1;const Be=(Fe.isSpace?me:0)+le,$e=Fe.fontChar,tt=Fe.accent;let Ze,at,We=Fe.width;if(Me){const st=Fe.vmetric||ue,ct=-(Fe.vmetric?st[1]:We*.5)*xe,Ie=st[2]*xe;We=st?-st[0]:We,Ze=ct/te,at=(Pe+Ie)/te}else Ze=Pe/te,at=0;if(H.remeasure&&We>0){const st=ee.measureText($e).width*1e3/Z*te;if(We<st&&this.isFontSubpixelAAEnabled){const ct=We/st;ge=!0,ee.save(),ee.scale(ct,1),Ze/=ct}else We!==st&&(Ze+=(We-st)/2e3*Z/te)}if(this.contentVisible&&(Fe.isInFont||H.missingFile)){if(W&&!tt)ee.fillText($e,Ze,at);else if(this.paintChar($e,Ze,at,ne),tt){const st=Ze+Z*tt.offset.x/te,ct=at-Z*tt.offset.y/te;this.paintChar(tt.fontChar,st,ct,ne)}}const Je=Me?We*xe-Be*ke:We*xe+Be*ke;Pe+=Je,ge&&ee.restore()}Me?y.y-=Pe:y.x+=Pe*Ce,ee.restore(),this.compose()}showType3Text(p){const y=this.ctx,H=this.current,Z=H.font,ee=H.fontSize,te=H.fontDirection,le=Z.vertical?1:-1,me=H.charSpacing,ke=H.wordSpacing,Ce=H.textHScale*te,Te=H.fontMatrix||n.FONT_IDENTITY_MATRIX,Me=p.length,Le=H.textRenderingMode===n.TextRenderingMode.INVISIBLE;let ue,xe,W,ne;if(!(Le||ee===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,y.save(),y.transform(...H.textMatrix),y.translate(H.x,H.y),y.scale(Ce,te),ue=0;ue<Me;++ue){if(xe=p[ue],typeof xe=="number"){ne=le*xe*ee/1e3,this.ctx.translate(ne,0),H.x+=ne*Ce;continue}const he=(xe.isSpace?ke:0)+me,ve=Z.charProcOperatorList[xe.operatorListId];if(!ve){(0,n.warn)(`Type3 character "${xe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=xe,this.save(),y.scale(ee,ee),y.transform(...Te),this.executeOperatorList(ve),this.restore()),W=n.Util.applyTransform([xe.width,0],Te)[0]*ee+he,y.translate(W,0),H.x+=W*Ce}y.restore(),this.processingType3=null}}setCharWidth(p,y){}setCharWidthAndBounds(p,y,H,Z,ee,te){this.ctx.rect(H,Z,ee-H,te-Z),this.ctx.clip(),this.endPath()}getColorN_Pattern(p){let y;if(p[0]==="TilingPattern"){const H=p[1],Z=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),ee={createCanvasGraphics:te=>new be(te,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};y=new a.TilingPattern(p,H,this.ctx,ee,Z)}else y=this._getPattern(p[1],p[2]);return y}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(p,y,H){const Z=n.Util.makeHexColor(p,y,H);this.ctx.strokeStyle=Z,this.current.strokeColor=Z}setFillRGBColor(p,y,H){const Z=n.Util.makeHexColor(p,y,H);this.ctx.fillStyle=Z,this.current.fillColor=Z,this.current.patternFill=!1}_getPattern(p,y=null){let H;return this.cachedPatterns.has(p)?H=this.cachedPatterns.get(p):(H=(0,a.getShadingPattern)(this.getObject(p)),this.cachedPatterns.set(p,H)),y&&(H.matrix=y),H}shadingFill(p){if(!this.contentVisible)return;const y=this.ctx;this.save();const H=this._getPattern(p);y.fillStyle=H.getPattern(y,this,(0,i.getCurrentTransformInverse)(y),a.PathType.SHADING);const Z=(0,i.getCurrentTransformInverse)(y);if(Z){const{width:ee,height:te}=y.canvas,[le,me,ke,Ce]=n.Util.getAxialAlignedBoundingBox([0,0,ee,te],Z);this.ctx.fillRect(le,me,ke-le,Ce-me)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,n.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,n.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(p,y){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(p)&&p.length===6&&this.transform(...p),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),y)){const H=y[2]-y[0],Z=y[3]-y[1];this.ctx.rect(y[0],y[1],H,Z),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),y),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(p){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const y=this.ctx;p.isolated||(0,n.info)("TODO: Support non-isolated groups."),p.knockout&&(0,n.warn)("Knockout groups not supported.");const H=(0,i.getCurrentTransform)(y);if(p.matrix&&y.transform(...p.matrix),!p.bbox)throw new Error("Bounding box is required.");let Z=n.Util.getAxialAlignedBoundingBox(p.bbox,(0,i.getCurrentTransform)(y));const ee=[0,0,y.canvas.width,y.canvas.height];Z=n.Util.intersect(Z,ee)||[0,0,0,0];const te=Math.floor(Z[0]),le=Math.floor(Z[1]);let me=Math.max(Math.ceil(Z[2])-te,1),ke=Math.max(Math.ceil(Z[3])-le,1),Ce=1,Te=1;me>f&&(Ce=me/f,me=f),ke>f&&(Te=ke/f,ke=f),this.current.startNewPathAndClipBox([0,0,me,ke]);let Me="groupAt"+this.groupLevel;p.smask&&(Me+="_smask_"+this.smaskCounter++%2);const Le=this.cachedCanvases.getCanvas(Me,me,ke),ue=Le.context;ue.scale(1/Ce,1/Te),ue.translate(-te,-le),ue.transform(...H),p.smask?this.smaskStack.push({canvas:Le.canvas,context:ue,offsetX:te,offsetY:le,scaleX:Ce,scaleY:Te,subtype:p.smask.subtype,backdrop:p.smask.backdrop,transferMap:p.smask.transferMap||null,startTransformInverse:null}):(y.setTransform(1,0,0,1,0,0),y.translate(te,le),y.scale(Ce,Te),y.save()),x(y,ue),this.ctx=ue,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(y),this.groupLevel++}endGroup(p){if(!this.contentVisible)return;this.groupLevel--;const y=this.ctx,H=this.groupStack.pop();if(this.ctx=H,this.ctx.imageSmoothingEnabled=!1,p.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Z=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Z);const ee=n.Util.getAxialAlignedBoundingBox([0,0,y.canvas.width,y.canvas.height],Z);this.ctx.drawImage(y.canvas,0,0),this.ctx.restore(),this.compose(ee)}}beginAnnotation(p,y,H,Z,ee){if(fe(this,ye,cn).call(this),O(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(y)&&y.length===4){const te=y[2]-y[0],le=y[3]-y[1];if(ee&&this.annotationCanvasMap){H=H.slice(),H[4]-=y[0],H[5]-=y[1],y=y.slice(),y[0]=y[1]=0,y[2]=te,y[3]=le;const[me,ke]=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:Ce}=this,Te=Math.ceil(te*this.outputScaleX*Ce),Me=Math.ceil(le*this.outputScaleY*Ce);this.annotationCanvas=this.canvasFactory.create(Te,Me);const{canvas:Le,context:ue}=this.annotationCanvas;this.annotationCanvasMap.set(p,Le),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ue,this.ctx.save(),this.ctx.setTransform(me,0,0,-ke,0,le*ke),O(this.ctx)}else O(this.ctx),this.ctx.rect(y[0],y[1],te,le),this.ctx.clip(),this.endPath()}this.current=new N(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...H),this.transform(...Z)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),fe(this,ye,un).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(p){if(!this.contentVisible)return;const y=p.count;p=this.getObject(p.data,p),p.count=y;const H=this.ctx,Z=this.processingType3;if(Z&&(Z.compiled===void 0&&(Z.compiled=j(p)),Z.compiled)){Z.compiled(H);return}const ee=this._createMaskCanvas(p),te=ee.canvas;H.save(),H.setTransform(1,0,0,1,0,0),H.drawImage(te,ee.offsetX,ee.offsetY),H.restore(),this.compose()}paintImageMaskXObjectRepeat(p,y,H=0,Z=0,ee,te){if(!this.contentVisible)return;p=this.getObject(p.data,p);const le=this.ctx;le.save();const me=(0,i.getCurrentTransform)(le);le.transform(y,H,Z,ee,0,0);const ke=this._createMaskCanvas(p);le.setTransform(1,0,0,1,ke.offsetX-me[4],ke.offsetY-me[5]);for(let Ce=0,Te=te.length;Ce<Te;Ce+=2){const Me=n.Util.transform(me,[y,H,Z,ee,te[Ce],te[Ce+1]]),[Le,ue]=n.Util.applyTransform([0,0],Me);le.drawImage(ke.canvas,Le,ue)}le.restore(),this.compose()}paintImageMaskXObjectGroup(p){if(!this.contentVisible)return;const y=this.ctx,H=this.current.fillColor,Z=this.current.patternFill;for(const ee of p){const{data:te,width:le,height:me,transform:ke}=ee,Ce=this.cachedCanvases.getCanvas("maskCanvas",le,me),Te=Ce.context;Te.save();const Me=this.getObject(te,ee);z(Te,Me),Te.globalCompositeOperation="source-in",Te.fillStyle=Z?H.getPattern(Te,this,(0,i.getCurrentTransformInverse)(y),a.PathType.FILL):H,Te.fillRect(0,0,le,me),Te.restore(),y.save(),y.transform(...ke),y.scale(1,-1),_(y,Ce.canvas,0,0,le,me,0,-1,1,1),y.restore()}this.compose()}paintImageXObject(p){if(!this.contentVisible)return;const y=this.getObject(p);if(!y){(0,n.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(y)}paintImageXObjectRepeat(p,y,H,Z){if(!this.contentVisible)return;const ee=this.getObject(p);if(!ee){(0,n.warn)("Dependent image isn't ready yet");return}const te=ee.width,le=ee.height,me=[];for(let ke=0,Ce=Z.length;ke<Ce;ke+=2)me.push({transform:[y,0,0,H,Z[ke],Z[ke+1]],x:0,y:0,w:te,h:le});this.paintInlineImageXObjectGroup(ee,me)}applyTransferMapsToCanvas(p){return this.current.transferMaps!=="none"&&(p.filter=this.current.transferMaps,p.drawImage(p.canvas,0,0),p.filter="none"),p.canvas}applyTransferMapsToBitmap(p){if(this.current.transferMaps==="none")return p.bitmap;const{bitmap:y,width:H,height:Z}=p,ee=this.cachedCanvases.getCanvas("inlineImage",H,Z),te=ee.context;return te.filter=this.current.transferMaps,te.drawImage(y,0,0),te.filter="none",ee.canvas}paintInlineImageXObject(p){if(!this.contentVisible)return;const y=p.width,H=p.height,Z=this.ctx;if(this.save(),!n.isNodeJS){const{filter:le}=Z;le!=="none"&&le!==""&&(Z.filter="none")}Z.scale(1/y,-1/H);let ee;if(p.bitmap)ee=this.applyTransferMapsToBitmap(p);else if(typeof HTMLElement=="function"&&p instanceof HTMLElement||!p.data)ee=p;else{const me=this.cachedCanvases.getCanvas("inlineImage",y,H).context;G(me,p),ee=this.applyTransferMapsToCanvas(me)}const te=this._scaleImage(ee,(0,i.getCurrentTransformInverse)(Z));Z.imageSmoothingEnabled=U((0,i.getCurrentTransform)(Z),p.interpolate),_(Z,te.img,0,0,te.paintWidth,te.paintHeight,0,-H,y,H),this.compose(),this.restore()}paintInlineImageXObjectGroup(p,y){if(!this.contentVisible)return;const H=this.ctx;let Z;if(p.bitmap)Z=p.bitmap;else{const ee=p.width,te=p.height,me=this.cachedCanvases.getCanvas("inlineImage",ee,te).context;G(me,p),Z=this.applyTransferMapsToCanvas(me)}for(const ee of y)H.save(),H.transform(...ee.transform),H.scale(1,-1),_(H,Z,ee.x,ee.y,ee.w,ee.h,0,-1,1,1),H.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(p){}markPointProps(p,y){}beginMarkedContent(p){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(p,y){p==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(y)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(p){const y=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(p);const H=this.ctx;this.pendingClip&&(y||(this.pendingClip===ce?H.clip("evenodd"):H.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),H.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const p=(0,i.getCurrentTransform)(this.ctx);if(p[1]===0&&p[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(p[0]),Math.abs(p[3]));else{const y=Math.abs(p[0]*p[3]-p[2]*p[1]),H=Math.hypot(p[0],p[2]),Z=Math.hypot(p[1],p[3]);this._cachedGetSinglePixelWidth=Math.max(H,Z)/y}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:p}=this.current,{a:y,b:H,c:Z,d:ee}=this.ctx.getTransform();let te,le;if(H===0&&Z===0){const me=Math.abs(y),ke=Math.abs(ee);if(me===ke)if(p===0)te=le=1/me;else{const Ce=me*p;te=le=Ce<1?1/Ce:1}else if(p===0)te=1/me,le=1/ke;else{const Ce=me*p,Te=ke*p;te=Ce<1?1/Ce:1,le=Te<1?1/Te:1}}else{const me=Math.abs(y*ee-H*Z),ke=Math.hypot(y,H),Ce=Math.hypot(Z,ee);if(p===0)te=Ce/me,le=ke/me;else{const Te=p*me;te=Ce>Te?Ce/Te:1,le=ke>Te?ke/Te:1}}this._cachedScaleForStroking[0]=te,this._cachedScaleForStroking[1]=le}return this._cachedScaleForStroking}rescaleAndStroke(p){const{ctx:y}=this,{lineWidth:H}=this.current,[Z,ee]=this.getScaleForStroking();if(y.lineWidth=H||1,Z===1&&ee===1){y.stroke();return}const te=y.getLineDash();if(p&&y.save(),y.scale(Z,ee),te.length>0){const le=Math.max(Z,ee);y.setLineDash(te.map(me=>me/le)),y.lineDashOffset/=le}y.stroke(),p&&y.restore()}isContentVisible(){for(let p=this.markedContentStack.length-1;p>=0;p--)if(!this.markedContentStack[p].visible)return!1;return!0}};ye=new WeakSet,cn=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},un=function(){if(this.pageColors){const p=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(p!=="none"){const y=this.ctx.filter;this.ctx.filter=p,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=y}}};let ie=be;e.CanvasGraphics=ie;for(const q in n.OPS)ie.prototype[q]!==void 0&&(ie.prototype[n.OPS[q]]=ie.prototype[q])},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=d;var n=s(1),i=s(6);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=a;function u(j,N){if(!N)return;const G=N[2]-N[0],z=N[3]-N[1],x=new Path2D;x.rect(N[0],N[1],G,z),j.clip(x)}class ${constructor(){this.constructor===$&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class h extends ${constructor(N){super(),this._type=N[1],this._bbox=N[2],this._colorStops=N[3],this._p0=N[4],this._p1=N[5],this._r0=N[6],this._r1=N[7],this.matrix=null}_createGradient(N){let G;this._type==="axial"?G=N.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(G=N.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const z of this._colorStops)G.addColorStop(z[0],z[1]);return G}getPattern(N,G,z,x){let O;if(x===a.STROKE||x===a.FILL){const A=G.current.getClippedPathBoundingBox(x,(0,i.getCurrentTransform)(N))||[0,0,0,0],k=Math.ceil(A[2]-A[0])||1,F=Math.ceil(A[3]-A[1])||1,J=G.cachedCanvases.getCanvas("pattern",k,F,!0),g=J.context;g.clearRect(0,0,g.canvas.width,g.canvas.height),g.beginPath(),g.rect(0,0,g.canvas.width,g.canvas.height),g.translate(-A[0],-A[1]),z=n.Util.transform(z,[1,0,0,1,A[0],A[1]]),g.transform(...G.baseTransform),this.matrix&&g.transform(...this.matrix),u(g,this._bbox),g.fillStyle=this._createGradient(g),g.fill(),O=N.createPattern(J.canvas,"no-repeat");const U=new DOMMatrix(z);O.setTransform(U)}else u(N,this._bbox),O=this._createGradient(N);return O}}function f(j,N,G,z,x,O,A,k){const F=N.coords,J=N.colors,g=j.data,U=j.width*4;let K;F[G+1]>F[z+1]&&(K=G,G=z,z=K,K=O,O=A,A=K),F[z+1]>F[x+1]&&(K=z,z=x,x=K,K=A,A=k,k=K),F[G+1]>F[z+1]&&(K=G,G=z,z=K,K=O,O=A,A=K);const pe=(F[G]+N.offsetX)*N.scaleX,re=(F[G+1]+N.offsetY)*N.scaleY,ce=(F[z]+N.offsetX)*N.scaleX,ie=(F[z+1]+N.offsetY)*N.scaleY,ye=(F[x]+N.offsetX)*N.scaleX,Y=(F[x+1]+N.offsetY)*N.scaleY;if(re>=Y)return;const ae=J[O],be=J[O+1],q=J[O+2],p=J[A],y=J[A+1],H=J[A+2],Z=J[k],ee=J[k+1],te=J[k+2],le=Math.round(re),me=Math.round(Y);let ke,Ce,Te,Me,Le,ue,xe,W;for(let ne=le;ne<=me;ne++){if(ne<ie){const Fe=ne<re?0:(re-ne)/(re-ie);ke=pe-(pe-ce)*Fe,Ce=ae-(ae-p)*Fe,Te=be-(be-y)*Fe,Me=q-(q-H)*Fe}else{let Fe;ne>Y?Fe=1:ie===Y?Fe=0:Fe=(ie-ne)/(ie-Y),ke=ce-(ce-ye)*Fe,Ce=p-(p-Z)*Fe,Te=y-(y-ee)*Fe,Me=H-(H-te)*Fe}let he;ne<re?he=0:ne>Y?he=1:he=(re-ne)/(re-Y),Le=pe-(pe-ye)*he,ue=ae-(ae-Z)*he,xe=be-(be-ee)*he,W=q-(q-te)*he;const ve=Math.round(Math.min(ke,Le)),Pe=Math.round(Math.max(ke,Le));let Oe=U*ne+ve*4;for(let Fe=ve;Fe<=Pe;Fe++)he=(ke-Fe)/(ke-Le),he<0?he=0:he>1&&(he=1),g[Oe++]=Ce-(Ce-ue)*he|0,g[Oe++]=Te-(Te-xe)*he|0,g[Oe++]=Me-(Me-W)*he|0,g[Oe++]=255}}function c(j,N,G){const z=N.coords,x=N.colors;let O,A;switch(N.type){case"lattice":const k=N.verticesPerRow,F=Math.floor(z.length/k)-1,J=k-1;for(O=0;O<F;O++){let g=O*k;for(let U=0;U<J;U++,g++)f(j,G,z[g],z[g+1],z[g+k],x[g],x[g+1],x[g+k]),f(j,G,z[g+k+1],z[g+1],z[g+k],x[g+k+1],x[g+1],x[g+k])}break;case"triangles":for(O=0,A=z.length;O<A;O+=3)f(j,G,z[O],z[O+1],z[O+2],x[O],x[O+1],x[O+2]);break;default:throw new Error("illegal figure")}}class S extends ${constructor(N){super(),this._coords=N[2],this._colors=N[3],this._figures=N[4],this._bounds=N[5],this._bbox=N[7],this._background=N[8],this.matrix=null}_createMeshCanvas(N,G,z){const k=Math.floor(this._bounds[0]),F=Math.floor(this._bounds[1]),J=Math.ceil(this._bounds[2])-k,g=Math.ceil(this._bounds[3])-F,U=Math.min(Math.ceil(Math.abs(J*N[0]*1.1)),3e3),K=Math.min(Math.ceil(Math.abs(g*N[1]*1.1)),3e3),pe=J/U,re=g/K,ce={coords:this._coords,colors:this._colors,offsetX:-k,offsetY:-F,scaleX:1/pe,scaleY:1/re},ie=U+2*2,ye=K+2*2,Y=z.getCanvas("mesh",ie,ye,!1),ae=Y.context,be=ae.createImageData(U,K);if(G){const p=be.data;for(let y=0,H=p.length;y<H;y+=4)p[y]=G[0],p[y+1]=G[1],p[y+2]=G[2],p[y+3]=255}for(const p of this._figures)c(be,p,ce);return ae.putImageData(be,2,2),{canvas:Y.canvas,offsetX:k-2*pe,offsetY:F-2*re,scaleX:pe,scaleY:re}}getPattern(N,G,z,x){u(N,this._bbox);let O;if(x===a.SHADING)O=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(N));else if(O=n.Util.singularValueDecompose2dScale(G.baseTransform),this.matrix){const k=n.Util.singularValueDecompose2dScale(this.matrix);O=[O[0]*k[0],O[1]*k[1]]}const A=this._createMeshCanvas(O,x===a.SHADING?null:this._background,G.cachedCanvases);return x!==a.SHADING&&(N.setTransform(...G.baseTransform),this.matrix&&N.transform(...this.matrix)),N.translate(A.offsetX,A.offsetY),N.scale(A.scaleX,A.scaleY),N.createPattern(A.canvas,"no-repeat")}}class E extends ${getPattern(){return"hotpink"}}function d(j){switch(j[0]){case"RadialAxial":return new h(j);case"Mesh":return new S(j);case"Dummy":return new E}throw new Error(`Unknown IR type: ${j[0]}`)}const T={COLORED:1,UNCOLORED:2},_=class _{constructor(N,G,z,x,O){this.operatorList=N[2],this.matrix=N[3]||[1,0,0,1,0,0],this.bbox=N[4],this.xstep=N[5],this.ystep=N[6],this.paintType=N[7],this.tilingType=N[8],this.color=G,this.ctx=z,this.canvasGraphicsFactory=x,this.baseTransform=O}createPatternCanvas(N){const G=this.operatorList,z=this.bbox,x=this.xstep,O=this.ystep,A=this.paintType,k=this.tilingType,F=this.color,J=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+k);const g=z[0],U=z[1],K=z[2],pe=z[3],re=n.Util.singularValueDecompose2dScale(this.matrix),ce=n.Util.singularValueDecompose2dScale(this.baseTransform),ie=[re[0]*ce[0],re[1]*ce[1]],ye=this.getSizeAndScale(x,this.ctx.canvas.width,ie[0]),Y=this.getSizeAndScale(O,this.ctx.canvas.height,ie[1]),ae=N.cachedCanvases.getCanvas("pattern",ye.size,Y.size,!0),be=ae.context,q=J.createCanvasGraphics(be);q.groupLevel=N.groupLevel,this.setFillAndStrokeStyleToContext(q,A,F);let p=g,y=U,H=K,Z=pe;return g<0&&(p=0,H+=Math.abs(g)),U<0&&(y=0,Z+=Math.abs(U)),be.translate(-(ye.scale*p),-(Y.scale*y)),q.transform(ye.scale,0,0,Y.scale,0,0),be.save(),this.clipBbox(q,p,y,H,Z),q.baseTransform=(0,i.getCurrentTransform)(q.ctx),q.executeOperatorList(G),q.endDrawing(),{canvas:ae.canvas,scaleX:ye.scale,scaleY:Y.scale,offsetX:p,offsetY:y}}getSizeAndScale(N,G,z){N=Math.abs(N);const x=Math.max(_.MAX_PATTERN_SIZE,G);let O=Math.ceil(N*z);return O>=x?O=x:z=O/N,{scale:z,size:O}}clipBbox(N,G,z,x,O){const A=x-G,k=O-z;N.ctx.rect(G,z,A,k),N.current.updateRectMinMax((0,i.getCurrentTransform)(N.ctx),[G,z,x,O]),N.clip(),N.endPath()}setFillAndStrokeStyleToContext(N,G,z){const x=N.ctx,O=N.current;switch(G){case T.COLORED:const A=this.ctx;x.fillStyle=A.fillStyle,x.strokeStyle=A.strokeStyle,O.fillColor=A.fillStyle,O.strokeColor=A.strokeStyle;break;case T.UNCOLORED:const k=n.Util.makeHexColor(z[0],z[1],z[2]);x.fillStyle=k,x.strokeStyle=k,O.fillColor=k,O.strokeColor=k;break;default:throw new n.FormatError(`Unsupported paint type: ${G}`)}}getPattern(N,G,z,x){let O=z;x!==a.SHADING&&(O=n.Util.transform(O,G.baseTransform),this.matrix&&(O=n.Util.transform(O,this.matrix)));const A=this.createPatternCanvas(G);let k=new DOMMatrix(O);k=k.translate(A.offsetX,A.offsetY),k=k.scale(1/A.scaleX,1/A.scaleY);const F=N.createPattern(A.canvas,"repeat");return F.setTransform(k),F}};ht(_,"MAX_PATTERN_SIZE",3e3);let B=_;e.TilingPattern=B},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.convertBlackAndWhiteToRGBA=a,e.convertToRGBA=i,e.grayToRGBA=$;var n=s(1);function i(h){switch(h.kind){case n.ImageKind.GRAYSCALE_1BPP:return a(h);case n.ImageKind.RGB_24BPP:return u(h)}return null}function a({src:h,srcPos:f=0,dest:c,width:S,height:E,nonBlackColor:d=4294967295,inverseDecode:T=!1}){const B=n.FeatureTest.isLittleEndian?4278190080:255,[_,j]=T?[d,B]:[B,d],N=S>>3,G=S&7,z=h.length;c=new Uint32Array(c.buffer);let x=0;for(let O=0;O<E;O++){for(const k=f+N;f<k;f++){const F=f<z?h[f]:255;c[x++]=F&128?j:_,c[x++]=F&64?j:_,c[x++]=F&32?j:_,c[x++]=F&16?j:_,c[x++]=F&8?j:_,c[x++]=F&4?j:_,c[x++]=F&2?j:_,c[x++]=F&1?j:_}if(G===0)continue;const A=f<z?h[f++]:255;for(let k=0;k<G;k++)c[x++]=A&1<<7-k?j:_}return{srcPos:f,destPos:x}}function u({src:h,srcPos:f=0,dest:c,destPos:S=0,width:E,height:d}){let T=0;const B=h.length>>2,_=new Uint32Array(h.buffer,f,B);if(n.FeatureTest.isLittleEndian){for(;T<B-2;T+=3,S+=4){const j=_[T],N=_[T+1],G=_[T+2];c[S]=j|4278190080,c[S+1]=j>>>24|N<<8|4278190080,c[S+2]=N>>>16|G<<16|4278190080,c[S+3]=G>>>8|4278190080}for(let j=T*4,N=h.length;j<N;j+=3)c[S++]=h[j]|h[j+1]<<8|h[j+2]<<16|4278190080}else{for(;T<B-2;T+=3,S+=4){const j=_[T],N=_[T+1],G=_[T+2];c[S]=j|255,c[S+1]=j<<24|N>>>8|255,c[S+2]=N<<16|G>>>16|255,c[S+3]=G<<8|255}for(let j=T*4,N=h.length;j<N;j+=3)c[S++]=h[j]<<24|h[j+1]<<16|h[j+2]<<8|255}return{srcPos:f,destPos:S}}function $(h,f){if(n.FeatureTest.isLittleEndian)for(let c=0,S=h.length;c<S;c++)f[c]=h[c]*65793|4278190080;else for(let c=0,S=h.length;c<S;c++)f[c]=h[c]*16843008|255}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const s=Object.create(null);e.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(t,e,s)=>{var h,Bn,zn,Nt;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=s(1);const i={UNKNOWN:0,DATA:1,ERROR:2},a={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function u(E){switch(E instanceof Error||typeof E=="object"&&E!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),E.name){case"AbortException":return new n.AbortException(E.message);case"MissingPDFException":return new n.MissingPDFException(E.message);case"PasswordException":return new n.PasswordException(E.message,E.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new n.UnknownErrorException(E.message,E.details);default:return new n.UnknownErrorException(E.message,E.toString())}}class ${constructor(d,T,B){Se(this,h);this.sourceName=d,this.targetName=T,this.comObj=B,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=_=>{const j=_.data;if(j.targetName!==this.sourceName)return;if(j.stream){fe(this,h,zn).call(this,j);return}if(j.callback){const G=j.callbackId,z=this.callbackCapabilities[G];if(!z)throw new Error(`Cannot resolve callback ${G}`);if(delete this.callbackCapabilities[G],j.callback===i.DATA)z.resolve(j.data);else if(j.callback===i.ERROR)z.reject(u(j.reason));else throw new Error("Unexpected callback case");return}const N=this.actionHandler[j.action];if(!N)throw new Error(`Unknown action from worker: ${j.action}`);if(j.callbackId){const G=this.sourceName,z=j.sourceName;new Promise(function(x){x(N(j.data))}).then(function(x){B.postMessage({sourceName:G,targetName:z,callback:i.DATA,callbackId:j.callbackId,data:x})},function(x){B.postMessage({sourceName:G,targetName:z,callback:i.ERROR,callbackId:j.callbackId,reason:u(x)})});return}if(j.streamId){fe(this,h,Bn).call(this,j);return}N(j.data)},B.addEventListener("message",this._onComObjOnMessage)}on(d,T){const B=this.actionHandler;if(B[d])throw new Error(`There is already an actionName called "${d}"`);B[d]=T}send(d,T,B){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,data:T},B)}sendWithPromise(d,T,B){const _=this.callbackId++,j=new n.PromiseCapability;this.callbackCapabilities[_]=j;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:d,callbackId:_,data:T},B)}catch(N){j.reject(N)}return j.promise}sendWithStream(d,T,B,_){const j=this.streamId++,N=this.sourceName,G=this.targetName,z=this.comObj;return new ReadableStream({start:x=>{const O=new n.PromiseCapability;return this.streamControllers[j]={controller:x,startCall:O,pullCall:null,cancelCall:null,isClosed:!1},z.postMessage({sourceName:N,targetName:G,action:d,streamId:j,data:T,desiredSize:x.desiredSize},_),O.promise},pull:x=>{const O=new n.PromiseCapability;return this.streamControllers[j].pullCall=O,z.postMessage({sourceName:N,targetName:G,stream:a.PULL,streamId:j,desiredSize:x.desiredSize}),O.promise},cancel:x=>{(0,n.assert)(x instanceof Error,"cancel must have a valid reason");const O=new n.PromiseCapability;return this.streamControllers[j].cancelCall=O,this.streamControllers[j].isClosed=!0,z.postMessage({sourceName:N,targetName:G,stream:a.CANCEL,streamId:j,reason:u(x)}),O.promise}},B)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}h=new WeakSet,Bn=function(d){const T=d.streamId,B=this.sourceName,_=d.sourceName,j=this.comObj,N=this,G=this.actionHandler[d.action],z={enqueue(x,O=1,A){if(this.isCancelled)return;const k=this.desiredSize;this.desiredSize-=O,k>0&&this.desiredSize<=0&&(this.sinkCapability=new n.PromiseCapability,this.ready=this.sinkCapability.promise),j.postMessage({sourceName:B,targetName:_,stream:a.ENQUEUE,streamId:T,chunk:x},A)},close(){this.isCancelled||(this.isCancelled=!0,j.postMessage({sourceName:B,targetName:_,stream:a.CLOSE,streamId:T}),delete N.streamSinks[T])},error(x){(0,n.assert)(x instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:B,targetName:_,stream:a.ERROR,streamId:T,reason:u(x)}))},sinkCapability:new n.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:d.desiredSize,ready:null};z.sinkCapability.resolve(),z.ready=z.sinkCapability.promise,this.streamSinks[T]=z,new Promise(function(x){x(G(d.data,z))}).then(function(){j.postMessage({sourceName:B,targetName:_,stream:a.START_COMPLETE,streamId:T,success:!0})},function(x){j.postMessage({sourceName:B,targetName:_,stream:a.START_COMPLETE,streamId:T,reason:u(x)})})},zn=function(d){const T=d.streamId,B=this.sourceName,_=d.sourceName,j=this.comObj,N=this.streamControllers[T],G=this.streamSinks[T];switch(d.stream){case a.START_COMPLETE:d.success?N.startCall.resolve():N.startCall.reject(u(d.reason));break;case a.PULL_COMPLETE:d.success?N.pullCall.resolve():N.pullCall.reject(u(d.reason));break;case a.PULL:if(!G){j.postMessage({sourceName:B,targetName:_,stream:a.PULL_COMPLETE,streamId:T,success:!0});break}G.desiredSize<=0&&d.desiredSize>0&&G.sinkCapability.resolve(),G.desiredSize=d.desiredSize,new Promise(function(z){var x;z((x=G.onPull)==null?void 0:x.call(G))}).then(function(){j.postMessage({sourceName:B,targetName:_,stream:a.PULL_COMPLETE,streamId:T,success:!0})},function(z){j.postMessage({sourceName:B,targetName:_,stream:a.PULL_COMPLETE,streamId:T,reason:u(z)})});break;case a.ENQUEUE:if((0,n.assert)(N,"enqueue should have stream controller"),N.isClosed)break;N.controller.enqueue(d.chunk);break;case a.CLOSE:if((0,n.assert)(N,"close should have stream controller"),N.isClosed)break;N.isClosed=!0,N.controller.close(),fe(this,h,Nt).call(this,N,T);break;case a.ERROR:(0,n.assert)(N,"error should have stream controller"),N.controller.error(u(d.reason)),fe(this,h,Nt).call(this,N,T);break;case a.CANCEL_COMPLETE:d.success?N.cancelCall.resolve():N.cancelCall.reject(u(d.reason)),fe(this,h,Nt).call(this,N,T);break;case a.CANCEL:if(!G)break;new Promise(function(z){var x;z((x=G.onCancel)==null?void 0:x.call(G,u(d.reason)))}).then(function(){j.postMessage({sourceName:B,targetName:_,stream:a.CANCEL_COMPLETE,streamId:T,success:!0})},function(z){j.postMessage({sourceName:B,targetName:_,stream:a.CANCEL_COMPLETE,streamId:T,reason:u(z)})}),G.sinkCapability.reject(u(d.reason)),G.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}},Nt=async function(d,T){var B,_,j;await Promise.allSettled([(B=d.startCall)==null?void 0:B.promise,(_=d.pullCall)==null?void 0:_.promise,(j=d.cancelCall)==null?void 0:j.promise]),delete this.streamControllers[T]},e.MessageHandler=$},(t,e,s)=>{var a,u;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=s(1);class i{constructor({parsedData:h,rawData:f}){Se(this,a);Se(this,u);we(this,a,h),we(this,u,f)}getRaw(){return o(this,u)}get(h){return o(this,a).get(h)??null}getAll(){return(0,n.objectFromMap)(o(this,a))}has(h){return o(this,a).has(h)}}a=new WeakMap,u=new WeakMap,e.Metadata=i},(t,e,s)=>{var h,f,c,S,E,d,hn;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=s(1),i=s(8);const a=Symbol("INTERNAL");class u{constructor(_,j){Se(this,h,!0);this.name=_,this.intent=j}get visible(){return o(this,h)}_setVisible(_,j){_!==a&&(0,n.unreachable)("Internal method `_setVisible` called."),we(this,h,j)}}h=new WeakMap;class ${constructor(_){Se(this,d);Se(this,f,null);Se(this,c,new Map);Se(this,S,null);Se(this,E,null);if(this.name=null,this.creator=null,_!==null){this.name=_.name,this.creator=_.creator,we(this,E,_.order);for(const j of _.groups)o(this,c).set(j.id,new u(j.name,j.intent));if(_.baseState==="OFF")for(const j of o(this,c).values())j._setVisible(a,!1);for(const j of _.on)o(this,c).get(j)._setVisible(a,!0);for(const j of _.off)o(this,c).get(j)._setVisible(a,!1);we(this,S,this.getHash())}}isVisible(_){if(o(this,c).size===0)return!0;if(!_)return(0,n.warn)("Optional content group not defined."),!0;if(_.type==="OCG")return o(this,c).has(_.id)?o(this,c).get(_.id).visible:((0,n.warn)(`Optional content group not found: ${_.id}`),!0);if(_.type==="OCMD"){if(_.expression)return fe(this,d,hn).call(this,_.expression);if(!_.policy||_.policy==="AnyOn"){for(const j of _.ids){if(!o(this,c).has(j))return(0,n.warn)(`Optional content group not found: ${j}`),!0;if(o(this,c).get(j).visible)return!0}return!1}else if(_.policy==="AllOn"){for(const j of _.ids){if(!o(this,c).has(j))return(0,n.warn)(`Optional content group not found: ${j}`),!0;if(!o(this,c).get(j).visible)return!1}return!0}else if(_.policy==="AnyOff"){for(const j of _.ids){if(!o(this,c).has(j))return(0,n.warn)(`Optional content group not found: ${j}`),!0;if(!o(this,c).get(j).visible)return!0}return!1}else if(_.policy==="AllOff"){for(const j of _.ids){if(!o(this,c).has(j))return(0,n.warn)(`Optional content group not found: ${j}`),!0;if(o(this,c).get(j).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${_.policy}.`),!0}return(0,n.warn)(`Unknown group type ${_.type}.`),!0}setVisibility(_,j=!0){if(!o(this,c).has(_)){(0,n.warn)(`Optional content group not found: ${_}`);return}o(this,c).get(_)._setVisible(a,!!j),we(this,f,null)}get hasInitialVisibility(){return o(this,S)===null||this.getHash()===o(this,S)}getOrder(){return o(this,c).size?o(this,E)?o(this,E).slice():[...o(this,c).keys()]:null}getGroups(){return o(this,c).size>0?(0,n.objectFromMap)(o(this,c)):null}getGroup(_){return o(this,c).get(_)||null}getHash(){if(o(this,f)!==null)return o(this,f);const _=new i.MurmurHash3_64;for(const[j,N]of o(this,c))_.update(`${j}:${N.visible}`);return we(this,f,_.hexdigest())}}f=new WeakMap,c=new WeakMap,S=new WeakMap,E=new WeakMap,d=new WeakSet,hn=function(_){const j=_.length;if(j<2)return!0;const N=_[0];for(let G=1;G<j;G++){const z=_[G];let x;if(Array.isArray(z))x=fe(this,d,hn).call(this,z);else if(o(this,c).has(z))x=o(this,c).get(z).visible;else return(0,n.warn)(`Optional content group not found: ${z}`),!0;switch(N){case"And":if(!x)return!1;break;case"Or":if(x)return!0;break;case"Not":return!x;default:return!0}}return N==="And"},e.OptionalContentConfig=$},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=s(1),i=s(6);class a{constructor({length:f,initialData:c,progressiveDone:S=!1,contentDispositionFilename:E=null,disableRange:d=!1,disableStream:T=!1},B){if((0,n.assert)(B,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=S,this._contentDispositionFilename=E,(c==null?void 0:c.length)>0){const _=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;this._queuedChunks.push(_)}this._pdfDataRangeTransport=B,this._isStreamingSupported=!T,this._isRangeSupported=!d,this._contentLength=f,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((_,j)=>{this._onReceiveData({begin:_,chunk:j})}),this._pdfDataRangeTransport.addProgressListener((_,j)=>{this._onProgress({loaded:_,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener(_=>{this._onReceiveData({chunk:_})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:f,chunk:c}){const S=c instanceof Uint8Array&&c.byteLength===c.buffer.byteLength?c.buffer:new Uint8Array(c).buffer;if(f===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(S):this._queuedChunks.push(S);else{const E=this._rangeReaders.some(function(d){return d._begin!==f?!1:(d._enqueue(S),!0)});(0,n.assert)(E,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var f;return((f=this._fullRequestReader)==null?void 0:f._loaded)??0}_onProgress(f){var c,S,E,d;f.total===void 0?(S=(c=this._rangeReaders[0])==null?void 0:c.onProgress)==null||S.call(c,{loaded:f.loaded}):(d=(E=this._fullRequestReader)==null?void 0:E.onProgress)==null||d.call(E,{loaded:f.loaded,total:f.total})}_onProgressiveDone(){var f;(f=this._fullRequestReader)==null||f.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const c=this._rangeReaders.indexOf(f);c>=0&&this._rangeReaders.splice(c,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new u(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,c){if(c<=this._progressiveDataLength)return null;const S=new $(this,f,c);return this._pdfDataRangeTransport.requestDataRange(f,c),this._rangeReaders.push(S),S}cancelAllRequests(f){var c;(c=this._fullRequestReader)==null||c.cancel(f);for(const S of this._rangeReaders.slice(0))S.cancel(f);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=a;class u{constructor(f,c,S=!1,E=null){this._stream=f,this._done=S||!1,this._filename=(0,i.isPdfFile)(E)?E:null,this._queuedChunks=c||[],this._loaded=0;for(const d of this._queuedChunks)this._loaded+=d.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const f=new n.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ${constructor(f,c,S){this._stream=f,this._begin=c,this._end=S,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(this._requests.length===0)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const c=this._queuedChunk;return this._queuedChunk=null,{value:c,done:!1}}if(this._done)return{value:void 0,done:!0};const f=new n.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const c of this._requests)c.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=s(1),i=s(20);function a(S,E,d){return{method:"GET",headers:S,signal:d.signal,mode:"cors",credentials:E?"include":"same-origin",redirect:"follow"}}function u(S){const E=new Headers;for(const d in S){const T=S[d];T!==void 0&&E.append(d,T)}return E}function $(S){return S instanceof Uint8Array?S.buffer:S instanceof ArrayBuffer?S:((0,n.warn)(`getArrayBuffer - unexpected data format: ${S}`),new Uint8Array(S).buffer)}class h{constructor(E){this.source=E,this.isHttp=/^https?:/i.test(E.url),this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var E;return((E=this._fullRequestReader)==null?void 0:E._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}getRangeReader(E,d){if(d<=this._progressiveDataLength)return null;const T=new c(this,E,d);return this._rangeRequestReaders.push(T),T}cancelAllRequests(E){var d;(d=this._fullRequestReader)==null||d.cancel(E);for(const T of this._rangeRequestReaders.slice(0))T.cancel(E)}}e.PDFFetchStream=h;class f{constructor(E){this._stream=E,this._reader=null,this._loaded=0,this._filename=null;const d=E.source;this._withCredentials=d.withCredentials||!1,this._contentLength=d.length,this._headersCapability=new n.PromiseCapability,this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._headers=u(this._stream.httpHeaders);const T=d.url;fetch(T,a(this._headers,this._withCredentials,this._abortController)).then(B=>{if(!(0,i.validateResponseStatus)(B.status))throw(0,i.createResponseStatusError)(B.status,T);this._reader=B.body.getReader(),this._headersCapability.resolve();const _=G=>B.headers.get(G),{allowRangeRequests:j,suggestedLength:N}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=N||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(_),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var T;await this._headersCapability.promise;const{value:E,done:d}=await this._reader.read();return d?{value:E,done:d}:(this._loaded+=E.byteLength,(T=this.onProgress)==null||T.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$(E),done:!1})}cancel(E){var d;(d=this._reader)==null||d.cancel(E),this._abortController.abort()}}class c{constructor(E,d,T){this._stream=E,this._reader=null,this._loaded=0;const B=E.source;this._withCredentials=B.withCredentials||!1,this._readCapability=new n.PromiseCapability,this._isStreamingSupported=!B.disableStream,this._abortController=new AbortController,this._headers=u(this._stream.httpHeaders),this._headers.append("Range",`bytes=${d}-${T-1}`);const _=B.url;fetch(_,a(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,i.validateResponseStatus)(j.status))throw(0,i.createResponseStatusError)(j.status,_);this._readCapability.resolve(),this._reader=j.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var T;await this._readCapability.promise;const{value:E,done:d}=await this._reader.read();return d?{value:E,done:d}:(this._loaded+=E.byteLength,(T=this.onProgress)==null||T.call(this,{loaded:this._loaded}),{value:$(E),done:!1})}cancel(E){var d;(d=this._reader)==null||d.cancel(E),this._abortController.abort()}}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=h,e.extractFilenameFromHeader=$,e.validateRangeRequestCapabilities=u,e.validateResponseStatus=f;var n=s(1),i=s(21),a=s(6);function u({getResponseHeader:c,isHttp:S,rangeChunkSize:E,disableRange:d}){const T={allowRangeRequests:!1,suggestedLength:void 0},B=parseInt(c("Content-Length"),10);return!Number.isInteger(B)||(T.suggestedLength=B,B<=2*E)||d||!S||c("Accept-Ranges")!=="bytes"||(c("Content-Encoding")||"identity")!=="identity"||(T.allowRangeRequests=!0),T}function $(c){const S=c("Content-Disposition");if(S){let E=(0,i.getFilenameFromContentDispositionHeader)(S);if(E.includes("%"))try{E=decodeURIComponent(E)}catch{}if((0,a.isPdfFile)(E))return E}return null}function h(c,S){return c===404||c===0&&S.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+S+'".'):new n.UnexpectedResponseException(`Unexpected server response (${c}) while retrieving PDF "${S}".`,c)}function f(c){return c===200||c===206}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var n=s(1);function i(a){let u=!0,$=h("filename\\*","i").exec(a);if($){$=$[1];let B=E($);return B=unescape(B),B=d(B),B=T(B),c(B)}if($=S(a),$){const B=T($);return c(B)}if($=h("filename","i").exec(a),$){$=$[1];let B=E($);return B=T(B),c(B)}function h(B,_){return new RegExp("(?:^|;)\\s*"+B+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_)}function f(B,_){if(B){if(!/^[\x00-\xFF]+$/.test(_))return _;try{const j=new TextDecoder(B,{fatal:!0}),N=(0,n.stringToBytes)(_);_=j.decode(N),u=!1}catch{}}return _}function c(B){return u&&/[\x80-\xff]/.test(B)&&(B=f("utf-8",B),u&&(B=f("iso-8859-1",B))),B}function S(B){const _=[];let j;const N=h("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(j=N.exec(B))!==null;){let[,z,x,O]=j;if(z=parseInt(z,10),z in _){if(z===0)break;continue}_[z]=[x,O]}const G=[];for(let z=0;z<_.length&&z in _;++z){let[x,O]=_[z];O=E(O),x&&(O=unescape(O),z===0&&(O=d(O))),G.push(O)}return G.join("")}function E(B){if(B.startsWith('"')){const _=B.slice(1).split('\\"');for(let j=0;j<_.length;++j){const N=_[j].indexOf('"');N!==-1&&(_[j]=_[j].slice(0,N),_.length=j+1),_[j]=_[j].replaceAll(/\\(.)/g,"$1")}B=_.join('"')}return B}function d(B){const _=B.indexOf("'");if(_===-1)return B;const j=B.slice(0,_),G=B.slice(_+1).replace(/^[^']*'/,"");return f(j,G)}function T(B){return!B.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(B)?B:B.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,j,N,G){if(N==="q"||N==="Q")return G=G.replaceAll("_"," "),G=G.replaceAll(/=([0-9a-fA-F]{2})/g,function(z,x){return String.fromCharCode(parseInt(x,16))}),f(j,G);try{G=atob(G)}catch{}return f(j,G)})}return""}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=s(1),i=s(20);const a=200,u=206;function $(E){const d=E.response;return typeof d!="string"?d:(0,n.stringToBytes)(d).buffer}class h{constructor(d,T={}){this.url=d,this.isHttp=/^https?:/i.test(d),this.httpHeaders=this.isHttp&&T.httpHeaders||Object.create(null),this.withCredentials=T.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(d,T,B){const _={begin:d,end:T};for(const j in B)_[j]=B[j];return this.request(_)}requestFull(d){return this.request(d)}request(d){const T=new XMLHttpRequest,B=this.currXhrId++,_=this.pendingRequests[B]={xhr:T};T.open("GET",this.url),T.withCredentials=this.withCredentials;for(const j in this.httpHeaders){const N=this.httpHeaders[j];N!==void 0&&T.setRequestHeader(j,N)}return this.isHttp&&"begin"in d&&"end"in d?(T.setRequestHeader("Range",`bytes=${d.begin}-${d.end-1}`),_.expectedStatus=u):_.expectedStatus=a,T.responseType="arraybuffer",d.onError&&(T.onerror=function(j){d.onError(T.status)}),T.onreadystatechange=this.onStateChange.bind(this,B),T.onprogress=this.onProgress.bind(this,B),_.onHeadersReceived=d.onHeadersReceived,_.onDone=d.onDone,_.onError=d.onError,_.onProgress=d.onProgress,T.send(null),B}onProgress(d,T){var _;const B=this.pendingRequests[d];B&&((_=B.onProgress)==null||_.call(B,T))}onStateChange(d,T){var z,x,O;const B=this.pendingRequests[d];if(!B)return;const _=B.xhr;if(_.readyState>=2&&B.onHeadersReceived&&(B.onHeadersReceived(),delete B.onHeadersReceived),_.readyState!==4||!(d in this.pendingRequests))return;if(delete this.pendingRequests[d],_.status===0&&this.isHttp){(z=B.onError)==null||z.call(B,_.status);return}const j=_.status||a;if(!(j===a&&B.expectedStatus===u)&&j!==B.expectedStatus){(x=B.onError)==null||x.call(B,_.status);return}const G=$(_);if(j===u){const A=_.getResponseHeader("Content-Range"),k=/bytes (\d+)-(\d+)\/(\d+)/.exec(A);B.onDone({begin:parseInt(k[1],10),chunk:G})}else G?B.onDone({begin:0,chunk:G}):(O=B.onError)==null||O.call(B,_.status)}getRequestXhr(d){return this.pendingRequests[d].xhr}isPendingRequest(d){return d in this.pendingRequests}abortRequest(d){const T=this.pendingRequests[d].xhr;delete this.pendingRequests[d],T.abort()}}class f{constructor(d){this._source=d,this._manager=new h(d.url,{httpHeaders:d.httpHeaders,withCredentials:d.withCredentials}),this._rangeChunkSize=d.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(d){const T=this._rangeRequestReaders.indexOf(d);T>=0&&this._rangeRequestReaders.splice(T,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new c(this._manager,this._source),this._fullRequestReader}getRangeReader(d,T){const B=new S(this._manager,d,T);return B.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(B),B}cancelAllRequests(d){var T;(T=this._fullRequestReader)==null||T.cancel(d);for(const B of this._rangeRequestReaders.slice(0))B.cancel(d)}}e.PDFNetworkStream=f;class c{constructor(d,T){this._manager=d;const B={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=T.url,this._fullRequestId=d.requestFull(B),this._headersReceivedCapability=new n.PromiseCapability,this._disableRange=T.disableRange||!1,this._contentLength=T.length,this._rangeChunkSize=T.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const d=this._fullRequestId,T=this._manager.getRequestXhr(d),B=N=>T.getResponseHeader(N),{allowRangeRequests:_,suggestedLength:j}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:B,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_&&(this._isRangeSupported=!0),this._contentLength=j||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(B),this._isRangeSupported&&this._manager.abortRequest(d),this._headersReceivedCapability.resolve()}_onDone(d){if(d&&(this._requests.length>0?this._requests.shift().resolve({value:d.chunk,done:!1}):this._cachedChunks.push(d.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(d){this._storedError=(0,i.createResponseStatusError)(d,this._url),this._headersReceivedCapability.reject(this._storedError);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(d){var T;(T=this.onProgress)==null||T.call(this,{loaded:d.loaded,total:d.lengthComputable?d.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new n.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0,this._headersReceivedCapability.reject(d);for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class S{constructor(d,T,B){this._manager=d;const _={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url,this._requestId=d.requestRange(T,B,_),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var d;(d=this.onClosed)==null||d.call(this,this)}_onDone(d){const T=d.chunk;this._requests.length>0?this._requests.shift().resolve({value:T,done:!1}):this._queuedChunk=T,this._done=!0;for(const B of this._requests)B.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(d){this._storedError=(0,i.createResponseStatusError)(d,this._url);for(const T of this._requests)T.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(d){var T;this.isStreamingSupported||(T=this.onProgress)==null||T.call(this,{loaded:d.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const T=this._queuedChunk;return this._queuedChunk=null,{value:T,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new n.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=s(1),i=s(20);const a=/^file:\/\/\/[a-zA-Z]:\//;function u(B){const _=require$$5,j=_.parse(B);return j.protocol==="file:"||j.host?j:/^[a-z]:[/\\]/i.test(B)?_.parse(`file:///${B}`):(j.host||(j.protocol="file:"),j)}class ${constructor(_){this.source=_,this.url=u(_.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&_.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var _;return((_=this._fullRequestReader)==null?void 0:_._loaded)??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new d(this):new S(this),this._fullRequestReader}getRangeReader(_,j){if(j<=this._progressiveDataLength)return null;const N=this.isFsUrl?new T(this,_,j):new E(this,_,j);return this._rangeRequestReaders.push(N),N}cancelAllRequests(_){var j;(j=this._fullRequestReader)==null||j.cancel(_);for(const N of this._rangeRequestReaders.slice(0))N.cancel(_)}}e.PDFNodeStream=$;class h{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null;const j=_.source;this._contentLength=j.length,this._loaded=0,this._filename=null,this._disableRange=j.disableRange||!1,this._rangeChunkSize=j.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!j.disableStream,this._isRangeSupported=!j.disableRange,this._readableStream=null,this._readCapability=new n.PromiseCapability,this._headersCapability=new n.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var N;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const _=this._readableStream.read();return _===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=_.length,(N=this.onProgress)==null||N.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(_).buffer,done:!1})}cancel(_){if(!this._readableStream){this._error(_);return}this._readableStream.destroy(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",j=>{this._error(j)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(_){this._url=_.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new n.PromiseCapability;const j=_.source;this._isStreamingSupported=!j.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var N;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const _=this._readableStream.read();return _===null?(this._readCapability=new n.PromiseCapability,this.read()):(this._loaded+=_.length,(N=this.onProgress)==null||N.call(this,{loaded:this._loaded}),{value:new Uint8Array(_).buffer,done:!1})}cancel(_){if(!this._readableStream){this._error(_);return}this._readableStream.destroy(_)}_error(_){this._storedError=_,this._readCapability.resolve()}_setReadableStream(_){this._readableStream=_,_.on("readable",()=>{this._readCapability.resolve()}),_.on("end",()=>{_.destroy(),this._done=!0,this._readCapability.resolve()}),_.on("error",j=>{this._error(j)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function c(B,_){return{protocol:B.protocol,auth:B.auth,host:B.hostname,port:B.port,path:B.path,method:"GET",headers:_}}class S extends h{constructor(_){super(_);const j=N=>{if(N.statusCode===404){const O=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=O,this._headersCapability.reject(O);return}this._headersCapability.resolve(),this._setReadableStream(N);const G=O=>this._readableStream.headers[O.toLowerCase()],{allowRangeRequests:z,suggestedLength:x}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:_.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=z,this._contentLength=x||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(G)};if(this._request=null,this._url.protocol==="http:"){const N=require$$5;this._request=N.request(c(this._url,_.httpHeaders),j)}else{const N=require$$5;this._request=N.request(c(this._url,_.httpHeaders),j)}this._request.on("error",N=>{this._storedError=N,this._headersCapability.reject(N)}),this._request.end()}}class E extends f{constructor(_,j,N){super(_),this._httpHeaders={};for(const z in _.httpHeaders){const x=_.httpHeaders[z];x!==void 0&&(this._httpHeaders[z]=x)}this._httpHeaders.Range=`bytes=${j}-${N-1}`;const G=z=>{if(z.statusCode===404){const x=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=x;return}this._setReadableStream(z)};if(this._request=null,this._url.protocol==="http:"){const z=require$$5;this._request=z.request(c(this._url,this._httpHeaders),G)}else{const z=require$$5;this._request=z.request(c(this._url,this._httpHeaders),G)}this._request.on("error",z=>{this._storedError=z}),this._request.end()}}class d extends h{constructor(_){super(_);let j=decodeURIComponent(this._url.path);a.test(this._url.href)&&(j=j.replace(/^\//,""));const N=require$$5;N.lstat(j,(G,z)=>{if(G){G.code==="ENOENT"&&(G=new n.MissingPDFException(`Missing PDF "${j}".`)),this._storedError=G,this._headersCapability.reject(G);return}this._contentLength=z.size,this._setReadableStream(N.createReadStream(j)),this._headersCapability.resolve()})}}class T extends f{constructor(_,j,N){super(_);let G=decodeURIComponent(this._url.path);a.test(this._url.href)&&(G=G.replace(/^\//,""));const z=require$$5;this._setReadableStream(z.createReadStream(G,{start:j,end:N-1}))}}},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=s(6),i=s(1);const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u="http://www.w3.org/XML/1998/namespace",$="http://www.w3.org/1999/xlink",h=["butt","round","square"],f=["miter","round","bevel"],c=function(z,x="",O=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!O)return URL.createObjectURL(new Blob([z],{type:x}));const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let k=`data:${x};base64,`;for(let F=0,J=z.length;F<J;F+=3){const g=z[F]&255,U=z[F+1]&255,K=z[F+2]&255,pe=g>>2,re=(g&3)<<4|U>>4,ce=F+1<J?(U&15)<<2|K>>6:64,ie=F+2<J?K&63:64;k+=A[pe]+A[re]+A[ce]+A[ie]}return k},S=function(){const z=new Uint8Array([137,80,78,71,13,10,26,10]),x=12,O=new Int32Array(256);for(let K=0;K<256;K++){let pe=K;for(let re=0;re<8;re++)pe=pe&1?3988292384^pe>>1&2147483647:pe>>1&2147483647;O[K]=pe}function A(K,pe,re){let ce=-1;for(let ie=pe;ie<re;ie++){const ye=(ce^K[ie])&255,Y=O[ye];ce=ce>>>8^Y}return ce^-1}function k(K,pe,re,ce){let ie=ce;const ye=pe.length;re[ie]=ye>>24&255,re[ie+1]=ye>>16&255,re[ie+2]=ye>>8&255,re[ie+3]=ye&255,ie+=4,re[ie]=K.charCodeAt(0)&255,re[ie+1]=K.charCodeAt(1)&255,re[ie+2]=K.charCodeAt(2)&255,re[ie+3]=K.charCodeAt(3)&255,ie+=4,re.set(pe,ie),ie+=pe.length;const Y=A(re,ce+4,ie);re[ie]=Y>>24&255,re[ie+1]=Y>>16&255,re[ie+2]=Y>>8&255,re[ie+3]=Y&255}function F(K,pe,re){let ce=1,ie=0;for(let ye=pe;ye<re;++ye)ce=(ce+(K[ye]&255))%65521,ie=(ie+ce)%65521;return ie<<16|ce}function J(K){if(!i.isNodeJS)return g(K);try{const pe=parseInt(process.versions.node)>=8?K:Buffer.from(K),re=require$$5.deflateSync(pe,{level:9});return re instanceof Uint8Array?re:new Uint8Array(re)}catch(pe){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+pe)}return g(K)}function g(K){let pe=K.length;const re=65535,ce=Math.ceil(pe/re),ie=new Uint8Array(2+pe+ce*5+4);let ye=0;ie[ye++]=120,ie[ye++]=156;let Y=0;for(;pe>re;)ie[ye++]=0,ie[ye++]=255,ie[ye++]=255,ie[ye++]=0,ie[ye++]=0,ie.set(K.subarray(Y,Y+re),ye),ye+=re,Y+=re,pe-=re;ie[ye++]=1,ie[ye++]=pe&255,ie[ye++]=pe>>8&255,ie[ye++]=~pe&65535&255,ie[ye++]=(~pe&65535)>>8&255,ie.set(K.subarray(Y),ye),ye+=K.length-Y;const ae=F(K,0,K.length);return ie[ye++]=ae>>24&255,ie[ye++]=ae>>16&255,ie[ye++]=ae>>8&255,ie[ye++]=ae&255,ie}function U(K,pe,re,ce){const ie=K.width,ye=K.height;let Y,ae,be;const q=K.data;switch(pe){case i.ImageKind.GRAYSCALE_1BPP:ae=0,Y=1,be=ie+7>>3;break;case i.ImageKind.RGB_24BPP:ae=2,Y=8,be=ie*3;break;case i.ImageKind.RGBA_32BPP:ae=6,Y=8,be=ie*4;break;default:throw new Error("invalid format")}const p=new Uint8Array((1+be)*ye);let y=0,H=0;for(let ke=0;ke<ye;++ke)p[y++]=0,p.set(q.subarray(H,H+be),y),H+=be,y+=be;if(pe===i.ImageKind.GRAYSCALE_1BPP&&ce){y=0;for(let ke=0;ke<ye;ke++){y++;for(let Ce=0;Ce<be;Ce++)p[y++]^=255}}const Z=new Uint8Array([ie>>24&255,ie>>16&255,ie>>8&255,ie&255,ye>>24&255,ye>>16&255,ye>>8&255,ye&255,Y,ae,0,0,0]),ee=J(p),te=z.length+x*3+Z.length+ee.length,le=new Uint8Array(te);let me=0;return le.set(z,me),me+=z.length,k("IHDR",Z,le,me),me+=x+Z.length,k("IDATA",ee,le,me),me+=x+ee.length,k("IEND",new Uint8Array(0),le,me),c(le,"image/png",re)}return function(pe,re,ce){const ie=pe.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:pe.kind;return U(pe,ie,re,ce)}}();class E{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(x,O){this.x=x,this.y=O}}function d(z){let x=[];const O=[];for(const A of z){if(A.fn==="save"){x.push({fnId:92,fn:"group",items:[]}),O.push(x),x=x.at(-1).items;continue}A.fn==="restore"?x=O.pop():x.push(A)}return x}function T(z){if(Number.isInteger(z))return z.toString();const x=z.toFixed(10);let O=x.length-1;if(x[O]!=="0")return x;do O--;while(x[O]==="0");return x.substring(0,x[O]==="."?O:O+1)}function B(z){if(z[4]===0&&z[5]===0){if(z[1]===0&&z[2]===0)return z[0]===1&&z[3]===1?"":`scale(${T(z[0])} ${T(z[3])})`;if(z[0]===z[3]&&z[1]===-z[2]){const x=Math.acos(z[0])*180/Math.PI;return`rotate(${T(x)})`}}else if(z[0]===1&&z[1]===0&&z[2]===0&&z[3]===1)return`translate(${T(z[4])} ${T(z[5])})`;return`matrix(${T(z[0])} ${T(z[1])} ${T(z[2])} ${T(z[3])} ${T(z[4])} ${T(z[5])})`}let _=0,j=0,N=0;class G{constructor(x,O,A=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new E,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=x,this.objs=O,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!A,this._operatorIdMapping=[];for(const k in i.OPS)this._operatorIdMapping[i.OPS[k]]=k}getObject(x,O=null){return typeof x=="string"?x.startsWith("g_")?this.commonObjs.get(x):this.objs.get(x):O}save(){this.transformStack.push(this.transformMatrix);const x=this.current;this.extraStack.push(x),this.current=x.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(x){this.save(),this.executeOpTree(x),this.restore()}loadDependencies(x){const O=x.fnArray,A=x.argsArray;for(let k=0,F=O.length;k<F;k++)if(O[k]===i.OPS.dependency)for(const J of A[k]){const g=J.startsWith("g_")?this.commonObjs:this.objs,U=new Promise(K=>{g.get(J,K)});this.current.dependencies.push(U)}return Promise.all(this.current.dependencies)}transform(x,O,A,k,F,J){const g=[x,O,A,k,F,J];this.transformMatrix=i.Util.transform(this.transformMatrix,g),this.tgrp=null}getSVG(x,O){this.viewport=O;const A=this._initialize(O);return this.loadDependencies(x).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(x)),A))}convertOpList(x){const O=this._operatorIdMapping,A=x.argsArray,k=x.fnArray,F=[];for(let J=0,g=k.length;J<g;J++){const U=k[J];F.push({fnId:U,fn:O[U],args:A[J]})}return d(F)}executeOpTree(x){for(const O of x){const A=O.fn,k=O.fnId,F=O.args;switch(k|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(F);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(F[0],F[1]);break;case i.OPS.setFont:this.setFont(F);break;case i.OPS.showText:this.showText(F[0]);break;case i.OPS.showSpacedText:this.showText(F[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(F[0],F[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(F[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(F[0]);break;case i.OPS.setHScale:this.setHScale(F[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(F[0],F[1],F[2],F[3],F[4],F[5]);break;case i.OPS.setTextRise:this.setTextRise(F[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(F[0]);break;case i.OPS.setLineWidth:this.setLineWidth(F[0]);break;case i.OPS.setLineJoin:this.setLineJoin(F[0]);break;case i.OPS.setLineCap:this.setLineCap(F[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(F[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(F[0],F[1],F[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(F[0],F[1],F[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(F);break;case i.OPS.setFillColorN:this.setFillColorN(F);break;case i.OPS.shadingFill:this.shadingFill(F[0]);break;case i.OPS.setDash:this.setDash(F[0],F[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(F[0]);break;case i.OPS.setFlatness:this.setFlatness(F[0]);break;case i.OPS.setGState:this.setGState(F[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(F[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(F[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(F[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(F[0],F[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(F[0],F[1],F[2],F[3],F[4],F[5]);break;case i.OPS.constructPath:this.constructPath(F[0],F[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(O.items);break;default:(0,i.warn)(`Unimplemented operator ${A}`);break}}}setWordSpacing(x){this.current.wordSpacing=x}setCharSpacing(x){this.current.charSpacing=x}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(x,O,A,k,F,J){const g=this.current;g.textMatrix=g.lineMatrix=[x,O,A,k,F,J],g.textMatrixScale=Math.hypot(x,O),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.ycoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${T(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",T(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.append(g.tspan)}beginText(){const x=this.current;x.x=x.lineX=0,x.y=x.lineY=0,x.textMatrix=i.IDENTITY_MATRIX,x.lineMatrix=i.IDENTITY_MATRIX,x.textMatrixScale=1,x.tspan=this.svgFactory.createElement("svg:tspan"),x.txtElement=this.svgFactory.createElement("svg:text"),x.txtgrp=this.svgFactory.createElement("svg:g"),x.xcoords=[],x.ycoords=[]}moveText(x,O){const A=this.current;A.x=A.lineX+=x,A.y=A.lineY+=O,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${T(A.fontSize)}px`),A.tspan.setAttributeNS(null,"y",T(-A.y))}showText(x){const O=this.current,A=O.font,k=O.fontSize;if(k===0)return;const F=O.fontSizeScale,J=O.charSpacing,g=O.wordSpacing,U=O.fontDirection,K=O.textHScale*U,pe=A.vertical,re=pe?1:-1,ce=A.defaultVMetrics,ie=k*O.fontMatrix[0];let ye=0;for(const be of x){if(be===null){ye+=U*g;continue}else if(typeof be=="number"){ye+=re*be*k/1e3;continue}const q=(be.isSpace?g:0)+J,p=be.fontChar;let y,H,Z=be.width;if(pe){let te;const le=be.vmetric||ce;te=be.vmetric?le[1]:Z*.5,te=-te*ie;const me=le[2]*ie;Z=le?-le[0]:Z,y=te/F,H=(ye+me)/F}else y=ye/F,H=0;(be.isInFont||A.missingFile)&&(O.xcoords.push(O.x+y),pe&&O.ycoords.push(-O.y+H),O.tspan.textContent+=p);const ee=pe?Z*ie-q*U:Z*ie+q*U;ye+=ee}O.tspan.setAttributeNS(null,"x",O.xcoords.map(T).join(" ")),pe?O.tspan.setAttributeNS(null,"y",O.ycoords.map(T).join(" ")):O.tspan.setAttributeNS(null,"y",T(-O.y)),pe?O.y-=ye:O.x+=ye*K,O.tspan.setAttributeNS(null,"font-family",O.fontFamily),O.tspan.setAttributeNS(null,"font-size",`${T(O.fontSize)}px`),O.fontStyle!==a.fontStyle&&O.tspan.setAttributeNS(null,"font-style",O.fontStyle),O.fontWeight!==a.fontWeight&&O.tspan.setAttributeNS(null,"font-weight",O.fontWeight);const Y=O.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(Y===i.TextRenderingMode.FILL||Y===i.TextRenderingMode.FILL_STROKE?(O.fillColor!==a.fillColor&&O.tspan.setAttributeNS(null,"fill",O.fillColor),O.fillAlpha<1&&O.tspan.setAttributeNS(null,"fill-opacity",O.fillAlpha)):O.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?O.tspan.setAttributeNS(null,"fill","transparent"):O.tspan.setAttributeNS(null,"fill","none"),Y===i.TextRenderingMode.STROKE||Y===i.TextRenderingMode.FILL_STROKE){const be=1/(O.textMatrixScale||1);this._setStrokeAttributes(O.tspan,be)}let ae=O.textMatrix;O.textRise!==0&&(ae=ae.slice(),ae[5]+=O.textRise),O.txtElement.setAttributeNS(null,"transform",`${B(ae)} scale(${T(K)}, -1)`),O.txtElement.setAttributeNS(u,"xml:space","preserve"),O.txtElement.append(O.tspan),O.txtgrp.append(O.txtElement),this._ensureTransformGroup().append(O.txtElement)}setLeadingMoveText(x,O){this.setLeading(-O),this.moveText(x,O)}addFontStyle(x){if(!x.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const O=c(x.data,x.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${x.loadedName}"; src: url(${O}); }
`}setFont(x){const O=this.current,A=this.commonObjs.get(x[0]);let k=x[1];O.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),O.fontMatrix=A.fontMatrix||i.FONT_IDENTITY_MATRIX;let F="normal";A.black?F="900":A.bold&&(F="bold");const J=A.italic?"italic":"normal";k<0?(k=-k,O.fontDirection=-1):O.fontDirection=1,O.fontSize=k,O.fontFamily=A.loadedName,O.fontWeight=F,O.fontStyle=J,O.tspan=this.svgFactory.createElement("svg:tspan"),O.tspan.setAttributeNS(null,"y",T(-O.y)),O.xcoords=[],O.ycoords=[]}endText(){var O;const x=this.current;x.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&((O=x.txtElement)!=null&&O.hasChildNodes())&&(x.element=x.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(x){x>0&&(this.current.lineWidth=x)}setLineCap(x){this.current.lineCap=h[x]}setLineJoin(x){this.current.lineJoin=f[x]}setMiterLimit(x){this.current.miterLimit=x}setStrokeAlpha(x){this.current.strokeAlpha=x}setStrokeRGBColor(x,O,A){this.current.strokeColor=i.Util.makeHexColor(x,O,A)}setFillAlpha(x){this.current.fillAlpha=x}setFillRGBColor(x,O,A){this.current.fillColor=i.Util.makeHexColor(x,O,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(x){this.current.strokeColor=this._makeColorN_Pattern(x)}setFillColorN(x){this.current.fillColor=this._makeColorN_Pattern(x)}shadingFill(x){const{width:O,height:A}=this.viewport,k=i.Util.inverseTransform(this.transformMatrix),[F,J,g,U]=i.Util.getAxialAlignedBoundingBox([0,0,O,A],k),K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",F),K.setAttributeNS(null,"y",J),K.setAttributeNS(null,"width",g-F),K.setAttributeNS(null,"height",U-J),K.setAttributeNS(null,"fill",this._makeShadingPattern(x)),this.current.fillAlpha<1&&K.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(K)}_makeColorN_Pattern(x){return x[0]==="TilingPattern"?this._makeTilingPattern(x):this._makeShadingPattern(x)}_makeTilingPattern(x){const O=x[1],A=x[2],k=x[3]||i.IDENTITY_MATRIX,[F,J,g,U]=x[4],K=x[5],pe=x[6],re=x[7],ce=`shading${N++}`,[ie,ye,Y,ae]=i.Util.normalizeRect([...i.Util.applyTransform([F,J],k),...i.Util.applyTransform([g,U],k)]),[be,q]=i.Util.singularValueDecompose2dScale(k),p=K*be,y=pe*q,H=this.svgFactory.createElement("svg:pattern");H.setAttributeNS(null,"id",ce),H.setAttributeNS(null,"patternUnits","userSpaceOnUse"),H.setAttributeNS(null,"width",p),H.setAttributeNS(null,"height",y),H.setAttributeNS(null,"x",`${ie}`),H.setAttributeNS(null,"y",`${ye}`);const Z=this.svg,ee=this.transformMatrix,te=this.current.fillColor,le=this.current.strokeColor,me=this.svgFactory.create(Y-ie,ae-ye);if(this.svg=me,this.transformMatrix=k,re===2){const ke=i.Util.makeHexColor(...O);this.current.fillColor=ke,this.current.strokeColor=ke}return this.executeOpTree(this.convertOpList(A)),this.svg=Z,this.transformMatrix=ee,this.current.fillColor=te,this.current.strokeColor=le,H.append(me.childNodes[0]),this.defs.append(H),`url(#${ce})`}_makeShadingPattern(x){switch(typeof x=="string"&&(x=this.objs.get(x)),x[0]){case"RadialAxial":const O=`shading${N++}`,A=x[3];let k;switch(x[1]){case"axial":const F=x[4],J=x[5];k=this.svgFactory.createElement("svg:linearGradient"),k.setAttributeNS(null,"id",O),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"x1",F[0]),k.setAttributeNS(null,"y1",F[1]),k.setAttributeNS(null,"x2",J[0]),k.setAttributeNS(null,"y2",J[1]);break;case"radial":const g=x[4],U=x[5],K=x[6],pe=x[7];k=this.svgFactory.createElement("svg:radialGradient"),k.setAttributeNS(null,"id",O),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"cx",U[0]),k.setAttributeNS(null,"cy",U[1]),k.setAttributeNS(null,"r",pe),k.setAttributeNS(null,"fx",g[0]),k.setAttributeNS(null,"fy",g[1]),k.setAttributeNS(null,"fr",K);break;default:throw new Error(`Unknown RadialAxial type: ${x[1]}`)}for(const F of A){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",F[0]),J.setAttributeNS(null,"stop-color",F[1]),k.append(J)}return this.defs.append(k),`url(#${O})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${x[0]}`)}}setDash(x,O){this.current.dashArray=x,this.current.dashPhase=O}constructPath(x,O){const A=this.current;let k=A.x,F=A.y,J=[],g=0;for(const U of x)switch(U|0){case i.OPS.rectangle:k=O[g++],F=O[g++];const K=O[g++],pe=O[g++],re=k+K,ce=F+pe;J.push("M",T(k),T(F),"L",T(re),T(F),"L",T(re),T(ce),"L",T(k),T(ce),"Z");break;case i.OPS.moveTo:k=O[g++],F=O[g++],J.push("M",T(k),T(F));break;case i.OPS.lineTo:k=O[g++],F=O[g++],J.push("L",T(k),T(F));break;case i.OPS.curveTo:k=O[g+4],F=O[g+5],J.push("C",T(O[g]),T(O[g+1]),T(O[g+2]),T(O[g+3]),T(k),T(F)),g+=6;break;case i.OPS.curveTo2:J.push("C",T(k),T(F),T(O[g]),T(O[g+1]),T(O[g+2]),T(O[g+3])),k=O[g+2],F=O[g+3],g+=4;break;case i.OPS.curveTo3:k=O[g+2],F=O[g+3],J.push("C",T(O[g]),T(O[g+1]),T(k),T(F),T(k),T(F)),g+=4;break;case i.OPS.closePath:J.push("Z");break}J=J.join(" "),A.path&&x.length>0&&x[0]!==i.OPS.rectangle&&x[0]!==i.OPS.moveTo?J=A.path.getAttributeNS(null,"d")+J:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(A.path)),A.path.setAttributeNS(null,"d",J),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(k,F)}endPath(){const x=this.current;if(x.path=null,!this.pendingClip)return;if(!x.element){this.pendingClip=null;return}const O=`clippath${_++}`,A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",O),A.setAttributeNS(null,"transform",B(this.transformMatrix));const k=x.element.cloneNode(!0);if(this.pendingClip==="evenodd"?k.setAttributeNS(null,"clip-rule","evenodd"):k.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,A.append(k),this.defs.append(A),x.activeClipUrl){x.clipGroup=null;for(const F of this.extraStack)F.clipGroup=null;A.setAttributeNS(null,"clip-path",x.activeClipUrl)}x.activeClipUrl=`url(#${O})`,this.tgrp=null}clip(x){this.pendingClip=x}closePath(){const x=this.current;if(x.path){const O=`${x.path.getAttributeNS(null,"d")}Z`;x.path.setAttributeNS(null,"d",O)}}setLeading(x){this.current.leading=-x}setTextRise(x){this.current.textRise=x}setTextRenderingMode(x){this.current.textRenderingMode=x}setHScale(x){this.current.textHScale=x/100}setRenderingIntent(x){}setFlatness(x){}setGState(x){for(const[O,A]of x)switch(O){case"LW":this.setLineWidth(A);break;case"LC":this.setLineCap(A);break;case"LJ":this.setLineJoin(A);break;case"ML":this.setMiterLimit(A);break;case"D":this.setDash(A[0],A[1]);break;case"RI":this.setRenderingIntent(A);break;case"FL":this.setFlatness(A);break;case"Font":this.setFont(A);break;case"CA":this.setStrokeAlpha(A);break;case"ca":this.setFillAlpha(A);break;default:(0,i.warn)(`Unimplemented graphic state operator ${O}`);break}}fill(){const x=this.current;x.element&&(x.element.setAttributeNS(null,"fill",x.fillColor),x.element.setAttributeNS(null,"fill-opacity",x.fillAlpha),this.endPath())}stroke(){const x=this.current;x.element&&(this._setStrokeAttributes(x.element),x.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(x,O=1){const A=this.current;let k=A.dashArray;O!==1&&k.length>0&&(k=k.map(function(F){return O*F})),x.setAttributeNS(null,"stroke",A.strokeColor),x.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),x.setAttributeNS(null,"stroke-miterlimit",T(A.miterLimit)),x.setAttributeNS(null,"stroke-linecap",A.lineCap),x.setAttributeNS(null,"stroke-linejoin",A.lineJoin),x.setAttributeNS(null,"stroke-width",T(O*A.lineWidth)+"px"),x.setAttributeNS(null,"stroke-dasharray",k.map(T).join(" ")),x.setAttributeNS(null,"stroke-dashoffset",T(O*A.dashPhase)+"px")}eoFill(){var x;(x=this.current.element)==null||x.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var x;(x=this.current.element)==null||x.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const x=this.svgFactory.createElement("svg:rect");x.setAttributeNS(null,"x","0"),x.setAttributeNS(null,"y","0"),x.setAttributeNS(null,"width","1px"),x.setAttributeNS(null,"height","1px"),x.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(x)}paintImageXObject(x){const O=this.getObject(x);if(!O){(0,i.warn)(`Dependent image with object ID ${x} is not ready yet`);return}this.paintInlineImageXObject(O)}paintInlineImageXObject(x,O){const A=x.width,k=x.height,F=S(x,this.forceDataSchema,!!O),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",T(A)),J.setAttributeNS(null,"height",T(k)),this.current.element=J,this.clip("nonzero");const g=this.svgFactory.createElement("svg:image");g.setAttributeNS($,"xlink:href",F),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",T(-k)),g.setAttributeNS(null,"width",T(A)+"px"),g.setAttributeNS(null,"height",T(k)+"px"),g.setAttributeNS(null,"transform",`scale(${T(1/A)} ${T(-1/k)})`),O?O.append(g):this._ensureTransformGroup().append(g)}paintImageMaskXObject(x){const O=this.getObject(x.data,x);if(O.bitmap){(0,i.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const A=this.current,k=O.width,F=O.height,J=A.fillColor;A.maskId=`mask${j++}`;const g=this.svgFactory.createElement("svg:mask");g.setAttributeNS(null,"id",A.maskId);const U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x","0"),U.setAttributeNS(null,"y","0"),U.setAttributeNS(null,"width",T(k)),U.setAttributeNS(null,"height",T(F)),U.setAttributeNS(null,"fill",J),U.setAttributeNS(null,"mask",`url(#${A.maskId})`),this.defs.append(g),this._ensureTransformGroup().append(U),this.paintInlineImageXObject(O,g)}paintFormXObjectBegin(x,O){if(Array.isArray(x)&&x.length===6&&this.transform(x[0],x[1],x[2],x[3],x[4],x[5]),O){const A=O[2]-O[0],k=O[3]-O[1],F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x",O[0]),F.setAttributeNS(null,"y",O[1]),F.setAttributeNS(null,"width",T(A)),F.setAttributeNS(null,"height",T(k)),this.current.element=F,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(x){const O=this.svgFactory.create(x.width,x.height),A=this.svgFactory.createElement("svg:defs");O.append(A),this.defs=A;const k=this.svgFactory.createElement("svg:g");return k.setAttributeNS(null,"transform",B(x.transform)),O.append(k),this.svg=k,O}_ensureClipGroup(){if(!this.current.clipGroup){const x=this.svgFactory.createElement("svg:g");x.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(x),this.current.clipGroup=x}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",B(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}e.SVGGraphics=G},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class s{static textContent(i){const a=[],u={items:a,styles:Object.create(null)};function $(h){var S;if(!h)return;let f=null;const c=h.name;if(c==="#text")f=h.value;else if(s.shouldBuildText(c))(S=h==null?void 0:h.attributes)!=null&&S.textContent?f=h.attributes.textContent:h.value&&(f=h.value);else return;if(f!==null&&a.push({str:f}),!!h.children)for(const E of h.children)$(E)}return $(i),u}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=s},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=B,e.updateTextLayer=_;var n=s(1),i=s(6);const a=1e5,u=30,$=.8,h=new Map;function f(j,N){let G;if(N&&n.FeatureTest.isOffscreenCanvasSupported)G=new OffscreenCanvas(j,j).getContext("2d",{alpha:!1});else{const z=document.createElement("canvas");z.width=z.height=j,G=z.getContext("2d",{alpha:!1})}return G}function c(j,N){const G=h.get(j);if(G)return G;const z=f(u,N);z.font=`${u}px ${j}`;const x=z.measureText("");let O=x.fontBoundingBoxAscent,A=Math.abs(x.fontBoundingBoxDescent);if(O){const F=O/(O+A);return h.set(j,F),z.canvas.width=z.canvas.height=0,F}z.strokeStyle="red",z.clearRect(0,0,u,u),z.strokeText("g",0,0);let k=z.getImageData(0,0,u,u).data;A=0;for(let F=k.length-1-3;F>=0;F-=4)if(k[F]>0){A=Math.ceil(F/4/u);break}z.clearRect(0,0,u,u),z.strokeText("A",0,u),k=z.getImageData(0,0,u,u).data,O=0;for(let F=0,J=k.length;F<J;F+=4)if(k[F]>0){O=u-Math.floor(F/4/u);break}if(z.canvas.width=z.canvas.height=0,O){const F=O/(O+A);return h.set(j,F),F}return h.set(j,$),$}function S(j,N,G){const z=document.createElement("span"),x={angle:0,canvasWidth:0,hasText:N.str!=="",hasEOL:N.hasEOL,fontSize:0};j._textDivs.push(z);const O=n.Util.transform(j._transform,N.transform);let A=Math.atan2(O[1],O[0]);const k=G[N.fontName];k.vertical&&(A+=Math.PI/2);const F=Math.hypot(O[2],O[3]),J=F*c(k.fontFamily,j._isOffscreenCanvasSupported);let g,U;A===0?(g=O[4],U=O[5]-J):(g=O[4]+J*Math.sin(A),U=O[5]-J*Math.cos(A));const K="calc(var(--scale-factor)*",pe=z.style;j._container===j._rootContainer?(pe.left=`${(100*g/j._pageWidth).toFixed(2)}%`,pe.top=`${(100*U/j._pageHeight).toFixed(2)}%`):(pe.left=`${K}${g.toFixed(2)}px)`,pe.top=`${K}${U.toFixed(2)}px)`),pe.fontSize=`${K}${F.toFixed(2)}px)`,pe.fontFamily=k.fontFamily,x.fontSize=F,z.setAttribute("role","presentation"),z.textContent=N.str,z.dir=N.dir,j._fontInspectorEnabled&&(z.dataset.fontName=N.fontName),A!==0&&(x.angle=A*(180/Math.PI));let re=!1;if(N.str.length>1)re=!0;else if(N.str!==" "&&N.transform[0]!==N.transform[3]){const ce=Math.abs(N.transform[0]),ie=Math.abs(N.transform[3]);ce!==ie&&Math.max(ce,ie)/Math.min(ce,ie)>1.5&&(re=!0)}re&&(x.canvasWidth=k.vertical?N.height:N.width),j._textDivProperties.set(z,x),j._isReadableStream&&j._layoutText(z)}function E(j){const{div:N,scale:G,properties:z,ctx:x,prevFontSize:O,prevFontFamily:A}=j,{style:k}=N;let F="";if(z.canvasWidth!==0&&z.hasText){const{fontFamily:J}=k,{canvasWidth:g,fontSize:U}=z;(O!==U||A!==J)&&(x.font=`${U*G}px ${J}`,j.prevFontSize=U,j.prevFontFamily=J);const{width:K}=x.measureText(N.textContent);K>0&&(F=`scaleX(${g*G/K})`)}z.angle!==0&&(F=`rotate(${z.angle}deg) ${F}`),F.length>0&&(k.transform=F)}function d(j){if(j._canceled)return;const N=j._textDivs,G=j._capability;if(N.length>a){G.resolve();return}if(!j._isReadableStream)for(const x of N)j._layoutText(x);G.resolve()}class T{constructor({textContentSource:N,container:G,viewport:z,textDivs:x,textDivProperties:O,textContentItemsStr:A,isOffscreenCanvasSupported:k}){var K;this._textContentSource=N,this._isReadableStream=N instanceof ReadableStream,this._container=this._rootContainer=G,this._textDivs=x||[],this._textContentItemsStr=A||[],this._isOffscreenCanvasSupported=k,this._fontInspectorEnabled=!!((K=globalThis.FontInspector)!=null&&K.enabled),this._reader=null,this._textDivProperties=O||new WeakMap,this._canceled=!1,this._capability=new n.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:z.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:f(0,k)};const{pageWidth:F,pageHeight:J,pageX:g,pageY:U}=z.rawDims;this._transform=[1,0,0,-1,-g,U+J],this._pageWidth=F,this._pageHeight=J,(0,i.setLayerDimensions)(G,z),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new n.AbortException("TextLayer task cancelled."))}_processItems(N,G){for(const z of N){if(z.str===void 0){if(z.type==="beginMarkedContentProps"||z.type==="beginMarkedContent"){const x=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),z.id!==null&&this._container.setAttribute("id",`${z.id}`),x.append(this._container)}else z.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(z.str),S(this,z,G)}}_layoutText(N){const G=this._layoutTextParams.properties=this._textDivProperties.get(N);if(this._layoutTextParams.div=N,E(this._layoutTextParams),G.hasText&&this._container.append(N),G.hasEOL){const z=document.createElement("br");z.setAttribute("role","presentation"),this._container.append(z)}}_render(){const N=new n.PromiseCapability;let G=Object.create(null);if(this._isReadableStream){const z=()=>{this._reader.read().then(({value:x,done:O})=>{if(O){N.resolve();return}Object.assign(G,x.styles),this._processItems(x.items,G),z()},N.reject)};this._reader=this._textContentSource.getReader(),z()}else if(this._textContentSource){const{items:z,styles:x}=this._textContentSource;this._processItems(z,x),N.resolve()}else throw new Error('No "textContentSource" parameter specified.');N.promise.then(()=>{G=null,d(this)},this._capability.reject)}}e.TextLayerRenderTask=T;function B(j){!j.textContentSource&&(j.textContent||j.textContentStream)&&((0,i.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),j.textContentSource=j.textContent||j.textContentStream);const{container:N,viewport:G}=j,z=getComputedStyle(N),x=z.getPropertyValue("visibility"),O=parseFloat(z.getPropertyValue("--scale-factor"));x==="visible"&&(!O||Math.abs(O-G.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const A=new T(j);return A._render(),A}function _({container:j,viewport:N,textDivs:G,textDivProperties:z,isOffscreenCanvasSupported:x,mustRotate:O=!0,mustRescale:A=!0}){if(O&&(0,i.setLayerDimensions)(j,{rotation:N.rotation}),A){const k=f(0,x),J={prevFontSize:null,prevFontFamily:null,div:null,scale:N.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:k};for(const g of G)J.properties=z.get(g),J.div=g,E(J)}}},(t,e,s)=>{var c,S,E,d,T,B,_,j,N,G,z,dn,$t,fn,pn;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=s(1),i=s(4),a=s(28),u=s(33),$=s(6),h=s(34);const F=class F{constructor({uiManager:g,pageIndex:U,div:K,accessibilityManager:pe,annotationLayer:re,viewport:ce,l10n:ie}){Se(this,z);Se(this,c);Se(this,S,!1);Se(this,E,null);Se(this,d,this.pointerup.bind(this));Se(this,T,this.pointerdown.bind(this));Se(this,B,new Map);Se(this,_,!1);Se(this,j,!1);Se(this,N,!1);Se(this,G);const ye=[a.FreeTextEditor,u.InkEditor,h.StampEditor];if(!F._initialized){F._initialized=!0;for(const Y of ye)Y.initialize(ie)}g.registerEditorTypes(ye),we(this,G,g),this.pageIndex=U,this.div=K,we(this,c,pe),we(this,E,re),this.viewport=ce,o(this,G).addLayer(this)}get isEmpty(){return o(this,B).size===0}updateToolbar(g){o(this,G).updateToolbar(g)}updateMode(g=o(this,G).getMode()){fe(this,z,pn).call(this),g===n.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),g!==n.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",g===n.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",g===n.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",g===n.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(g){if(!g&&o(this,G).getMode()!==n.AnnotationEditorType.INK)return;if(!g){for(const K of o(this,B).values())if(K.isEmpty()){K.setInBackground();return}}fe(this,z,$t).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(g){o(this,G).setEditingState(g)}addCommands(g){o(this,G).addCommands(g)}enable(){this.div.style.pointerEvents="auto";const g=new Set;for(const K of o(this,B).values())K.enableEditing(),K.annotationElementId&&g.add(K.annotationElementId);if(!o(this,E))return;const U=o(this,E).getEditableAnnotations();for(const K of U){if(K.hide(),o(this,G).isDeletedAnnotationElement(K.data.id)||g.has(K.data.id))continue;const pe=this.deserialize(K);pe&&(this.addOrRebuild(pe),pe.enableEditing())}}disable(){var U;we(this,N,!0),this.div.style.pointerEvents="none";const g=new Set;for(const K of o(this,B).values()){if(K.disableEditing(),!K.annotationElementId||K.serialize()!==null){g.add(K.annotationElementId);continue}(U=this.getEditableAnnotation(K.annotationElementId))==null||U.show(),K.remove()}if(o(this,E)){const K=o(this,E).getEditableAnnotations();for(const pe of K){const{id:re}=pe.data;g.has(re)||o(this,G).isDeletedAnnotationElement(re)||pe.show()}}fe(this,z,pn).call(this),this.isEmpty&&(this.div.hidden=!0),we(this,N,!1)}getEditableAnnotation(g){var U;return((U=o(this,E))==null?void 0:U.getEditableAnnotation(g))||null}setActiveEditor(g){o(this,G).getActive()!==g&&o(this,G).setActiveEditor(g)}enableClick(){this.div.addEventListener("pointerdown",o(this,T)),this.div.addEventListener("pointerup",o(this,d))}disableClick(){this.div.removeEventListener("pointerdown",o(this,T)),this.div.removeEventListener("pointerup",o(this,d))}attach(g){o(this,B).set(g.id,g);const{annotationElementId:U}=g;U&&o(this,G).isDeletedAnnotationElement(U)&&o(this,G).removeDeletedAnnotationElement(g)}detach(g){var U;o(this,B).delete(g.id),(U=o(this,c))==null||U.removePointerInTextLayer(g.contentDiv),!o(this,N)&&g.annotationElementId&&o(this,G).addDeletedAnnotationElement(g)}remove(g){this.detach(g),o(this,G).removeEditor(g),g.div.contains(document.activeElement)&&setTimeout(()=>{o(this,G).focusMainContainer()},0),g.div.remove(),g.isAttachedToDOM=!1,o(this,j)||this.addInkEditorIfNeeded(!1)}changeParent(g){var U;g.parent!==this&&(g.annotationElementId&&(o(this,G).addDeletedAnnotationElement(g.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(g),g.annotationElementId=null),this.attach(g),(U=g.parent)==null||U.detach(g),g.setParent(this),g.div&&g.isAttachedToDOM&&(g.div.remove(),this.div.append(g.div)))}add(g){if(this.changeParent(g),o(this,G).addEditor(g),this.attach(g),!g.isAttachedToDOM){const U=g.render();this.div.append(U),g.isAttachedToDOM=!0}g.fixAndSetPosition(),g.onceAdded(),o(this,G).addToAnnotationStorage(g)}moveEditorInDOM(g){var K;if(!g.isAttachedToDOM)return;const{activeElement:U}=document;g.div.contains(U)&&(g._focusEventsAllowed=!1,setTimeout(()=>{g.div.contains(document.activeElement)?g._focusEventsAllowed=!0:(g.div.addEventListener("focusin",()=>{g._focusEventsAllowed=!0},{once:!0}),U.focus())},0)),g._structTreeParentId=(K=o(this,c))==null?void 0:K.moveElementInDOM(this.div,g.div,g.contentDiv,!0)}addOrRebuild(g){g.needsToBeRebuilt()?g.rebuild():this.add(g)}addUndoableEditor(g){const U=()=>g._uiManager.rebuild(g),K=()=>{g.remove()};this.addCommands({cmd:U,undo:K,mustExec:!1})}getNextId(){return o(this,G).getId()}pasteEditor(g,U){o(this,G).updateToolbar(g),o(this,G).updateMode(g);const{offsetX:K,offsetY:pe}=fe(this,z,fn).call(this),re=this.getNextId(),ce=fe(this,z,dn).call(this,{parent:this,id:re,x:K,y:pe,uiManager:o(this,G),isCentered:!0,...U});ce&&this.add(ce)}deserialize(g){switch(g.annotationType??g.annotationEditorType){case n.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(g,this,o(this,G));case n.AnnotationEditorType.INK:return u.InkEditor.deserialize(g,this,o(this,G));case n.AnnotationEditorType.STAMP:return h.StampEditor.deserialize(g,this,o(this,G))}return null}addNewEditor(){fe(this,z,$t).call(this,fe(this,z,fn).call(this),!0)}setSelected(g){o(this,G).setSelected(g)}toggleSelected(g){o(this,G).toggleSelected(g)}isSelected(g){return o(this,G).isSelected(g)}unselect(g){o(this,G).unselect(g)}pointerup(g){const{isMac:U}=n.FeatureTest.platform;if(!(g.button!==0||g.ctrlKey&&U)&&g.target===this.div&&o(this,_)){if(we(this,_,!1),!o(this,S)){we(this,S,!0);return}if(o(this,G).getMode()===n.AnnotationEditorType.STAMP){o(this,G).unselectAll();return}fe(this,z,$t).call(this,g,!1)}}pointerdown(g){if(o(this,_)){we(this,_,!1);return}const{isMac:U}=n.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&U||g.target!==this.div)return;we(this,_,!0);const K=o(this,G).getActive();we(this,S,!K||K.isEmpty())}findNewParent(g,U,K){const pe=o(this,G).findParent(U,K);return pe===null||pe===this?!1:(pe.changeParent(g),!0)}destroy(){var g,U;((g=o(this,G).getActive())==null?void 0:g.parent)===this&&(o(this,G).commitOrRemove(),o(this,G).setActiveEditor(null));for(const K of o(this,B).values())(U=o(this,c))==null||U.removePointerInTextLayer(K.contentDiv),K.setParent(null),K.isAttachedToDOM=!1,K.div.remove();this.div=null,o(this,B).clear(),o(this,G).removeLayer(this)}render({viewport:g}){this.viewport=g,(0,$.setLayerDimensions)(this.div,g);for(const U of o(this,G).getEditors(this.pageIndex))this.add(U);this.updateMode()}update({viewport:g}){o(this,G).commitOrRemove(),this.viewport=g,(0,$.setLayerDimensions)(this.div,{rotation:g.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:g,pageHeight:U}=this.viewport.rawDims;return[g,U]}};c=new WeakMap,S=new WeakMap,E=new WeakMap,d=new WeakMap,T=new WeakMap,B=new WeakMap,_=new WeakMap,j=new WeakMap,N=new WeakMap,G=new WeakMap,z=new WeakSet,dn=function(g){switch(o(this,G).getMode()){case n.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(g);case n.AnnotationEditorType.INK:return new u.InkEditor(g);case n.AnnotationEditorType.STAMP:return new h.StampEditor(g)}return null},$t=function(g,U){const K=this.getNextId(),pe=fe(this,z,dn).call(this,{parent:this,id:K,x:g.offsetX,y:g.offsetY,uiManager:o(this,G),isCentered:U});return pe&&this.add(pe),pe},fn=function(){const{x:g,y:U,width:K,height:pe}=this.div.getBoundingClientRect(),re=Math.max(0,g),ce=Math.max(0,U),ie=Math.min(window.innerWidth,g+K),ye=Math.min(window.innerHeight,U+pe),Y=(re+ie)/2-g,ae=(ce+ye)/2-U,[be,q]=this.viewport.rotation%180===0?[Y,ae]:[ae,Y];return{offsetX:be,offsetY:q}},pn=function(){we(this,j,!0);for(const g of o(this,B).values())g.isEmpty()&&g.remove();we(this,j,!1)},ht(F,"_initialized",!1);let f=F;e.AnnotationEditorLayer=f},(t,e,s)=>{var h,f,c,S,E,d,T,B,_,j,Hn,Wn,Un,Tt,gn,Vn,mn;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=s(1),i=s(5),a=s(4),u=s(29);const F=class F extends a.AnnotationEditor{constructor(U){super({...U,name:"freeTextEditor"});Se(this,j);Se(this,h,this.editorDivBlur.bind(this));Se(this,f,this.editorDivFocus.bind(this));Se(this,c,this.editorDivInput.bind(this));Se(this,S,this.editorDivKeydown.bind(this));Se(this,E);Se(this,d,"");Se(this,T,`${this.id}-editor`);Se(this,B);Se(this,_,null);we(this,E,U.color||F._defaultColor||a.AnnotationEditor._defaultLineColor),we(this,B,U.fontSize||F._defaultFontSize)}static get _keyboardManager(){const U=F.prototype,K=ce=>ce.isEmpty(),pe=i.AnnotationEditorUIManager.TRANSLATE_SMALL,re=i.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,n.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],U.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],U.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],U._translateEmpty,{args:[-pe,0],checker:K}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],U._translateEmpty,{args:[-re,0],checker:K}],[["ArrowRight","mac+ArrowRight"],U._translateEmpty,{args:[pe,0],checker:K}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],U._translateEmpty,{args:[re,0],checker:K}],[["ArrowUp","mac+ArrowUp"],U._translateEmpty,{args:[0,-pe],checker:K}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],U._translateEmpty,{args:[0,-re],checker:K}],[["ArrowDown","mac+ArrowDown"],U._translateEmpty,{args:[0,pe],checker:K}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],U._translateEmpty,{args:[0,re],checker:K}]]))}static initialize(U){a.AnnotationEditor.initialize(U,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const K=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(K.getPropertyValue("--freetext-padding"))}static updateDefaultParams(U,K){switch(U){case n.AnnotationEditorParamsType.FREETEXT_SIZE:F._defaultFontSize=K;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:F._defaultColor=K;break}}updateParams(U,K){switch(U){case n.AnnotationEditorParamsType.FREETEXT_SIZE:fe(this,j,Hn).call(this,K);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:fe(this,j,Wn).call(this,K);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,F._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,F._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,o(this,B)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,o(this,E)]]}_translateEmpty(U,K){this._uiManager.translateSelectedEditors(U,K,!0)}getInitialTranslation(){const U=this.parentScale;return[-F._internalPadding*U,-(F._internalPadding+o(this,B))*U]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",o(this,S)),this.editorDiv.addEventListener("focus",o(this,f)),this.editorDiv.addEventListener("blur",o(this,h)),this.editorDiv.addEventListener("input",o(this,c)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",o(this,T)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",o(this,S)),this.editorDiv.removeEventListener("focus",o(this,f)),this.editorDiv.removeEventListener("blur",o(this,h)),this.editorDiv.removeEventListener("input",o(this,c)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(U){this._focusEventsAllowed&&(super.focusin(U),U.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var U;if(this.width){fe(this,j,mn).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(U=this._initialOptions)!=null&&U.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const U=o(this,d),K=we(this,d,fe(this,j,Un).call(this).trimEnd());if(U===K)return;const pe=re=>{if(we(this,d,re),!re){this.remove();return}fe(this,j,gn).call(this),this._uiManager.rebuild(this),fe(this,j,Tt).call(this)};this.addCommands({cmd:()=>{pe(K)},undo:()=>{pe(U)},mustExec:!1}),fe(this,j,Tt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(U){this.enterInEditMode()}keydown(U){U.target===this.div&&U.key==="Enter"&&(this.enterInEditMode(),U.preventDefault())}editorDivKeydown(U){F._keyboardManager.exec(this,U)}editorDivFocus(U){this.isEditing=!0}editorDivBlur(U){this.isEditing=!1}editorDivInput(U){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let U,K;this.width&&(U=this.x,K=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",o(this,T)),this.enableEditing(),a.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(re=>{var ce;return(ce=this.editorDiv)==null?void 0:ce.setAttribute("aria-label",re)}),a.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(re=>{var ce;return(ce=this.editorDiv)==null?void 0:ce.setAttribute("default-content",re)}),this.editorDiv.contentEditable=!0;const{style:pe}=this.editorDiv;if(pe.fontSize=`calc(${o(this,B)}px * var(--scale-factor))`,pe.color=o(this,E),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[re,ce]=this.parentDimensions;if(this.annotationElementId){const{position:ie}=o(this,_);let[ye,Y]=this.getInitialTranslation();[ye,Y]=this.pageTranslationToScreen(ye,Y);const[ae,be]=this.pageDimensions,[q,p]=this.pageTranslation;let y,H;switch(this.rotation){case 0:y=U+(ie[0]-q)/ae,H=K+this.height-(ie[1]-p)/be;break;case 90:y=U+(ie[0]-q)/ae,H=K-(ie[1]-p)/be,[ye,Y]=[Y,-ye];break;case 180:y=U-this.width+(ie[0]-q)/ae,H=K-(ie[1]-p)/be,[ye,Y]=[-ye,-Y];break;case 270:y=U+(ie[0]-q-this.height*be)/ae,H=K+(ie[1]-p-this.width*ae)/be,[ye,Y]=[-Y,ye];break}this.setAt(y*re,H*ce,ye,Y)}else this.setAt(U*re,K*ce,this.width*re,this.height*ce);fe(this,j,gn).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(U,K,pe){let re=null;if(U instanceof u.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:ie,fontColor:ye},rect:Y,rotation:ae,id:be},textContent:q,textPosition:p,parent:{page:{pageNumber:y}}}=U;if(!q||q.length===0)return null;re=U={annotationType:n.AnnotationEditorType.FREETEXT,color:Array.from(ye),fontSize:ie,value:q.join(`
`),position:p,pageIndex:y-1,rect:Y,rotation:ae,id:be,deleted:!1}}const ce=super.deserialize(U,K,pe);return we(ce,B,U.fontSize),we(ce,E,n.Util.makeHexColor(...U.color)),we(ce,d,U.value),ce.annotationElementId=U.id||null,we(ce,_,re),ce}serialize(U=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const K=F._internalPadding*this.parentScale,pe=this.getRect(K,K),re=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:o(this,E)),ce={annotationType:n.AnnotationEditorType.FREETEXT,color:re,fontSize:o(this,B),value:o(this,d),pageIndex:this.pageIndex,rect:pe,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return U?ce:this.annotationElementId&&!fe(this,j,Vn).call(this,ce)?null:(ce.id=this.annotationElementId,ce)}};h=new WeakMap,f=new WeakMap,c=new WeakMap,S=new WeakMap,E=new WeakMap,d=new WeakMap,T=new WeakMap,B=new WeakMap,_=new WeakMap,j=new WeakSet,Hn=function(U){const K=re=>{this.editorDiv.style.fontSize=`calc(${re}px * var(--scale-factor))`,this.translate(0,-(re-o(this,B))*this.parentScale),we(this,B,re),fe(this,j,Tt).call(this)},pe=o(this,B);this.addCommands({cmd:()=>{K(U)},undo:()=>{K(pe)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Wn=function(U){const K=o(this,E);this.addCommands({cmd:()=>{we(this,E,this.editorDiv.style.color=U)},undo:()=>{we(this,E,this.editorDiv.style.color=K)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Un=function(){const U=this.editorDiv.getElementsByTagName("div");if(U.length===0)return this.editorDiv.innerText;const K=[];for(const pe of U)K.push(pe.innerText.replace(/\r\n?|\n/,""));return K.join(`
`)},Tt=function(){const[U,K]=this.parentDimensions;let pe;if(this.isAttachedToDOM)pe=this.div.getBoundingClientRect();else{const{currentLayer:re,div:ce}=this,ie=ce.style.display;ce.style.display="hidden",re.div.append(this.div),pe=ce.getBoundingClientRect(),ce.remove(),ce.style.display=ie}this.rotation%180===this.parentRotation%180?(this.width=pe.width/U,this.height=pe.height/K):(this.width=pe.height/U,this.height=pe.width/K),this.fixAndSetPosition()},gn=function(){if(this.editorDiv.replaceChildren(),!!o(this,d))for(const U of o(this,d).split(`
`)){const K=document.createElement("div");K.append(U?document.createTextNode(U):document.createElement("br")),this.editorDiv.append(K)}},Vn=function(U){const{value:K,fontSize:pe,color:re,rect:ce,pageIndex:ie}=o(this,_);return U.value!==K||U.fontSize!==pe||U.rect.some((ye,Y)=>Math.abs(ye-ce[Y])>=1)||U.color.some((ye,Y)=>ye!==re[Y])||U.pageIndex!==ie},mn=function(U=!1){if(!this.annotationElementId)return;if(fe(this,j,Tt).call(this),!U&&(this.width===0||this.height===0)){setTimeout(()=>fe(this,j,mn).call(this,!0),0);return}const K=F._internalPadding*this.parentScale;o(this,_).rect=this.getRect(K,K)},ht(F,"_freeTextDefaultContent",""),ht(F,"_internalPadding",0),ht(F,"_defaultColor",null),ht(F,"_defaultFontSize",10),ht(F,"_type","freetext");let $=F;e.FreeTextEditor=$},(t,e,s)=>{var H,ee,yt,Gn,me,ke,Ce,Te,Me,Le,ue,xe,W,ne,he,ve,Pe,Oe,Fe,ge,Be,$e,qn,Bt,xn,bn,Je,st,ct,Ie,Ee,Ae,Ve,yn,rt,se,je,ze,Xn,vn;Object.defineProperty(e,"__esModule",{value:!0}),e.StampAnnotationElement=e.InkAnnotationElement=e.FreeTextAnnotationElement=e.AnnotationLayer=void 0;var n=s(1),i=s(6),a=s(3),u=s(30),$=s(31),h=s(32);const f=1e3,c=9,S=new WeakSet;function E(Ue){return{width:Ue[2]-Ue[0],height:Ue[3]-Ue[1]}}class d{static create(Q){switch(Q.data.annotationType){case n.AnnotationType.LINK:return new B(Q);case n.AnnotationType.TEXT:return new _(Q);case n.AnnotationType.WIDGET:switch(Q.data.fieldType){case"Tx":return new N(Q);case"Btn":return Q.data.radioButton?new x(Q):Q.data.checkBox?new z(Q):new O(Q);case"Ch":return new A(Q);case"Sig":return new G(Q)}return new j(Q);case n.AnnotationType.POPUP:return new k(Q);case n.AnnotationType.FREETEXT:return new J(Q);case n.AnnotationType.LINE:return new g(Q);case n.AnnotationType.SQUARE:return new U(Q);case n.AnnotationType.CIRCLE:return new K(Q);case n.AnnotationType.POLYLINE:return new pe(Q);case n.AnnotationType.CARET:return new ce(Q);case n.AnnotationType.INK:return new ie(Q);case n.AnnotationType.POLYGON:return new re(Q);case n.AnnotationType.HIGHLIGHT:return new ye(Q);case n.AnnotationType.UNDERLINE:return new Y(Q);case n.AnnotationType.SQUIGGLY:return new ae(Q);case n.AnnotationType.STRIKEOUT:return new be(Q);case n.AnnotationType.STAMP:return new q(Q);case n.AnnotationType.FILEATTACHMENT:return new p(Q);default:return new T(Q)}}}const Z=class Z{constructor(Q,{isRenderable:X=!1,ignoreBorder:oe=!1,createQuadrilaterals:_e=!1}={}){Se(this,H,!1);this.isRenderable=X,this.data=Q.data,this.layer=Q.layer,this.linkService=Q.linkService,this.downloadManager=Q.downloadManager,this.imageResourcesPath=Q.imageResourcesPath,this.renderForms=Q.renderForms,this.svgFactory=Q.svgFactory,this.annotationStorage=Q.annotationStorage,this.enableScripting=Q.enableScripting,this.hasJSActions=Q.hasJSActions,this._fieldObjects=Q.fieldObjects,this.parent=Q.parent,X&&(this.container=this._createContainer(oe)),_e&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Q,contentsObj:X,richText:oe}){return!!(Q!=null&&Q.str||X!=null&&X.str||oe!=null&&oe.str)}get hasPopupData(){return Z._hasPopupData(this.data)}_createContainer(Q){const{data:X,parent:{page:oe,viewport:_e}}=this,Re=document.createElement("section");Re.setAttribute("data-annotation-id",X.id),this instanceof j||(Re.tabIndex=f),Re.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Re.setAttribute("aria-haspopup","dialog"),X.noRotate&&Re.classList.add("norotate");const{pageWidth:De,pageHeight:Ne,pageX:Ye,pageY:Ge}=_e.rawDims;if(!X.rect||this instanceof k){const{rotation:et}=X;return!X.hasOwnCanvas&&et!==0&&this.setRotation(et,Re),Re}const{width:He,height:nt}=E(X.rect),qe=n.Util.normalizeRect([X.rect[0],oe.view[3]-X.rect[1]+oe.view[1],X.rect[2],oe.view[3]-X.rect[3]+oe.view[1]]);if(!Q&&X.borderStyle.width>0){Re.style.borderWidth=`${X.borderStyle.width}px`;const et=X.borderStyle.horizontalCornerRadius,it=X.borderStyle.verticalCornerRadius;if(et>0||it>0){const ut=`calc(${et}px * var(--scale-factor)) / calc(${it}px * var(--scale-factor))`;Re.style.borderRadius=ut}else if(this instanceof x){const ut=`calc(${He}px * var(--scale-factor)) / calc(${nt}px * var(--scale-factor))`;Re.style.borderRadius=ut}switch(X.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:Re.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:Re.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:Re.style.borderBottomStyle="solid";break}const lt=X.borderColor||null;lt?(we(this,H,!0),Re.style.borderColor=n.Util.makeHexColor(lt[0]|0,lt[1]|0,lt[2]|0)):Re.style.borderWidth=0}Re.style.left=`${100*(qe[0]-Ye)/De}%`,Re.style.top=`${100*(qe[1]-Ge)/Ne}%`;const{rotation:Ke}=X;return X.hasOwnCanvas||Ke===0?(Re.style.width=`${100*He/De}%`,Re.style.height=`${100*nt/Ne}%`):this.setRotation(Ke,Re),Re}setRotation(Q,X=this.container){if(!this.data.rect)return;const{pageWidth:oe,pageHeight:_e}=this.parent.viewport.rawDims,{width:Re,height:De}=E(this.data.rect);let Ne,Ye;Q%180===0?(Ne=100*Re/oe,Ye=100*De/_e):(Ne=100*De/oe,Ye=100*Re/_e),X.style.width=`${Ne}%`,X.style.height=`${Ye}%`,X.setAttribute("data-main-rotation",(360-Q)%360)}get _commonActions(){const Q=(X,oe,_e)=>{const Re=_e.detail[X],De=Re[0],Ne=Re.slice(1);_e.target.style[oe]=u.ColorConverters[`${De}_HTML`](Ne),this.annotationStorage.setValue(this.data.id,{[oe]:u.ColorConverters[`${De}_rgb`](Ne)})};return(0,n.shadow)(this,"_commonActions",{display:X=>{const{display:oe}=X.detail,_e=oe%2===1;this.container.style.visibility=_e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:_e,noPrint:oe===1||oe===2})},print:X=>{this.annotationStorage.setValue(this.data.id,{noPrint:!X.detail.print})},hidden:X=>{const{hidden:oe}=X.detail;this.container.style.visibility=oe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:oe,noView:oe})},focus:X=>{setTimeout(()=>X.target.focus({preventScroll:!1}),0)},userName:X=>{X.target.title=X.detail.userName},readonly:X=>{X.target.disabled=X.detail.readonly},required:X=>{this._setRequired(X.target,X.detail.required)},bgColor:X=>{Q("bgColor","backgroundColor",X)},fillColor:X=>{Q("fillColor","backgroundColor",X)},fgColor:X=>{Q("fgColor","color",X)},textColor:X=>{Q("textColor","color",X)},borderColor:X=>{Q("borderColor","borderColor",X)},strokeColor:X=>{Q("strokeColor","borderColor",X)},rotation:X=>{const oe=X.detail.rotation;this.setRotation(oe),this.annotationStorage.setValue(this.data.id,{rotation:oe})}})}_dispatchEventFromSandbox(Q,X){const oe=this._commonActions;for(const _e of Object.keys(X.detail)){const Re=Q[_e]||oe[_e];Re==null||Re(X)}}_setDefaultPropertiesFromJS(Q){if(!this.enableScripting)return;const X=this.annotationStorage.getRawValue(this.data.id);if(!X)return;const oe=this._commonActions;for(const[_e,Re]of Object.entries(X)){const De=oe[_e];if(De){const Ne={detail:{[_e]:Re},target:Q};De(Ne),delete X[_e]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Q}=this.data;if(!Q)return;const[X,oe,_e,Re]=this.data.rect;if(Q.length===1){const[,{x:it,y:lt},{x:ut,y:ft}]=Q[0];if(_e===it&&Re===lt&&X===ut&&oe===ft)return}const{style:De}=this.container;let Ne;if(o(this,H)){const{borderColor:it,borderWidth:lt}=De;De.borderWidth=0,Ne=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${it}" stroke-width="${lt}">`],this.container.classList.add("hasBorder")}const Ye=_e-X,Ge=Re-oe,{svgFactory:He}=this,nt=He.createElement("svg");nt.classList.add("quadrilateralsContainer"),nt.setAttribute("width",0),nt.setAttribute("height",0);const qe=He.createElement("defs");nt.append(qe);const Ke=He.createElement("clipPath"),et=`clippath_${this.data.id}`;Ke.setAttribute("id",et),Ke.setAttribute("clipPathUnits","objectBoundingBox"),qe.append(Ke);for(const[,{x:it,y:lt},{x:ut,y:ft}]of Q){const dt=He.createElement("rect"),gt=(ut-X)/Ye,xt=(Re-lt)/Ge,bt=(it-ut)/Ye,Pn=(lt-ft)/Ge;dt.setAttribute("x",gt),dt.setAttribute("y",xt),dt.setAttribute("width",bt),dt.setAttribute("height",Pn),Ke.append(dt),Ne==null||Ne.push(`<rect vector-effect="non-scaling-stroke" x="${gt}" y="${xt}" width="${bt}" height="${Pn}"/>`)}o(this,H)&&(Ne.push("</g></svg>')"),De.backgroundImage=Ne.join("")),this.container.append(nt),this.container.style.clipPath=`url(#${et})`}_createPopup(){const{container:Q,data:X}=this;Q.setAttribute("aria-haspopup","dialog");const oe=new k({data:{color:X.color,titleObj:X.titleObj,modificationDate:X.modificationDate,contentsObj:X.contentsObj,richText:X.richText,parentRect:X.rect,borderStyle:0,id:`popup_${X.id}`,rotation:X.rotation},parent:this.parent,elements:[this]});this.parent.div.append(oe.render())}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Q,X=null){const oe=[];if(this._fieldObjects){const _e=this._fieldObjects[Q];if(_e)for(const{page:Re,id:De,exportValues:Ne}of _e){if(Re===-1||De===X)continue;const Ye=typeof Ne=="string"?Ne:null,Ge=document.querySelector(`[data-element-id="${De}"]`);if(Ge&&!S.has(Ge)){(0,n.warn)(`_getElementsByName - element not allowed: ${De}`);continue}oe.push({id:De,exportValue:Ye,domElement:Ge})}return oe}for(const _e of document.getElementsByName(Q)){const{exportValue:Re}=_e,De=_e.getAttribute("data-element-id");De!==X&&S.has(_e)&&oe.push({id:De,exportValue:Re,domElement:_e})}return oe}show(){var Q;this.container&&(this.container.hidden=!1),(Q=this.popup)==null||Q.maybeShow()}hide(){var Q;this.container&&(this.container.hidden=!0),(Q=this.popup)==null||Q.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Q=this.getElementsToTriggerPopup();if(Array.isArray(Q))for(const X of Q)X.classList.add("highlightArea");else Q.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Q,data:{id:X}}=this;this.container.addEventListener("dblclick",()=>{var oe;(oe=this.linkService.eventBus)==null||oe.dispatch("switchannotationeditormode",{source:this,mode:Q,editId:X})})}};H=new WeakMap;let T=Z;class B extends T{constructor(X,oe=null){super(X,{isRenderable:!0,ignoreBorder:!!(oe!=null&&oe.ignoreBorder),createQuadrilaterals:!0});Se(this,ee);this.isTooltipOnly=X.data.isTooltipOnly}render(){const{data:X,linkService:oe}=this,_e=document.createElement("a");_e.setAttribute("data-element-id",X.id);let Re=!1;return X.url?(oe.addLinkAttributes(_e,X.url,X.newWindow),Re=!0):X.action?(this._bindNamedAction(_e,X.action),Re=!0):X.attachment?(this._bindAttachment(_e,X.attachment),Re=!0):X.setOCGState?(fe(this,ee,Gn).call(this,_e,X.setOCGState),Re=!0):X.dest?(this._bindLink(_e,X.dest),Re=!0):(X.actions&&(X.actions.Action||X.actions["Mouse Up"]||X.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(_e,X),Re=!0),X.resetForm?(this._bindResetFormAction(_e,X.resetForm),Re=!0):this.isTooltipOnly&&!Re&&(this._bindLink(_e,""),Re=!0)),this.container.classList.add("linkAnnotation"),Re&&this.container.append(_e),this.container}_bindLink(X,oe){X.href=this.linkService.getDestinationHash(oe),X.onclick=()=>(oe&&this.linkService.goToDestination(oe),!1),(oe||oe==="")&&fe(this,ee,yt).call(this)}_bindNamedAction(X,oe){X.href=this.linkService.getAnchorUrl(""),X.onclick=()=>(this.linkService.executeNamedAction(oe),!1),fe(this,ee,yt).call(this)}_bindAttachment(X,oe){X.href=this.linkService.getAnchorUrl(""),X.onclick=()=>{var _e;return(_e=this.downloadManager)==null||_e.openOrDownloadData(this.container,oe.content,oe.filename),!1},fe(this,ee,yt).call(this)}_bindJSAction(X,oe){X.href=this.linkService.getAnchorUrl("");const _e=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Re of Object.keys(oe.actions)){const De=_e.get(Re);De&&(X[De]=()=>{var Ne;return(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:oe.id,name:Re}}),!1})}X.onclick||(X.onclick=()=>!1),fe(this,ee,yt).call(this)}_bindResetFormAction(X,oe){const _e=X.onclick;if(_e||(X.href=this.linkService.getAnchorUrl("")),fe(this,ee,yt).call(this),!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),_e||(X.onclick=()=>!1);return}X.onclick=()=>{var nt;_e==null||_e();const{fields:Re,refs:De,include:Ne}=oe,Ye=[];if(Re.length!==0||De.length!==0){const qe=new Set(De);for(const Ke of Re){const et=this._fieldObjects[Ke]||[];for(const{id:it}of et)qe.add(it)}for(const Ke of Object.values(this._fieldObjects))for(const et of Ke)qe.has(et.id)===Ne&&Ye.push(et)}else for(const qe of Object.values(this._fieldObjects))Ye.push(...qe);const Ge=this.annotationStorage,He=[];for(const qe of Ye){const{id:Ke}=qe;switch(He.push(Ke),qe.type){case"text":{const it=qe.defaultValue||"";Ge.setValue(Ke,{value:it});break}case"checkbox":case"radiobutton":{const it=qe.defaultValue===qe.exportValues;Ge.setValue(Ke,{value:it});break}case"combobox":case"listbox":{const it=qe.defaultValue||"";Ge.setValue(Ke,{value:it});break}default:continue}const et=document.querySelector(`[data-element-id="${Ke}"]`);if(et){if(!S.has(et)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${Ke}`);continue}}else continue;et.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:He,name:"ResetForm"}})),!1}}}ee=new WeakSet,yt=function(){this.container.setAttribute("data-internal-link","")},Gn=function(X,oe){X.href=this.linkService.getAnchorUrl(""),X.onclick=()=>(this.linkService.executeSetOCGState(oe),!1),fe(this,ee,yt).call(this)};class _ extends T{constructor(Q){super(Q,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Q=document.createElement("img");return Q.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Q.alt="[{{type}} Annotation]",Q.dataset.l10nId="text_annotation_type",Q.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Q),this.container}}class j extends T{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Q){var X;this.data.hasOwnCanvas&&(((X=Q.previousSibling)==null?void 0:X.nodeName)==="CANVAS"&&(Q.previousSibling.hidden=!0),Q.hidden=!1)}_getKeyModifier(Q){const{isWin:X,isMac:oe}=n.FeatureTest.platform;return X&&Q.ctrlKey||oe&&Q.metaKey}_setEventListener(Q,X,oe,_e,Re){oe.includes("mouse")?Q.addEventListener(oe,De=>{var Ne;(Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_e,value:Re(De),shift:De.shiftKey,modifier:this._getKeyModifier(De)}})}):Q.addEventListener(oe,De=>{var Ne;if(oe==="blur"){if(!X.focused||!De.relatedTarget)return;X.focused=!1}else if(oe==="focus"){if(X.focused)return;X.focused=!0}Re&&((Ne=this.linkService.eventBus)==null||Ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_e,value:Re(De)}}))})}_setEventListeners(Q,X,oe,_e){var Re,De,Ne;for(const[Ye,Ge]of oe)(Ge==="Action"||(Re=this.data.actions)!=null&&Re[Ge])&&((Ge==="Focus"||Ge==="Blur")&&(X||(X={focused:!1})),this._setEventListener(Q,X,Ye,Ge,_e),Ge==="Focus"&&!((De=this.data.actions)!=null&&De.Blur)?this._setEventListener(Q,X,"blur","Blur",null):Ge==="Blur"&&!((Ne=this.data.actions)!=null&&Ne.Focus)&&this._setEventListener(Q,X,"focus","Focus",null))}_setBackgroundColor(Q){const X=this.data.backgroundColor||null;Q.style.backgroundColor=X===null?"transparent":n.Util.makeHexColor(X[0],X[1],X[2])}_setTextStyle(Q){const X=["left","center","right"],{fontColor:oe}=this.data.defaultAppearanceData,_e=this.data.defaultAppearanceData.fontSize||c,Re=Q.style;let De;const Ne=2,Ye=Ge=>Math.round(10*Ge)/10;if(this.data.multiLine){const Ge=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne),He=Math.round(Ge/(n.LINE_FACTOR*_e))||1,nt=Ge/He;De=Math.min(_e,Ye(nt/n.LINE_FACTOR))}else{const Ge=Math.abs(this.data.rect[3]-this.data.rect[1]-Ne);De=Math.min(_e,Ye(Ge/n.LINE_FACTOR))}Re.fontSize=`calc(${De}px * var(--scale-factor))`,Re.color=n.Util.makeHexColor(oe[0],oe[1],oe[2]),this.data.textAlignment!==null&&(Re.textAlign=X[this.data.textAlignment])}_setRequired(Q,X){X?Q.setAttribute("required",!0):Q.removeAttribute("required"),Q.setAttribute("aria-required",X)}}class N extends j{constructor(Q){const X=Q.renderForms||!Q.data.hasAppearance&&!!Q.data.fieldValue;super(Q,{isRenderable:X})}setPropertyOnSiblings(Q,X,oe,_e){const Re=this.annotationStorage;for(const De of this._getElementsByName(Q.name,Q.id))De.domElement&&(De.domElement[X]=oe),Re.setValue(De.id,{[_e]:oe})}render(){var _e,Re;const Q=this.annotationStorage,X=this.data.id;this.container.classList.add("textWidgetAnnotation");let oe=null;if(this.renderForms){const De=Q.getValue(X,{value:this.data.fieldValue});let Ne=De.value||"";const Ye=Q.getValue(X,{charLimit:this.data.maxLen}).charLimit;Ye&&Ne.length>Ye&&(Ne=Ne.slice(0,Ye));let Ge=De.formattedValue||((_e=this.data.textContent)==null?void 0:_e.join(`
`))||null;Ge&&this.data.comb&&(Ge=Ge.replaceAll(/\s+/g,""));const He={userValue:Ne,formattedValue:Ge,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(oe=document.createElement("textarea"),oe.textContent=Ge??Ne,this.data.doNotScroll&&(oe.style.overflowY="hidden")):(oe=document.createElement("input"),oe.type="text",oe.setAttribute("value",Ge??Ne),this.data.doNotScroll&&(oe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(oe.hidden=!0),S.add(oe),oe.setAttribute("data-element-id",X),oe.disabled=this.data.readOnly,oe.name=this.data.fieldName,oe.tabIndex=f,this._setRequired(oe,this.data.required),Ye&&(oe.maxLength=Ye),oe.addEventListener("input",qe=>{Q.setValue(X,{value:qe.target.value}),this.setPropertyOnSiblings(oe,"value",qe.target.value,"value"),He.formattedValue=null}),oe.addEventListener("resetform",qe=>{const Ke=this.data.defaultFieldValue??"";oe.value=He.userValue=Ke,He.formattedValue=null});let nt=qe=>{const{formattedValue:Ke}=He;Ke!=null&&(qe.target.value=Ke),qe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){oe.addEventListener("focus",Ke=>{if(He.focused)return;const{target:et}=Ke;He.userValue&&(et.value=He.userValue),He.lastCommittedValue=et.value,He.commitKey=1,He.focused=!0}),oe.addEventListener("updatefromsandbox",Ke=>{this.showElementAndHideCanvas(Ke.target);const et={value(it){He.userValue=it.detail.value??"",Q.setValue(X,{value:He.userValue.toString()}),it.target.value=He.userValue},formattedValue(it){const{formattedValue:lt}=it.detail;He.formattedValue=lt,lt!=null&&it.target!==document.activeElement&&(it.target.value=lt),Q.setValue(X,{formattedValue:lt})},selRange(it){it.target.setSelectionRange(...it.detail.selRange)},charLimit:it=>{var dt;const{charLimit:lt}=it.detail,{target:ut}=it;if(lt===0){ut.removeAttribute("maxLength");return}ut.setAttribute("maxLength",lt);let ft=He.userValue;!ft||ft.length<=lt||(ft=ft.slice(0,lt),ut.value=He.userValue=ft,Q.setValue(X,{value:ft}),(dt=this.linkService.eventBus)==null||dt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:ft,willCommit:!0,commitKey:1,selStart:ut.selectionStart,selEnd:ut.selectionEnd}}))}};this._dispatchEventFromSandbox(et,Ke)}),oe.addEventListener("keydown",Ke=>{var lt;He.commitKey=1;let et=-1;if(Ke.key==="Escape"?et=0:Ke.key==="Enter"&&!this.data.multiLine?et=2:Ke.key==="Tab"&&(He.commitKey=3),et===-1)return;const{value:it}=Ke.target;He.lastCommittedValue!==it&&(He.lastCommittedValue=it,He.userValue=it,(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:it,willCommit:!0,commitKey:et,selStart:Ke.target.selectionStart,selEnd:Ke.target.selectionEnd}}))});const qe=nt;nt=null,oe.addEventListener("blur",Ke=>{var it;if(!He.focused||!Ke.relatedTarget)return;He.focused=!1;const{value:et}=Ke.target;He.userValue=et,He.lastCommittedValue!==et&&((it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:et,willCommit:!0,commitKey:He.commitKey,selStart:Ke.target.selectionStart,selEnd:Ke.target.selectionEnd}})),qe(Ke)}),(Re=this.data.actions)!=null&&Re.Keystroke&&oe.addEventListener("beforeinput",Ke=>{var xt;He.lastCommittedValue=null;const{data:et,target:it}=Ke,{value:lt,selectionStart:ut,selectionEnd:ft}=it;let dt=ut,gt=ft;switch(Ke.inputType){case"deleteWordBackward":{const bt=lt.substring(0,ut).match(/\w*[^\w]*$/);bt&&(dt-=bt[0].length);break}case"deleteWordForward":{const bt=lt.substring(ut).match(/^[^\w]*\w*/);bt&&(gt+=bt[0].length);break}case"deleteContentBackward":ut===ft&&(dt-=1);break;case"deleteContentForward":ut===ft&&(gt+=1);break}Ke.preventDefault(),(xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:lt,change:et||"",willCommit:!1,selStart:dt,selEnd:gt}})}),this._setEventListeners(oe,He,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ke=>Ke.target.value)}if(nt&&oe.addEventListener("blur",nt),this.data.comb){const Ke=(this.data.rect[2]-this.data.rect[0])/Ye;oe.classList.add("comb"),oe.style.letterSpacing=`calc(${Ke}px * var(--scale-factor) - 1ch)`}}else oe=document.createElement("div"),oe.textContent=this.data.fieldValue,oe.style.verticalAlign="middle",oe.style.display="table-cell";return this._setTextStyle(oe),this._setBackgroundColor(oe),this._setDefaultPropertiesFromJS(oe),this.container.append(oe),this.container}}class G extends j{constructor(Q){super(Q,{isRenderable:!!Q.data.hasOwnCanvas})}}class z extends j{constructor(Q){super(Q,{isRenderable:Q.renderForms})}render(){const Q=this.annotationStorage,X=this.data,oe=X.id;let _e=Q.getValue(oe,{value:X.exportValue===X.fieldValue}).value;typeof _e=="string"&&(_e=_e!=="Off",Q.setValue(oe,{value:_e})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Re=document.createElement("input");return S.add(Re),Re.setAttribute("data-element-id",oe),Re.disabled=X.readOnly,this._setRequired(Re,this.data.required),Re.type="checkbox",Re.name=X.fieldName,_e&&Re.setAttribute("checked",!0),Re.setAttribute("exportValue",X.exportValue),Re.tabIndex=f,Re.addEventListener("change",De=>{const{name:Ne,checked:Ye}=De.target;for(const Ge of this._getElementsByName(Ne,oe)){const He=Ye&&Ge.exportValue===X.exportValue;Ge.domElement&&(Ge.domElement.checked=He),Q.setValue(Ge.id,{value:He})}Q.setValue(oe,{value:Ye})}),Re.addEventListener("resetform",De=>{const Ne=X.defaultFieldValue||"Off";De.target.checked=Ne===X.exportValue}),this.enableScripting&&this.hasJSActions&&(Re.addEventListener("updatefromsandbox",De=>{const Ne={value(Ye){Ye.target.checked=Ye.detail.value!=="Off",Q.setValue(oe,{value:Ye.target.checked})}};this._dispatchEventFromSandbox(Ne,De)}),this._setEventListeners(Re,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],De=>De.target.checked)),this._setBackgroundColor(Re),this._setDefaultPropertiesFromJS(Re),this.container.append(Re),this.container}}class x extends j{constructor(Q){super(Q,{isRenderable:Q.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Q=this.annotationStorage,X=this.data,oe=X.id;let _e=Q.getValue(oe,{value:X.fieldValue===X.buttonValue}).value;typeof _e=="string"&&(_e=_e!==X.buttonValue,Q.setValue(oe,{value:_e}));const Re=document.createElement("input");if(S.add(Re),Re.setAttribute("data-element-id",oe),Re.disabled=X.readOnly,this._setRequired(Re,this.data.required),Re.type="radio",Re.name=X.fieldName,_e&&Re.setAttribute("checked",!0),Re.tabIndex=f,Re.addEventListener("change",De=>{const{name:Ne,checked:Ye}=De.target;for(const Ge of this._getElementsByName(Ne,oe))Q.setValue(Ge.id,{value:!1});Q.setValue(oe,{value:Ye})}),Re.addEventListener("resetform",De=>{const Ne=X.defaultFieldValue;De.target.checked=Ne!=null&&Ne===X.buttonValue}),this.enableScripting&&this.hasJSActions){const De=X.buttonValue;Re.addEventListener("updatefromsandbox",Ne=>{const Ye={value:Ge=>{const He=De===Ge.detail.value;for(const nt of this._getElementsByName(Ge.target.name)){const qe=He&&nt.id===oe;nt.domElement&&(nt.domElement.checked=qe),Q.setValue(nt.id,{value:qe})}}};this._dispatchEventFromSandbox(Ye,Ne)}),this._setEventListeners(Re,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ne=>Ne.target.checked)}return this._setBackgroundColor(Re),this._setDefaultPropertiesFromJS(Re),this.container.append(Re),this.container}}class O extends B{constructor(Q){super(Q,{ignoreBorder:Q.data.hasAppearance})}render(){const Q=super.render();Q.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Q.title=this.data.alternativeText);const X=Q.lastChild;return this.enableScripting&&this.hasJSActions&&X&&(this._setDefaultPropertiesFromJS(X),X.addEventListener("updatefromsandbox",oe=>{this._dispatchEventFromSandbox({},oe)})),Q}}class A extends j{constructor(Q){super(Q,{isRenderable:Q.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Q=this.annotationStorage,X=this.data.id,oe=Q.getValue(X,{value:this.data.fieldValue}),_e=document.createElement("select");S.add(_e),_e.setAttribute("data-element-id",X),_e.disabled=this.data.readOnly,this._setRequired(_e,this.data.required),_e.name=this.data.fieldName,_e.tabIndex=f;let Re=this.data.combo&&this.data.options.length>0;this.data.combo||(_e.size=this.data.options.length,this.data.multiSelect&&(_e.multiple=!0)),_e.addEventListener("resetform",He=>{const nt=this.data.defaultFieldValue;for(const qe of _e.options)qe.selected=qe.value===nt});for(const He of this.data.options){const nt=document.createElement("option");nt.textContent=He.displayValue,nt.value=He.exportValue,oe.value.includes(He.exportValue)&&(nt.setAttribute("selected",!0),Re=!1),_e.append(nt)}let De=null;if(Re){const He=document.createElement("option");He.value=" ",He.setAttribute("hidden",!0),He.setAttribute("selected",!0),_e.prepend(He),De=()=>{He.remove(),_e.removeEventListener("input",De),De=null},_e.addEventListener("input",De)}const Ne=He=>{const nt=He?"value":"textContent",{options:qe,multiple:Ke}=_e;return Ke?Array.prototype.filter.call(qe,et=>et.selected).map(et=>et[nt]):qe.selectedIndex===-1?null:qe[qe.selectedIndex][nt]};let Ye=Ne(!1);const Ge=He=>{const nt=He.target.options;return Array.prototype.map.call(nt,qe=>({displayValue:qe.textContent,exportValue:qe.value}))};return this.enableScripting&&this.hasJSActions?(_e.addEventListener("updatefromsandbox",He=>{const nt={value(qe){De==null||De();const Ke=qe.detail.value,et=new Set(Array.isArray(Ke)?Ke:[Ke]);for(const it of _e.options)it.selected=et.has(it.value);Q.setValue(X,{value:Ne(!0)}),Ye=Ne(!1)},multipleSelection(qe){_e.multiple=!0},remove(qe){const Ke=_e.options,et=qe.detail.remove;Ke[et].selected=!1,_e.remove(et),Ke.length>0&&Array.prototype.findIndex.call(Ke,lt=>lt.selected)===-1&&(Ke[0].selected=!0),Q.setValue(X,{value:Ne(!0),items:Ge(qe)}),Ye=Ne(!1)},clear(qe){for(;_e.length!==0;)_e.remove(0);Q.setValue(X,{value:null,items:[]}),Ye=Ne(!1)},insert(qe){const{index:Ke,displayValue:et,exportValue:it}=qe.detail.insert,lt=_e.children[Ke],ut=document.createElement("option");ut.textContent=et,ut.value=it,lt?lt.before(ut):_e.append(ut),Q.setValue(X,{value:Ne(!0),items:Ge(qe)}),Ye=Ne(!1)},items(qe){const{items:Ke}=qe.detail;for(;_e.length!==0;)_e.remove(0);for(const et of Ke){const{displayValue:it,exportValue:lt}=et,ut=document.createElement("option");ut.textContent=it,ut.value=lt,_e.append(ut)}_e.options.length>0&&(_e.options[0].selected=!0),Q.setValue(X,{value:Ne(!0),items:Ge(qe)}),Ye=Ne(!1)},indices(qe){const Ke=new Set(qe.detail.indices);for(const et of qe.target.options)et.selected=Ke.has(et.index);Q.setValue(X,{value:Ne(!0)}),Ye=Ne(!1)},editable(qe){qe.target.disabled=!qe.detail.editable}};this._dispatchEventFromSandbox(nt,He)}),_e.addEventListener("input",He=>{var qe;const nt=Ne(!0);Q.setValue(X,{value:nt}),He.preventDefault(),(qe=this.linkService.eventBus)==null||qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:X,name:"Keystroke",value:Ye,changeEx:nt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(_e,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],He=>He.target.value)):_e.addEventListener("input",function(He){Q.setValue(X,{value:Ne(!0)})}),this.data.combo&&this._setTextStyle(_e),this._setBackgroundColor(_e),this._setDefaultPropertiesFromJS(_e),this.container.append(_e),this.container}}class k extends T{constructor(Q){const{data:X,elements:oe}=Q;super(Q,{isRenderable:T._hasPopupData(X)}),this.elements=oe}render(){this.container.classList.add("popupAnnotation");const Q=new F({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),X=[];for(const oe of this.elements)oe.popup=Q,X.push(oe.data.id),oe.addHighlightArea();return this.container.setAttribute("aria-controls",X.map(oe=>`${n.AnnotationPrefix}${oe}`).join(",")),this.container}}class F{constructor({container:Q,color:X,elements:oe,titleObj:_e,modificationDate:Re,contentsObj:De,richText:Ne,parent:Ye,rect:Ge,parentRect:He,open:nt}){Se(this,$e);Se(this,me,null);Se(this,ke,fe(this,$e,qn).bind(this));Se(this,Ce,fe(this,$e,bn).bind(this));Se(this,Te,fe(this,$e,xn).bind(this));Se(this,Me,fe(this,$e,Bt).bind(this));Se(this,Le,null);Se(this,ue,null);Se(this,xe,null);Se(this,W,null);Se(this,ne,null);Se(this,he,null);Se(this,ve,!1);Se(this,Pe,null);Se(this,Oe,null);Se(this,Fe,null);Se(this,ge,null);Se(this,Be,!1);var Ke;we(this,ue,Q),we(this,ge,_e),we(this,xe,De),we(this,Fe,Ne),we(this,ne,Ye),we(this,Le,X),we(this,Oe,Ge),we(this,he,He),we(this,W,oe);const qe=i.PDFDateString.toDateObject(Re);qe&&we(this,me,Ye.l10n.get("annotation_date_string",{date:qe.toLocaleDateString(),time:qe.toLocaleTimeString()})),this.trigger=oe.flatMap(et=>et.getElementsToTriggerPopup());for(const et of this.trigger)et.addEventListener("click",o(this,Me)),et.addEventListener("mouseenter",o(this,Te)),et.addEventListener("mouseleave",o(this,Ce)),et.classList.add("popupTriggerArea");for(const et of oe)(Ke=et.container)==null||Ke.addEventListener("keydown",o(this,ke));o(this,ue).hidden=!0,nt&&fe(this,$e,Bt).call(this)}render(){if(o(this,Pe))return;const{page:{view:Q},viewport:{rawDims:{pageWidth:X,pageHeight:oe,pageX:_e,pageY:Re}}}=o(this,ne),De=we(this,Pe,document.createElement("div"));if(De.className="popup",o(this,Le)){const dt=De.style.outlineColor=n.Util.makeHexColor(...o(this,Le));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?De.style.backgroundColor=`color-mix(in srgb, ${dt} 30%, white)`:De.style.backgroundColor=n.Util.makeHexColor(...o(this,Le).map(xt=>Math.floor(.7*(255-xt)+xt)))}const Ne=document.createElement("span");Ne.className="header";const Ye=document.createElement("h1");if(Ne.append(Ye),{dir:Ye.dir,str:Ye.textContent}=o(this,ge),De.append(Ne),o(this,me)){const dt=document.createElement("span");dt.classList.add("popupDate"),o(this,me).then(gt=>{dt.textContent=gt}),Ne.append(dt)}const Ge=o(this,xe),He=o(this,Fe);if(He!=null&&He.str&&(!(Ge!=null&&Ge.str)||Ge.str===He.str))h.XfaLayer.render({xfaHtml:He.html,intent:"richText",div:De}),De.lastChild.classList.add("richText","popupContent");else{const dt=this._formatContents(Ge);De.append(dt)}let nt=!!o(this,he),qe=nt?o(this,he):o(this,Oe);for(const dt of o(this,W))if(!qe||n.Util.intersect(dt.data.rect,qe)!==null){qe=dt.data.rect,nt=!0;break}const Ke=n.Util.normalizeRect([qe[0],Q[3]-qe[1]+Q[1],qe[2],Q[3]-qe[3]+Q[1]]),it=nt?qe[2]-qe[0]+5:0,lt=Ke[0]+it,ut=Ke[1],{style:ft}=o(this,ue);ft.left=`${100*(lt-_e)/X}%`,ft.top=`${100*(ut-Re)/oe}%`,o(this,ue).append(De)}_formatContents({str:Q,dir:X}){const oe=document.createElement("p");oe.classList.add("popupContent"),oe.dir=X;const _e=Q.split(/(?:\r\n?|\n)/);for(let Re=0,De=_e.length;Re<De;++Re){const Ne=_e[Re];oe.append(document.createTextNode(Ne)),Re<De-1&&oe.append(document.createElement("br"))}return oe}forceHide(){we(this,Be,this.isVisible),o(this,Be)&&(o(this,ue).hidden=!0)}maybeShow(){o(this,Be)&&(we(this,Be,!1),o(this,ue).hidden=!1)}get isVisible(){return o(this,ue).hidden===!1}}me=new WeakMap,ke=new WeakMap,Ce=new WeakMap,Te=new WeakMap,Me=new WeakMap,Le=new WeakMap,ue=new WeakMap,xe=new WeakMap,W=new WeakMap,ne=new WeakMap,he=new WeakMap,ve=new WeakMap,Pe=new WeakMap,Oe=new WeakMap,Fe=new WeakMap,ge=new WeakMap,Be=new WeakMap,$e=new WeakSet,qn=function(Q){Q.altKey||Q.shiftKey||Q.ctrlKey||Q.metaKey||(Q.key==="Enter"||Q.key==="Escape"&&o(this,ve))&&fe(this,$e,Bt).call(this)},Bt=function(){we(this,ve,!o(this,ve)),o(this,ve)?(fe(this,$e,xn).call(this),o(this,ue).addEventListener("click",o(this,Me)),o(this,ue).addEventListener("keydown",o(this,ke))):(fe(this,$e,bn).call(this),o(this,ue).removeEventListener("click",o(this,Me)),o(this,ue).removeEventListener("keydown",o(this,ke)))},xn=function(){o(this,Pe)||this.render(),this.isVisible?o(this,ve)&&o(this,ue).classList.add("focused"):(o(this,ue).hidden=!1,o(this,ue).style.zIndex=parseInt(o(this,ue).style.zIndex)+1e3)},bn=function(){o(this,ue).classList.remove("focused"),!(o(this,ve)||!this.isVisible)&&(o(this,ue).hidden=!0,o(this,ue).style.zIndex=parseInt(o(this,ue).style.zIndex)-1e3)};class J extends T{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Q.data.textContent,this.textPosition=Q.data.textPosition,this.annotationEditorType=n.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Q=document.createElement("div");Q.classList.add("annotationTextContent"),Q.setAttribute("role","comment");for(const X of this.textContent){const oe=document.createElement("span");oe.textContent=X,Q.append(oe)}this.container.append(Q)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}e.FreeTextAnnotationElement=J;class g extends T{constructor(X){super(X,{isRenderable:!0,ignoreBorder:!0});Se(this,Je,null)}render(){this.container.classList.add("lineAnnotation");const X=this.data,{width:oe,height:_e}=E(X.rect),Re=this.svgFactory.create(oe,_e,!0),De=we(this,Je,this.svgFactory.createElement("svg:line"));return De.setAttribute("x1",X.rect[2]-X.lineCoordinates[0]),De.setAttribute("y1",X.rect[3]-X.lineCoordinates[1]),De.setAttribute("x2",X.rect[2]-X.lineCoordinates[2]),De.setAttribute("y2",X.rect[3]-X.lineCoordinates[3]),De.setAttribute("stroke-width",X.borderStyle.width||1),De.setAttribute("stroke","transparent"),De.setAttribute("fill","transparent"),Re.append(De),this.container.append(Re),!X.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Je)}addHighlightArea(){this.container.classList.add("highlightArea")}}Je=new WeakMap;class U extends T{constructor(X){super(X,{isRenderable:!0,ignoreBorder:!0});Se(this,st,null)}render(){this.container.classList.add("squareAnnotation");const X=this.data,{width:oe,height:_e}=E(X.rect),Re=this.svgFactory.create(oe,_e,!0),De=X.borderStyle.width,Ne=we(this,st,this.svgFactory.createElement("svg:rect"));return Ne.setAttribute("x",De/2),Ne.setAttribute("y",De/2),Ne.setAttribute("width",oe-De),Ne.setAttribute("height",_e-De),Ne.setAttribute("stroke-width",De||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),Re.append(Ne),this.container.append(Re),!X.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,st)}addHighlightArea(){this.container.classList.add("highlightArea")}}st=new WeakMap;class K extends T{constructor(X){super(X,{isRenderable:!0,ignoreBorder:!0});Se(this,ct,null)}render(){this.container.classList.add("circleAnnotation");const X=this.data,{width:oe,height:_e}=E(X.rect),Re=this.svgFactory.create(oe,_e,!0),De=X.borderStyle.width,Ne=we(this,ct,this.svgFactory.createElement("svg:ellipse"));return Ne.setAttribute("cx",oe/2),Ne.setAttribute("cy",_e/2),Ne.setAttribute("rx",oe/2-De/2),Ne.setAttribute("ry",_e/2-De/2),Ne.setAttribute("stroke-width",De||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),Re.append(Ne),this.container.append(Re),!X.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,ct)}addHighlightArea(){this.container.classList.add("highlightArea")}}ct=new WeakMap;class pe extends T{constructor(X){super(X,{isRenderable:!0,ignoreBorder:!0});Se(this,Ie,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const X=this.data,{width:oe,height:_e}=E(X.rect),Re=this.svgFactory.create(oe,_e,!0);let De=[];for(const Ye of X.vertices){const Ge=Ye.x-X.rect[0],He=X.rect[3]-Ye.y;De.push(Ge+","+He)}De=De.join(" ");const Ne=we(this,Ie,this.svgFactory.createElement(this.svgElementName));return Ne.setAttribute("points",De),Ne.setAttribute("stroke-width",X.borderStyle.width||1),Ne.setAttribute("stroke","transparent"),Ne.setAttribute("fill","transparent"),Re.append(Ne),this.container.append(Re),!X.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return o(this,Ie)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ie=new WeakMap;class re extends pe{constructor(Q){super(Q),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ce extends T{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ie extends T{constructor(X){super(X,{isRenderable:!0,ignoreBorder:!0});Se(this,Ee,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=n.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const X=this.data,{width:oe,height:_e}=E(X.rect),Re=this.svgFactory.create(oe,_e,!0);for(const De of X.inkLists){let Ne=[];for(const Ge of De){const He=Ge.x-X.rect[0],nt=X.rect[3]-Ge.y;Ne.push(`${He},${nt}`)}Ne=Ne.join(" ");const Ye=this.svgFactory.createElement(this.svgElementName);o(this,Ee).push(Ye),Ye.setAttribute("points",Ne),Ye.setAttribute("stroke-width",X.borderStyle.width||1),Ye.setAttribute("stroke","transparent"),Ye.setAttribute("fill","transparent"),!X.popupRef&&this.hasPopupData&&this._createPopup(),Re.append(Ye)}return this.container.append(Re),this.container}getElementsToTriggerPopup(){return o(this,Ee)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ee=new WeakMap,e.InkAnnotationElement=ie;class ye extends T{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Y extends T{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ae extends T{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class be extends T{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class q extends T{constructor(Q){super(Q,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}e.StampAnnotationElement=q;class p extends T{constructor(X){var Re;super(X,{isRenderable:!0});Se(this,Ve);Se(this,Ae,null);const{filename:oe,content:_e}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(oe,!0),this.content=_e,(Re=this.linkService.eventBus)==null||Re.dispatch("fileattachmentannotation",{source:this,filename:oe,content:_e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:X,data:oe}=this;let _e;oe.hasAppearance||oe.fillAlpha===0?_e=document.createElement("div"):(_e=document.createElement("img"),_e.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(oe.name)?"paperclip":"pushpin"}.svg`,oe.fillAlpha&&oe.fillAlpha<1&&(_e.style=`filter: opacity(${Math.round(oe.fillAlpha*100)}%);`)),_e.addEventListener("dblclick",fe(this,Ve,yn).bind(this)),we(this,Ae,_e);const{isMac:Re}=n.FeatureTest.platform;return X.addEventListener("keydown",De=>{De.key==="Enter"&&(Re?De.metaKey:De.ctrlKey)&&fe(this,Ve,yn).call(this)}),!oe.popupRef&&this.hasPopupData?this._createPopup():_e.classList.add("popupTriggerArea"),X.append(_e),X}getElementsToTriggerPopup(){return o(this,Ae)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ae=new WeakMap,Ve=new WeakSet,yn=function(){var X;(X=this.downloadManager)==null||X.openOrDownloadData(this.container,this.content,this.filename)};class y{constructor({div:Q,accessibilityManager:X,annotationCanvasMap:oe,l10n:_e,page:Re,viewport:De}){Se(this,ze);Se(this,rt,null);Se(this,se,null);Se(this,je,new Map);this.div=Q,we(this,rt,X),we(this,se,oe),this.l10n=_e,this.page=Re,this.viewport=De,this.zIndex=0,this.l10n||(this.l10n=$.NullL10n)}async render(Q){const{annotations:X}=Q,oe=this.div;(0,i.setLayerDimensions)(oe,this.viewport);const _e=new Map,Re={data:null,layer:oe,linkService:Q.linkService,downloadManager:Q.downloadManager,imageResourcesPath:Q.imageResourcesPath||"",renderForms:Q.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:Q.annotationStorage||new a.AnnotationStorage,enableScripting:Q.enableScripting===!0,hasJSActions:Q.hasJSActions,fieldObjects:Q.fieldObjects,parent:this,elements:null};for(const De of X){if(De.noHTML)continue;const Ne=De.annotationType===n.AnnotationType.POPUP;if(Ne){const He=_e.get(De.id);if(!He)continue;Re.elements=He}else{const{width:He,height:nt}=E(De.rect);if(He<=0||nt<=0)continue}Re.data=De;const Ye=d.create(Re);if(!Ye.isRenderable)continue;if(!Ne&&De.popupRef){const He=_e.get(De.popupRef);He?He.push(Ye):_e.set(De.popupRef,[Ye])}Ye.annotationEditorType>0&&o(this,je).set(Ye.data.id,Ye);const Ge=Ye.render();De.hidden&&(Ge.style.visibility="hidden"),fe(this,ze,Xn).call(this,Ge,De.id)}fe(this,ze,vn).call(this),await this.l10n.translate(oe)}update({viewport:Q}){const X=this.div;this.viewport=Q,(0,i.setLayerDimensions)(X,{rotation:Q.rotation}),fe(this,ze,vn).call(this),X.hidden=!1}getEditableAnnotations(){return Array.from(o(this,je).values())}getEditableAnnotation(Q){return o(this,je).get(Q)}}rt=new WeakMap,se=new WeakMap,je=new WeakMap,ze=new WeakSet,Xn=function(Q,X){var _e;const oe=Q.firstChild||Q;oe.id=`${n.AnnotationPrefix}${X}`,this.div.append(Q),(_e=o(this,rt))==null||_e.moveElementInDOM(this.div,Q,oe,!1)},vn=function(){if(!o(this,se))return;const Q=this.div;for(const[X,oe]of o(this,se)){const _e=Q.querySelector(`[data-annotation-id="${X}"]`);if(!_e)continue;const{firstChild:Re}=_e;Re?Re.nodeName==="CANVAS"?Re.replaceWith(oe):Re.before(oe):_e.append(oe)}o(this,se).clear()},e.AnnotationLayer=y},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function n(a){return Math.max(0,Math.min(255,255*a))}class i{static CMYK_G([u,$,h,f]){return["G",1-Math.min(1,.3*u+.59*h+.11*$+f)]}static G_CMYK([u]){return["CMYK",0,0,0,1-u]}static G_RGB([u]){return["RGB",u,u,u]}static G_rgb([u]){return u=n(u),[u,u,u]}static G_HTML([u]){const $=s(u);return`#${$}${$}${$}`}static RGB_G([u,$,h]){return["G",.3*u+.59*$+.11*h]}static RGB_rgb(u){return u.map(n)}static RGB_HTML(u){return`#${u.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([u,$,h,f]){return["RGB",1-Math.min(1,u+f),1-Math.min(1,h+f),1-Math.min(1,$+f)]}static CMYK_rgb([u,$,h,f]){return[n(1-Math.min(1,u+f)),n(1-Math.min(1,h+f)),n(1-Math.min(1,$+f))]}static CMYK_HTML(u){const $=this.CMYK_RGB(u).slice(1);return this.RGB_HTML($)}static RGB_CMYK([u,$,h]){const f=1-u,c=1-$,S=1-h,E=Math.min(f,c,S);return["CMYK",f,c,S,E]}}e.ColorConverters=i},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NullL10n=void 0,e.getL10nFallback=n;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function n(u,$){switch(u){case"find_match_count":u=`find_match_count[${$.total===1?"one":"other"}]`;break;case"find_match_count_limit":u=`find_match_count_limit[${$.limit===1?"one":"other"}]`;break}return s[u]||""}function i(u,$){return $?u.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(h,f)=>f in $?$[f]:"{{"+f+"}}"):u}const a={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(u,$=null,h=n(u,$)){return i(h,$)},async translate(u){}};e.NullL10n=a},(t,e,s)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=s(25);class i{static setupStorage(u,$,h,f,c){const S=f.getValue($,{value:null});switch(h.name){case"textarea":if(S.value!==null&&(u.textContent=S.value),c==="print")break;u.addEventListener("input",E=>{f.setValue($,{value:E.target.value})});break;case"input":if(h.attributes.type==="radio"||h.attributes.type==="checkbox"){if(S.value===h.attributes.xfaOn?u.setAttribute("checked",!0):S.value===h.attributes.xfaOff&&u.removeAttribute("checked"),c==="print")break;u.addEventListener("change",E=>{f.setValue($,{value:E.target.checked?E.target.getAttribute("xfaOn"):E.target.getAttribute("xfaOff")})})}else{if(S.value!==null&&u.setAttribute("value",S.value),c==="print")break;u.addEventListener("input",E=>{f.setValue($,{value:E.target.value})})}break;case"select":if(S.value!==null){u.setAttribute("value",S.value);for(const E of h.children)E.attributes.value===S.value?E.attributes.selected=!0:E.attributes.hasOwnProperty("selected")&&delete E.attributes.selected}u.addEventListener("input",E=>{const d=E.target.options,T=d.selectedIndex===-1?"":d[d.selectedIndex].value;f.setValue($,{value:T})});break}}static setAttributes({html:u,element:$,storage:h=null,intent:f,linkService:c}){const{attributes:S}=$,E=u instanceof HTMLAnchorElement;S.type==="radio"&&(S.name=`${S.name}-${f}`);for(const[d,T]of Object.entries(S))if(T!=null)switch(d){case"class":T.length&&u.setAttribute(d,T.join(" "));break;case"dataId":break;case"id":u.setAttribute("data-element-id",T);break;case"style":Object.assign(u.style,T);break;case"textContent":u.textContent=T;break;default:(!E||d!=="href"&&d!=="newWindow")&&u.setAttribute(d,T)}E&&c.addLinkAttributes(u,S.href,S.newWindow),h&&S.dataId&&this.setupStorage(u,S.dataId,$,h)}static render(u){var B;const $=u.annotationStorage,h=u.linkService,f=u.xfaHtml,c=u.intent||"display",S=document.createElement(f.name);f.attributes&&this.setAttributes({html:S,element:f,intent:c,linkService:h});const E=[[f,-1,S]],d=u.div;if(d.append(S),u.viewport){const _=`matrix(${u.viewport.transform.join(",")})`;d.style.transform=_}c!=="richText"&&d.setAttribute("class","xfaLayer xfaFont");const T=[];for(;E.length>0;){const[_,j,N]=E.at(-1);if(j+1===_.children.length){E.pop();continue}const G=_.children[++E.at(-1)[1]];if(G===null)continue;const{name:z}=G;if(z==="#text"){const O=document.createTextNode(G.value);T.push(O),N.append(O);continue}const x=(B=G==null?void 0:G.attributes)!=null&&B.xmlns?document.createElementNS(G.attributes.xmlns,z):document.createElement(z);if(N.append(x),G.attributes&&this.setAttributes({html:x,element:G,storage:$,intent:c,linkService:h}),G.children&&G.children.length>0)E.push([G,-1,x]);else if(G.value){const O=document.createTextNode(G.value);n.XfaText.shouldBuildText(z)&&T.push(O),x.append(O)}}for(const _ of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_.setAttribute("readOnly",!0);return{textDivs:T}}static update(u){const $=`matrix(${u.viewport.transform.join(",")})`;u.div.style.transform=$,u.div.hidden=!1}}e.XfaLayer=i},(t,e,s)=>{var f,c,S,E,d,T,B,_,j,N,G,z,x,O,A,Yn,Kn,Jn,Qn,Sn,Zn,En,es,ts,ns,ss,is,mt,wn,zt,Ht,wt,An,Wt,ee,rs,_n,as,os,Rn,Ut,At;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0;var n=s(1),i=s(4),a=s(29),u=s(6),$=s(5);const Le=class Le extends i.AnnotationEditor{constructor(W){super({...W,name:"inkEditor"});Se(this,A);Se(this,f,0);Se(this,c,0);Se(this,S,this.canvasPointermove.bind(this));Se(this,E,this.canvasPointerleave.bind(this));Se(this,d,this.canvasPointerup.bind(this));Se(this,T,this.canvasPointerdown.bind(this));Se(this,B,new Path2D);Se(this,_,!1);Se(this,j,!1);Se(this,N,!1);Se(this,G,null);Se(this,z,0);Se(this,x,0);Se(this,O,null);this.color=W.color||null,this.thickness=W.thickness||null,this.opacity=W.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(W){i.AnnotationEditor.initialize(W,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(W,ne){switch(W){case n.AnnotationEditorParamsType.INK_THICKNESS:Le._defaultThickness=ne;break;case n.AnnotationEditorParamsType.INK_COLOR:Le._defaultColor=ne;break;case n.AnnotationEditorParamsType.INK_OPACITY:Le._defaultOpacity=ne/100;break}}updateParams(W,ne){switch(W){case n.AnnotationEditorParamsType.INK_THICKNESS:fe(this,A,Yn).call(this,ne);break;case n.AnnotationEditorParamsType.INK_COLOR:fe(this,A,Kn).call(this,ne);break;case n.AnnotationEditorParamsType.INK_OPACITY:fe(this,A,Jn).call(this,ne);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,Le._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,Le._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(Le._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Le._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||Le._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Le._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(fe(this,A,zt).call(this),fe(this,A,Ht).call(this)),this.isAttachedToDOM||(this.parent.add(this),fe(this,A,wt).call(this)),fe(this,A,At).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,o(this,G).disconnect(),we(this,G,null),super.remove())}setParent(W){!this.parent&&W?this._uiManager.removeShouldRescale(this):this.parent&&W===null&&this._uiManager.addShouldRescale(this),super.setParent(W)}onScaleChanging(){const[W,ne]=this.parentDimensions,he=this.width*W,ve=this.height*ne;this.setDimensions(he,ve)}enableEditMode(){o(this,_)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",o(this,T)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",o(this,T)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){o(this,_)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),we(this,_,!0),this.div.classList.add("disabled"),fe(this,A,At).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(W){this._focusEventsAllowed&&(super.focusin(W),this.enableEditMode())}canvasPointerdown(W){W.button!==0||!this.isInEditMode()||o(this,_)||(this.setInForeground(),W.preventDefault(),W.type!=="mouse"&&this.div.focus(),fe(this,A,Zn).call(this,W.offsetX,W.offsetY))}canvasPointermove(W){W.preventDefault(),fe(this,A,En).call(this,W.offsetX,W.offsetY)}canvasPointerup(W){W.preventDefault(),fe(this,A,wn).call(this,W)}canvasPointerleave(W){fe(this,A,wn).call(this,W)}get isResizable(){return!this.isEmpty()&&o(this,_)}render(){if(this.div)return this.div;let W,ne;this.width&&(W=this.x,ne=this.y),super.render(),i.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Fe=>{var ge;return(ge=this.div)==null?void 0:ge.setAttribute("aria-label",Fe)});const[he,ve,Pe,Oe]=fe(this,A,Qn).call(this);if(this.setAt(he,ve,0,0),this.setDims(Pe,Oe),fe(this,A,zt).call(this),this.width){const[Fe,ge]=this.parentDimensions;this.setAspectRatio(this.width*Fe,this.height*ge),this.setAt(W*Fe,ne*ge,this.width*Fe,this.height*ge),we(this,N,!0),fe(this,A,wt).call(this),this.setDims(this.width*Fe,this.height*ge),fe(this,A,mt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return fe(this,A,Ht).call(this),this.div}setDimensions(W,ne){const he=Math.round(W),ve=Math.round(ne);if(o(this,z)===he&&o(this,x)===ve)return;we(this,z,he),we(this,x,ve),this.canvas.style.visibility="hidden";const[Pe,Oe]=this.parentDimensions;this.width=W/Pe,this.height=ne/Oe,this.fixAndSetPosition(),o(this,_)&&fe(this,A,An).call(this,W,ne),fe(this,A,wt).call(this),fe(this,A,mt).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(W,ne,he){var Je,st,ct;if(W instanceof a.InkAnnotationElement)return null;const ve=super.deserialize(W,ne,he);ve.thickness=W.thickness,ve.color=n.Util.makeHexColor(...W.color),ve.opacity=W.opacity;const[Pe,Oe]=ve.pageDimensions,Fe=ve.width*Pe,ge=ve.height*Oe,Be=ve.parentScale,$e=W.thickness/2;we(ve,_,!0),we(ve,z,Math.round(Fe)),we(ve,x,Math.round(ge));const{paths:tt,rect:Ze,rotation:at}=W;for(let{bezier:Ie}of tt){Ie=fe(Je=Le,ee,as).call(Je,Ie,Ze,at);const Ee=[];ve.paths.push(Ee);let Ae=Be*(Ie[0]-$e),Ve=Be*(Ie[1]-$e);for(let rt=2,se=Ie.length;rt<se;rt+=6){const je=Be*(Ie[rt]-$e),ze=Be*(Ie[rt+1]-$e),Xe=Be*(Ie[rt+2]-$e),Qe=Be*(Ie[rt+3]-$e),Ue=Be*(Ie[rt+4]-$e),Q=Be*(Ie[rt+5]-$e);Ee.push([[Ae,Ve],[je,ze],[Xe,Qe],[Ue,Q]]),Ae=Ue,Ve=Q}const ot=fe(this,ee,rs).call(this,Ee);ve.bezierPath2D.push(ot)}const We=fe(st=ve,A,Rn).call(st);return we(ve,c,Math.max(i.AnnotationEditor.MIN_SIZE,We[2]-We[0])),we(ve,f,Math.max(i.AnnotationEditor.MIN_SIZE,We[3]-We[1])),fe(ct=ve,A,An).call(ct,Fe,ge),ve}serialize(){if(this.isEmpty())return null;const W=this.getRect(0,0),ne=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:ne,thickness:this.thickness,opacity:this.opacity,paths:fe(this,A,os).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,W),pageIndex:this.pageIndex,rect:W,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};f=new WeakMap,c=new WeakMap,S=new WeakMap,E=new WeakMap,d=new WeakMap,T=new WeakMap,B=new WeakMap,_=new WeakMap,j=new WeakMap,N=new WeakMap,G=new WeakMap,z=new WeakMap,x=new WeakMap,O=new WeakMap,A=new WeakSet,Yn=function(W){const ne=this.thickness;this.addCommands({cmd:()=>{this.thickness=W,fe(this,A,At).call(this)},undo:()=>{this.thickness=ne,fe(this,A,At).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Kn=function(W){const ne=this.color;this.addCommands({cmd:()=>{this.color=W,fe(this,A,mt).call(this)},undo:()=>{this.color=ne,fe(this,A,mt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Jn=function(W){W/=100;const ne=this.opacity;this.addCommands({cmd:()=>{this.opacity=W,fe(this,A,mt).call(this)},undo:()=>{this.opacity=ne,fe(this,A,mt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Qn=function(){const{parentRotation:W,parentDimensions:[ne,he]}=this;switch(W){case 90:return[0,he,he,ne];case 180:return[ne,he,ne,he];case 270:return[ne,0,he,ne];default:return[0,0,ne,he]}},Sn=function(){const{ctx:W,color:ne,opacity:he,thickness:ve,parentScale:Pe,scaleFactor:Oe}=this;W.lineWidth=ve*Pe/Oe,W.lineCap="round",W.lineJoin="round",W.miterLimit=10,W.strokeStyle=`${ne}${(0,$.opacityToHex)(he)}`},Zn=function(W,ne){this.canvas.addEventListener("contextmenu",u.noContextMenu),this.canvas.addEventListener("pointerleave",o(this,E)),this.canvas.addEventListener("pointermove",o(this,S)),this.canvas.addEventListener("pointerup",o(this,d)),this.canvas.removeEventListener("pointerdown",o(this,T)),this.isEditing=!0,o(this,N)||(we(this,N,!0),fe(this,A,wt).call(this),this.thickness||(this.thickness=Le._defaultThickness),this.color||(this.color=Le._defaultColor||i.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Le._defaultOpacity)),this.currentPath.push([W,ne]),we(this,j,!1),fe(this,A,Sn).call(this),we(this,O,()=>{fe(this,A,ns).call(this),o(this,O)&&window.requestAnimationFrame(o(this,O))}),window.requestAnimationFrame(o(this,O))},En=function(W,ne){const[he,ve]=this.currentPath.at(-1);if(this.currentPath.length>1&&W===he&&ne===ve)return;const Pe=this.currentPath;let Oe=o(this,B);if(Pe.push([W,ne]),we(this,j,!0),Pe.length<=2){Oe.moveTo(...Pe[0]),Oe.lineTo(W,ne);return}Pe.length===3&&(we(this,B,Oe=new Path2D),Oe.moveTo(...Pe[0])),fe(this,A,ss).call(this,Oe,...Pe.at(-3),...Pe.at(-2),W,ne)},es=function(){if(this.currentPath.length===0)return;const W=this.currentPath.at(-1);o(this,B).lineTo(...W)},ts=function(W,ne){we(this,O,null),W=Math.min(Math.max(W,0),this.canvas.width),ne=Math.min(Math.max(ne,0),this.canvas.height),fe(this,A,En).call(this,W,ne),fe(this,A,es).call(this);let he;if(this.currentPath.length!==1)he=fe(this,A,is).call(this);else{const ge=[W,ne];he=[[ge,ge.slice(),ge.slice(),ge]]}const ve=o(this,B),Pe=this.currentPath;this.currentPath=[],we(this,B,new Path2D);const Oe=()=>{this.allRawPaths.push(Pe),this.paths.push(he),this.bezierPath2D.push(ve),this.rebuild()},Fe=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(fe(this,A,zt).call(this),fe(this,A,Ht).call(this)),fe(this,A,At).call(this))};this.addCommands({cmd:Oe,undo:Fe,mustExec:!0})},ns=function(){if(!o(this,j))return;we(this,j,!1);const W=Math.ceil(this.thickness*this.parentScale),ne=this.currentPath.slice(-3),he=ne.map(Oe=>Oe[0]),ve=ne.map(Oe=>Oe[1]);Math.min(...he)-W,Math.max(...he)+W,Math.min(...ve)-W,Math.max(...ve)+W;const{ctx:Pe}=this;Pe.save(),Pe.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Oe of this.bezierPath2D)Pe.stroke(Oe);Pe.stroke(o(this,B)),Pe.restore()},ss=function(W,ne,he,ve,Pe,Oe,Fe){const ge=(ne+ve)/2,Be=(he+Pe)/2,$e=(ve+Oe)/2,tt=(Pe+Fe)/2;W.bezierCurveTo(ge+2*(ve-ge)/3,Be+2*(Pe-Be)/3,$e+2*(ve-$e)/3,tt+2*(Pe-tt)/3,$e,tt)},is=function(){const W=this.currentPath;if(W.length<=2)return[[W[0],W[0],W.at(-1),W.at(-1)]];const ne=[];let he,[ve,Pe]=W[0];for(he=1;he<W.length-2;he++){const[Ze,at]=W[he],[We,Je]=W[he+1],st=(Ze+We)/2,ct=(at+Je)/2,Ie=[ve+2*(Ze-ve)/3,Pe+2*(at-Pe)/3],Ee=[st+2*(Ze-st)/3,ct+2*(at-ct)/3];ne.push([[ve,Pe],Ie,Ee,[st,ct]]),[ve,Pe]=[st,ct]}const[Oe,Fe]=W[he],[ge,Be]=W[he+1],$e=[ve+2*(Oe-ve)/3,Pe+2*(Fe-Pe)/3],tt=[ge+2*(Oe-ge)/3,Be+2*(Fe-Be)/3];return ne.push([[ve,Pe],$e,tt,[ge,Be]]),ne},mt=function(){if(this.isEmpty()){fe(this,A,Wt).call(this);return}fe(this,A,Sn).call(this);const{canvas:W,ctx:ne}=this;ne.setTransform(1,0,0,1,0,0),ne.clearRect(0,0,W.width,W.height),fe(this,A,Wt).call(this);for(const he of this.bezierPath2D)ne.stroke(he)},wn=function(W){this.canvas.removeEventListener("pointerleave",o(this,E)),this.canvas.removeEventListener("pointermove",o(this,S)),this.canvas.removeEventListener("pointerup",o(this,d)),this.canvas.addEventListener("pointerdown",o(this,T)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",u.noContextMenu)},10),fe(this,A,ts).call(this,W.offsetX,W.offsetY),this.addToAnnotationStorage(),this.setInBackground()},zt=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",i.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(W=>{var ne;return(ne=this.canvas)==null?void 0:ne.setAttribute("aria-label",W)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Ht=function(){we(this,G,new ResizeObserver(W=>{const ne=W[0].contentRect;ne.width&&ne.height&&this.setDimensions(ne.width,ne.height)})),o(this,G).observe(this.div)},wt=function(){if(!o(this,N))return;const[W,ne]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*W),this.canvas.height=Math.ceil(this.height*ne),fe(this,A,Wt).call(this)},An=function(W,ne){const he=fe(this,A,Ut).call(this),ve=(W-he)/o(this,c),Pe=(ne-he)/o(this,f);this.scaleFactor=Math.min(ve,Pe)},Wt=function(){const W=fe(this,A,Ut).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+W,this.translationY*this.scaleFactor+W)},ee=new WeakSet,rs=function(W){const ne=new Path2D;for(let he=0,ve=W.length;he<ve;he++){const[Pe,Oe,Fe,ge]=W[he];he===0&&ne.moveTo(...Pe),ne.bezierCurveTo(Oe[0],Oe[1],Fe[0],Fe[1],ge[0],ge[1])}return ne},_n=function(W,ne,he){const[ve,Pe,Oe,Fe]=ne;switch(he){case 0:for(let ge=0,Be=W.length;ge<Be;ge+=2)W[ge]+=ve,W[ge+1]=Fe-W[ge+1];break;case 90:for(let ge=0,Be=W.length;ge<Be;ge+=2){const $e=W[ge];W[ge]=W[ge+1]+ve,W[ge+1]=$e+Pe}break;case 180:for(let ge=0,Be=W.length;ge<Be;ge+=2)W[ge]=Oe-W[ge],W[ge+1]+=Pe;break;case 270:for(let ge=0,Be=W.length;ge<Be;ge+=2){const $e=W[ge];W[ge]=Oe-W[ge+1],W[ge+1]=Fe-$e}break;default:throw new Error("Invalid rotation")}return W},as=function(W,ne,he){const[ve,Pe,Oe,Fe]=ne;switch(he){case 0:for(let ge=0,Be=W.length;ge<Be;ge+=2)W[ge]-=ve,W[ge+1]=Fe-W[ge+1];break;case 90:for(let ge=0,Be=W.length;ge<Be;ge+=2){const $e=W[ge];W[ge]=W[ge+1]-Pe,W[ge+1]=$e-ve}break;case 180:for(let ge=0,Be=W.length;ge<Be;ge+=2)W[ge]=Oe-W[ge],W[ge+1]-=Pe;break;case 270:for(let ge=0,Be=W.length;ge<Be;ge+=2){const $e=W[ge];W[ge]=Fe-W[ge+1],W[ge+1]=Oe-$e}break;default:throw new Error("Invalid rotation")}return W},os=function(W,ne,he,ve){var Be,$e;const Pe=[],Oe=this.thickness/2,Fe=W*ne+Oe,ge=W*he+Oe;for(const tt of this.paths){const Ze=[],at=[];for(let We=0,Je=tt.length;We<Je;We++){const[st,ct,Ie,Ee]=tt[We],Ae=W*st[0]+Fe,Ve=W*st[1]+ge,ot=W*ct[0]+Fe,rt=W*ct[1]+ge,se=W*Ie[0]+Fe,je=W*Ie[1]+ge,ze=W*Ee[0]+Fe,Xe=W*Ee[1]+ge;We===0&&(Ze.push(Ae,Ve),at.push(Ae,Ve)),Ze.push(ot,rt,se,je,ze,Xe),at.push(ot,rt),We===Je-1&&at.push(ze,Xe)}Pe.push({bezier:fe(Be=Le,ee,_n).call(Be,Ze,ve,this.rotation),points:fe($e=Le,ee,_n).call($e,at,ve,this.rotation)})}return Pe},Rn=function(){let W=1/0,ne=-1/0,he=1/0,ve=-1/0;for(const Pe of this.paths)for(const[Oe,Fe,ge,Be]of Pe){const $e=n.Util.bezierBoundingBox(...Oe,...Fe,...ge,...Be);W=Math.min(W,$e[0]),he=Math.min(he,$e[1]),ne=Math.max(ne,$e[2]),ve=Math.max(ve,$e[3])}return[W,he,ne,ve]},Ut=function(){return o(this,_)?Math.ceil(this.thickness*this.parentScale):0},At=function(W=!1){if(this.isEmpty())return;if(!o(this,_)){fe(this,A,mt).call(this);return}const ne=fe(this,A,Rn).call(this),he=fe(this,A,Ut).call(this);we(this,c,Math.max(i.AnnotationEditor.MIN_SIZE,ne[2]-ne[0])),we(this,f,Math.max(i.AnnotationEditor.MIN_SIZE,ne[3]-ne[1]));const ve=Math.ceil(he+o(this,c)*this.scaleFactor),Pe=Math.ceil(he+o(this,f)*this.scaleFactor),[Oe,Fe]=this.parentDimensions;this.width=ve/Oe,this.height=Pe/Fe,this.setAspectRatio(ve,Pe);const ge=this.translationX,Be=this.translationY;this.translationX=-ne[0],this.translationY=-ne[1],fe(this,A,wt).call(this),fe(this,A,mt).call(this),we(this,z,ve),we(this,x,Pe),this.setDims(ve,Pe);const $e=W?he/this.scaleFactor/2:0;this.translate(ge-this.translationX-$e,Be-this.translationY-$e)},Se(Le,ee),ht(Le,"_defaultColor",null),ht(Le,"_defaultOpacity",1),ht(Le,"_defaultThickness",1),ht(Le,"_type","ink");let h=Le;e.InkEditor=h},(t,e,s)=>{var h,f,c,S,E,d,T,B,_,j,N,jt,Mt,Vt,kn,ls,cs,Cn,Gt,us;Object.defineProperty(e,"__esModule",{value:!0}),e.StampEditor=void 0;var n=s(1),i=s(4),a=s(6),u=s(29);const U=class U extends i.AnnotationEditor{constructor(re){super({...re,name:"stampEditor"});Se(this,N);Se(this,h,null);Se(this,f,null);Se(this,c,null);Se(this,S,null);Se(this,E,null);Se(this,d,null);Se(this,T,null);Se(this,B,null);Se(this,_,!1);Se(this,j,!1);we(this,S,re.bitmapUrl),we(this,E,re.bitmapFile)}static initialize(re){i.AnnotationEditor.initialize(re)}static get supportedTypes(){const re=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,n.shadow)(this,"supportedTypes",re.map(ce=>`image/${ce}`))}static get supportedTypesStr(){return(0,n.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(re){return this.supportedTypes.includes(re)}static paste(re,ce){ce.pasteEditor(n.AnnotationEditorType.STAMP,{bitmapFile:re.getAsFile()})}remove(){var re,ce;o(this,f)&&(we(this,h,null),this._uiManager.imageManager.deleteId(o(this,f)),(re=o(this,d))==null||re.remove(),we(this,d,null),(ce=o(this,T))==null||ce.disconnect(),we(this,T,null)),super.remove()}rebuild(){if(!this.parent){o(this,f)&&fe(this,N,Vt).call(this);return}super.rebuild(),this.div!==null&&(o(this,f)&&fe(this,N,Vt).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(o(this,c)||o(this,h)||o(this,S)||o(this,E))}get isResizable(){return!0}render(){if(this.div)return this.div;let re,ce;if(this.width&&(re=this.x,ce=this.y),super.render(),this.div.hidden=!0,o(this,h)?fe(this,N,kn).call(this):fe(this,N,Vt).call(this),this.width){const[ie,ye]=this.parentDimensions;this.setAt(re*ie,ce*ye,this.width*ie,this.height*ye)}return this.div}static deserialize(re,ce,ie){if(re instanceof u.StampAnnotationElement)return null;const ye=super.deserialize(re,ce,ie),{rect:Y,bitmapUrl:ae,bitmapId:be,isSvg:q,accessibilityData:p}=re;be&&ie.imageManager.isValidId(be)?we(ye,f,be):we(ye,S,ae),we(ye,_,q);const[y,H]=ye.pageDimensions;return ye.width=(Y[2]-Y[0])/y,ye.height=(Y[3]-Y[1])/H,p&&(ye.altTextData=p),ye}serialize(re=!1,ce=null){if(this.isEmpty())return null;const ie={annotationType:n.AnnotationEditorType.STAMP,bitmapId:o(this,f),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:o(this,_),structTreeParentId:this._structTreeParentId};if(re)return ie.bitmapUrl=fe(this,N,Gt).call(this,!0),ie.accessibilityData=this.altTextData,ie;const{decorative:ye,altText:Y}=this.altTextData;if(!ye&&Y&&(ie.accessibilityData={type:"Figure",alt:Y}),ce===null)return ie;ce.stamps||(ce.stamps=new Map);const ae=o(this,_)?(ie.rect[2]-ie.rect[0])*(ie.rect[3]-ie.rect[1]):null;if(!ce.stamps.has(o(this,f)))ce.stamps.set(o(this,f),{area:ae,serialized:ie}),ie.bitmap=fe(this,N,Gt).call(this,!1);else if(o(this,_)){const be=ce.stamps.get(o(this,f));ae>be.area&&(be.area=ae,be.serialized.bitmap.close(),be.serialized.bitmap=fe(this,N,Gt).call(this,!1))}return ie}};h=new WeakMap,f=new WeakMap,c=new WeakMap,S=new WeakMap,E=new WeakMap,d=new WeakMap,T=new WeakMap,B=new WeakMap,_=new WeakMap,j=new WeakMap,N=new WeakSet,jt=function(re,ce=!1){if(!re){this.remove();return}we(this,h,re.bitmap),ce||(we(this,f,re.id),we(this,_,re.isSvg)),fe(this,N,kn).call(this)},Mt=function(){we(this,c,null),this._uiManager.enableWaiting(!1),o(this,d)&&this.div.focus()},Vt=function(){if(o(this,f)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(o(this,f)).then(ce=>fe(this,N,jt).call(this,ce,!0)).finally(()=>fe(this,N,Mt).call(this));return}if(o(this,S)){const ce=o(this,S);we(this,S,null),this._uiManager.enableWaiting(!0),we(this,c,this._uiManager.imageManager.getFromUrl(ce).then(ie=>fe(this,N,jt).call(this,ie)).finally(()=>fe(this,N,Mt).call(this)));return}if(o(this,E)){const ce=o(this,E);we(this,E,null),this._uiManager.enableWaiting(!0),we(this,c,this._uiManager.imageManager.getFromFile(ce).then(ie=>fe(this,N,jt).call(this,ie)).finally(()=>fe(this,N,Mt).call(this)));return}const re=document.createElement("input");re.type="file",re.accept=U.supportedTypesStr,we(this,c,new Promise(ce=>{re.addEventListener("change",async()=>{if(!re.files||re.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ie=await this._uiManager.imageManager.getFromFile(re.files[0]);fe(this,N,jt).call(this,ie)}ce()}),re.addEventListener("cancel",()=>{this.remove(),ce()})}).finally(()=>fe(this,N,Mt).call(this))),re.click()},kn=function(){const{div:re}=this;let{width:ce,height:ie}=o(this,h);const[ye,Y]=this.pageDimensions,ae=.75;if(this.width)ce=this.width*ye,ie=this.height*Y;else if(ce>ae*ye||ie>ae*Y){const y=Math.min(ae*ye/ce,ae*Y/ie);ce*=y,ie*=y}const[be,q]=this.parentDimensions;this.setDims(ce*be/ye,ie*q/Y),this._uiManager.enableWaiting(!1);const p=we(this,d,document.createElement("canvas"));re.append(p),re.hidden=!1,fe(this,N,Cn).call(this,ce,ie),fe(this,N,us).call(this),o(this,j)||(this.parent.addUndoableEditor(this),we(this,j,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},ls=function(re,ce){var ae;const[ie,ye]=this.parentDimensions;this.width=re/ie,this.height=ce/ye,this.setDims(re,ce),(ae=this._initialOptions)!=null&&ae.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,o(this,B)!==null&&clearTimeout(o(this,B)),we(this,B,setTimeout(()=>{we(this,B,null),fe(this,N,Cn).call(this,re,ce)},200))},cs=function(re,ce){const{width:ie,height:ye}=o(this,h);let Y=ie,ae=ye,be=o(this,h);for(;Y>2*re||ae>2*ce;){const q=Y,p=ae;Y>2*re&&(Y=Y>=16384?Math.floor(Y/2)-1:Math.ceil(Y/2)),ae>2*ce&&(ae=ae>=16384?Math.floor(ae/2)-1:Math.ceil(ae/2));const y=new OffscreenCanvas(Y,ae);y.getContext("2d").drawImage(be,0,0,q,p,0,0,Y,ae),be=y.transferToImageBitmap()}return be},Cn=function(re,ce){re=Math.ceil(re),ce=Math.ceil(ce);const ie=o(this,d);if(!ie||ie.width===re&&ie.height===ce)return;ie.width=re,ie.height=ce;const ye=o(this,_)?o(this,h):fe(this,N,cs).call(this,re,ce),Y=ie.getContext("2d");Y.filter=this._uiManager.hcmFilter,Y.drawImage(ye,0,0,ye.width,ye.height,0,0,re,ce)},Gt=function(re){if(re){if(o(this,_)){const ye=this._uiManager.imageManager.getSvgUrl(o(this,f));if(ye)return ye}const ce=document.createElement("canvas");return{width:ce.width,height:ce.height}=o(this,h),ce.getContext("2d").drawImage(o(this,h),0,0),ce.toDataURL()}if(o(this,_)){const[ce,ie]=this.pageDimensions,ye=Math.round(this.width*ce*a.PixelsPerInch.PDF_TO_CSS_UNITS),Y=Math.round(this.height*ie*a.PixelsPerInch.PDF_TO_CSS_UNITS),ae=new OffscreenCanvas(ye,Y);return ae.getContext("2d").drawImage(o(this,h),0,0,o(this,h).width,o(this,h).height,0,0,ye,Y),ae.transferToImageBitmap()}return structuredClone(o(this,h))},us=function(){we(this,T,new ResizeObserver(re=>{const ce=re[0].contentRect;ce.width&&ce.height&&fe(this,N,ls).call(this,ce.width,ce.height)})),o(this,T).observe(this.div)},ht(U,"_type","stamp");let $=U;e.StampEditor=$}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var s=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return e.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return u.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return $.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return n.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return e.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return h.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return e.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return e.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return n.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return n.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return e.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return i.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return n.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return i.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return s.version}});var e=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),n=__w_pdfjs_require__(6),i=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),u=__w_pdfjs_require__(5),$=__w_pdfjs_require__(29),h=__w_pdfjs_require__(14),f=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1);var pdfExports=pdf$1.exports;const pdf=getDefaultExportFromCjs(pdfExports),pdfjsModule=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]),pdfjs="default"in pdfjsModule?pdf:pdfjsModule;var __spreadArray=function(t,e,s){if(s||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))},clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([],clipboardEvents,!0),compositionEvents,!0),focusEvents,!0),formEvents,!0),imageEvents,!0),keyboardEvents,!0),mediaEvents,!0),mouseEvents,!0),dragEvents,!0),selectionEvents,!0),touchEvents,!0),pointerEvents,!0),uiEvents,!0),wheelEvents,!0),animationEvents,!0),transitionEvents,!0),changeEvents,!0),otherEvents,!0);function makeEventProps(t,e){var s={};return allEvents.forEach(function(n){var i=t[n];i&&(e?s[n]=function(a){return i(a,e(n))}:s[n]=i)}),s}function makeCancellablePromise(t){var e=!1,s=new Promise(function(n,i){t.then(function(a){return!e&&n(a)}).catch(function(a){return!e&&i(a)})});return{promise:s,cancel:function(){e=!0}}}function r(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(s=r(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function clsx(){for(var t,e,s=0,n="",i=arguments.length;s<i;s++)(t=arguments[s])&&(e=r(t))&&(n&&(n+=" "),n+=e);return n}var prefix="Invariant failed";function invariant(t,e){if(!t)throw new Error(prefix)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1);var has=Object.prototype.hasOwnProperty;function find(t,e,s){for(s of t.keys())if(dequal(s,e))return s}function dequal(t,e){var s,n,i;if(t===e)return!0;if(t&&e&&(s=t.constructor)===e.constructor){if(s===Date)return t.getTime()===e.getTime();if(s===RegExp)return t.toString()===e.toString();if(s===Array){if((n=t.length)===e.length)for(;n--&&dequal(t[n],e[n]););return n===-1}if(s===Set){if(t.size!==e.size)return!1;for(n of t)if(i=n,i&&typeof i=="object"&&(i=find(e,i),!i)||!e.has(i))return!1;return!0}if(s===Map){if(t.size!==e.size)return!1;for(n of t)if(i=n[0],i&&typeof i=="object"&&(i=find(e,i),!i)||!dequal(n[1],e.get(i)))return!1;return!0}if(s===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(s===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!s||typeof t=="object"){n=0;for(s in t)if(has.call(t,s)&&++n&&!has.call(e,s)||!(s in e)||!dequal(t[s],e[s]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}const DocumentContext=reactExports.createContext(null);function Message({children:t,type:e}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:t})}const DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(s=>{invariant(this.pdfDocument),invariant(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(s):Array.isArray(e)?s(e):e.then(s)}).then(s=>{invariant(Array.isArray(s));const n=s[0];new Promise(i=>{invariant(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{i(a)}).catch(()=>{invariant(!1)}):typeof n=="number"?i(n):invariant(!1)}).then(i=>{const a=i+1;invariant(this.pdfViewer),invariant(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:s,pageIndex:i,pageNumber:a})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const s=e-1;invariant(this.pdfViewer),invariant(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:s,pageNumber:e})}addLinkAttributes(e,s,n){e.href=s,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(t){return typeof t<"u"}function isProvided(t){return isDefined(t)&&t!==null}function isString(t){return typeof t=="string"}function isArrayBuffer(t){return t instanceof ArrayBuffer}function isBlob(t){return invariant(isBrowser),t instanceof Blob}function isDataURI(t){return isString(t)&&/^data:/.test(t)}function dataURItoByteString(t){invariant(isDataURI(t));const[e="",s=""]=t.split(",");return e.split(";").indexOf("base64")!==-1?atob(s):unescape(s)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning$1(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning$1(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(t){t&&t.cancel&&t.cancel()}function makePageCallback(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function isCancelException(t){return t.name==="RenderingCancelledException"}function loadFromFile(t){return new Promise((e,s)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return s(new Error("Error while reading a file."));e(n.result)},n.onerror=i=>{if(!i.target)return s(new Error("Error while reading a file."));const{error:a}=i.target;if(!a)return s(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},n.readAsArrayBuffer(t)})}function reducer(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}var __awaiter=function(t,e,s,n){function i(a){return a instanceof s?a:new s(function(u){u(a)})}return new(s||(s=Promise))(function(a,u){function $(c){try{f(n.next(c))}catch(S){u(S)}}function h(c){try{f(n.throw(c))}catch(S){u(S)}}function f(c){c.done?a(c.value):i(c.value).then($,h)}f((n=n.apply(t,e||[])).next())})},__rest$1=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(t,e)=>{switch(e){case PasswordResponses.NEED_PASSWORD:{const s=prompt("Enter the password to open this PDF file.");t(s);break}case PasswordResponses.INCORRECT_PASSWORD:{const s=prompt("Invalid password. Please try again.");t(s);break}}};function isParameterObject(t){return typeof t=="object"&&t!==null&&("data"in t||"range"in t||"url"in t)}const Document=reactExports.forwardRef(function t(e,s){var{children:n,className:i,error:a="Failed to load PDF file.",externalLinkRel:u,externalLinkTarget:$,file:h,inputRef:f,imageResourcesPath:c,loading:S="Loading PDF",noData:E="No PDF file specified.",onItemClick:d,onLoadError:T,onLoadProgress:B,onLoadSuccess:_,onPassword:j=defaultOnPassword,onSourceError:N,onSourceSuccess:G,options:z,renderMode:x,rotate:O}=e,A=__rest$1(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[k,F]=useResolver(),{value:J,error:g}=k,[U,K]=useResolver(),{value:pe,error:re}=U,ce=reactExports.useRef(new LinkService),ie=reactExports.useRef([]),ye=reactExports.useRef(void 0),Y=reactExports.useRef(void 0);h&&h!==ye.current&&isParameterObject(h)&&(warning$1(!dequal(h,ye.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ye.current=h),z&&z!==Y.current&&(warning$1(!dequal(z,Y.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Y.current=z);const ae=reactExports.useRef({scrollPageIntoView:ue=>{const{dest:xe,pageNumber:W,pageIndex:ne=W-1}=ue;if(d){d({dest:xe,pageIndex:ne,pageNumber:W});return}const he=ie.current[ne];if(he){he.scrollIntoView();return}warning$1(!1,`An internal link leading to page ${W} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(s,()=>({linkService:ce,pages:ie,viewer:ae}),[]);function be(){G&&G()}function q(){g&&(warning$1(!1,g.toString()),N&&N(g))}function p(){F({type:"RESET"})}reactExports.useEffect(p,[h,F]);const y=reactExports.useCallback(()=>__awaiter(this,void 0,void 0,function*(){if(!h)return null;if(typeof h=="string")return isDataURI(h)?{data:dataURItoByteString(h)}:(displayCORSWarning(),{url:h});if(h instanceof PDFDataRangeTransport)return{range:h};if(isArrayBuffer(h))return{data:h};if(isBrowser&&isBlob(h))return{data:yield loadFromFile(h)};if(invariant(typeof h=="object"),invariant(isParameterObject(h)),"url"in h&&typeof h.url=="string"){if(isDataURI(h.url)){const{url:ue}=h,xe=__rest$1(h,["url"]),W=dataURItoByteString(ue);return Object.assign({data:W},xe)}displayCORSWarning()}return h}),[h]);reactExports.useEffect(()=>{const ue=makeCancellablePromise(y());return ue.promise.then(xe=>{F({type:"RESOLVE",value:xe})}).catch(xe=>{F({type:"REJECT",error:xe})}),()=>{cancelRunningTask(ue)}},[y,F]),reactExports.useEffect(()=>{if(!(typeof J>"u")){if(J===!1){q();return}be()}},[J]);function H(){pe&&(_&&_(pe),ie.current=new Array(pe.numPages),ce.current.setDocument(pe))}function Z(){re&&(warning$1(!1,re.toString()),T&&T(re))}function ee(){K({type:"RESET"})}reactExports.useEffect(ee,[K,J]);function te(){if(!J)return;const ue=Object.assign(Object.assign({},z),{isEvalSupported:!1}),xe=Object.assign(Object.assign({},J),ue),W=pdfjs.getDocument(xe);B&&(W.onProgress=B),j&&(W.onPassword=j);const ne=W;return ne.promise.then(he=>{K({type:"RESOLVE",value:he})}).catch(he=>{ne.destroyed||K({type:"REJECT",error:he})}),()=>{ne.destroy()}}reactExports.useEffect(te,[z,K,J]),reactExports.useEffect(()=>{if(!(typeof pe>"u")){if(pe===!1){Z();return}H()}},[pe]);function le(){ce.current.setViewer(ae.current),ce.current.setExternalLinkRel(u),ce.current.setExternalLinkTarget($)}reactExports.useEffect(le,[u,$]);function me(ue,xe){ie.current[ue]=xe}function ke(ue){delete ie.current[ue]}const Ce=reactExports.useMemo(()=>({imageResourcesPath:c,linkService:ce.current,onItemClick:d,pdf:pe,registerPage:me,renderMode:x,rotate:O,unregisterPage:ke}),[c,d,pe,x,O]),Te=reactExports.useMemo(()=>makeEventProps(A,()=>pe),[A,pe]);function Me(){return jsxRuntimeExports.jsx(DocumentContext.Provider,{value:Ce,children:n})}function Le(){return h?pe==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof S=="function"?S():S}):pe===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof a=="function"?a():a}):Me():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof E=="function"?E():E})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx("react-pdf__Document",i),ref:f,style:{"--scale-factor":"1"}},Te,{children:Le()}))});function useDocumentContext(){return reactExports.useContext(DocumentContext)}function mergeRefs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var s=t.filter(Boolean);if(s.length<=1){var n=s[0];return n||null}return function(a){s.forEach(function(u){typeof u=="function"?u(a):u&&(u.current=a)})}}const PageContext=reactExports.createContext(null),PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(t){return t in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(t){return"children"in t}function isStructTreeNodeWithOnlyContentChild(t){return isStructTreeNode(t)?t.children.length===1&&0 in t.children&&"id"in t.children[0]:!1}function getRoleAttributes(t){const e={};if(isStructTreeNode(t)){const{role:s}=t,n=s.match(HEADING_PATTERN);if(n)e.role="heading",e["aria-level"]=Number(n[1]);else if(isPdfRole(s)){const i=PDF_ROLE_TO_HTML_ROLE[s];i&&(e.role=i)}}return e}function getBaseAttributes(t){const e={};if(isStructTreeNode(t)){if(t.alt!==void 0&&(e["aria-label"]=t.alt),t.lang!==void 0&&(e.lang=t.lang),isStructTreeNodeWithOnlyContentChild(t)){const[s]=t.children;if(s){const n=getBaseAttributes(s);return Object.assign(Object.assign({},e),n)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function getAttributes(t){return t?Object.assign(Object.assign({},getRoleAttributes(t)),getBaseAttributes(t)):null}function StructTreeItem({className:t,node:e}){const s=reactExports.useMemo(()=>getAttributes(e),[e]),n=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((i,a)=>jsxRuntimeExports.jsx(StructTreeItem,{node:i},a)),[e]);return jsxRuntimeExports.jsx("span",Object.assign({className:t},s,{children:n}))}function usePageContext(){return reactExports.useContext(PageContext)}function StructTree(){const t=usePageContext();invariant(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:s}=t,[n,i]=useResolver(),{value:a,error:u}=n,{customTextRenderer:$,page:h}=t;function f(){a&&s&&s(a)}function c(){u&&(warning$1(!1,u.toString()),e&&e(u))}function S(){i({type:"RESET"})}reactExports.useEffect(S,[i,h]);function E(){if($||!h)return;const d=makeCancellablePromise(h.getStructTree()),T=d;return d.promise.then(B=>{i({type:"RESOLVE",value:B})}).catch(B=>{i({type:"REJECT",error:B})}),()=>cancelRunningTask(T)}return reactExports.useEffect(E,[$,h,i]),reactExports.useEffect(()=>{if(a!==void 0){if(a===!1){c();return}f()}},[a]),a?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:a}):null}const ANNOTATION_MODE=pdfjs.AnnotationMode;function PageCanvas(t){const e=usePageContext();invariant(e);const s=Object.assign(Object.assign({},e),t),{_className:n,canvasBackground:i,devicePixelRatio:a=getDevicePixelRatio(),onRenderError:u,onRenderSuccess:$,page:h,renderForms:f,renderTextLayer:c,rotate:S,scale:E}=s,{canvasRef:d}=t;invariant(h);const T=reactExports.useRef(null);function B(){h&&$&&$(makePageCallback(h,E))}function _(x){isCancelException(x)||(warning$1(!1,x.toString()),u&&u(x))}const j=reactExports.useMemo(()=>h.getViewport({scale:E*a,rotation:S}),[a,h,S,E]),N=reactExports.useMemo(()=>h.getViewport({scale:E,rotation:S}),[h,S,E]);function G(){if(!h)return;h.cleanup();const{current:x}=T;if(!x)return;x.width=j.width,x.height=j.height,x.style.width=`${Math.floor(N.width)}px`,x.style.height=`${Math.floor(N.height)}px`,x.style.visibility="hidden";const O={annotationMode:f?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvasContext:x.getContext("2d",{alpha:!1}),viewport:j};i&&(O.background=i);const A=h.render(O),k=A;return A.promise.then(()=>{x.style.visibility="",B()}).catch(_),()=>cancelRunningTask(k)}reactExports.useEffect(G,[i,T,a,h,f,j,N]);const z=reactExports.useCallback(()=>{const{current:x}=T;x&&(x.width=0,x.height=0)},[T]);return reactExports.useEffect(()=>z,[z]),jsxRuntimeExports.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:mergeRefs(d,T),style:{display:"block",userSelect:"none"},children:c?jsxRuntimeExports.jsx(StructTree,{}):null})}function PageSVG(){const t=usePageContext();invariant(t);const{_className:e,onRenderSuccess:s,onRenderError:n,page:i,rotate:a,scale:u}=t;invariant(i);const[$,h]=useResolver(),{value:f,error:c}=$;function S(){i&&s&&s(makePageCallback(i,u))}function E(){c&&(isCancelException(c)||(warning$1(!1,c.toString()),n&&n(c)))}const d=reactExports.useMemo(()=>i.getViewport({scale:u,rotation:a}),[i,a,u]);function T(){h({type:"RESET"})}reactExports.useEffect(T,[i,h,d]);function B(){if(!i)return;const G=makeCancellablePromise(i.getOperatorList());return G.promise.then(z=>{new pdfjs.SVGGraphics(i.commonObjs,i.objs).getSVG(z,d).then(O=>{if(!(O instanceof SVGElement))throw new Error("getSVG returned unexpected result.");h({type:"RESOLVE",value:O})}).catch(O=>{h({type:"REJECT",error:O})})}).catch(z=>{h({type:"REJECT",error:z})}),()=>cancelRunningTask(G)}reactExports.useEffect(B,[i,h,d]),reactExports.useEffect(()=>{if(f!==void 0){if(f===!1){E();return}S()}},[f]);function _(G){if(!G||!f)return;G.firstElementChild||G.appendChild(f);const{width:z,height:x}=d;f.setAttribute("width",`${z}`),f.setAttribute("height",`${x}`)}const{width:j,height:N}=d;return jsxRuntimeExports.jsx("div",{className:`${e}__svg`,ref:G=>_(G),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:j,height:N,userSelect:"none"}})}function isTextItem(t){return"str"in t}function TextLayer(){const t=usePageContext();invariant(t);const{customTextRenderer:e,onGetTextError:s,onGetTextSuccess:n,onRenderTextLayerError:i,onRenderTextLayerSuccess:a,page:u,pageIndex:$,pageNumber:h,rotate:f,scale:c}=t;invariant(u);const[S,E]=useResolver(),{value:d,error:T}=S,B=reactExports.useRef(null),_=reactExports.useRef(void 0);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function j(){d&&n&&n(d)}function N(){T&&(warning$1(!1,T.toString()),s&&s(T))}function G(){E({type:"RESET"})}reactExports.useEffect(G,[u,E]);function z(){if(!u)return;const g=makeCancellablePromise(u.getTextContent()),U=g;return g.promise.then(K=>{E({type:"RESOLVE",value:K})}).catch(K=>{E({type:"REJECT",error:K})}),()=>cancelRunningTask(U)}reactExports.useEffect(z,[u,E]),reactExports.useEffect(()=>{if(d!==void 0){if(d===!1){N();return}j()}},[d]);const x=reactExports.useCallback(()=>{a&&a()},[a]),O=reactExports.useCallback(g=>{warning$1(!1,g.toString()),i&&i(g)},[i]);function A(){const g=_.current;g&&g.classList.add("active")}function k(){const g=_.current;g&&g.classList.remove("active")}const F=reactExports.useMemo(()=>u.getViewport({scale:c,rotation:f}),[u,f,c]);function J(){if(!u||!d)return;const{current:g}=B;if(!g)return;g.innerHTML="";const U=u.streamTextContent({includeMarkedContent:!0}),K={container:g,textContentSource:U,viewport:F},pe=pdfjs.renderTextLayer(K),re=pe;return pe.promise.then(()=>{const ce=document.createElement("div");ce.className="endOfContent",g.append(ce),_.current=ce;const ie=g.querySelectorAll('[role="presentation"]');if(e){let ye=0;d.items.forEach((Y,ae)=>{if(!isTextItem(Y))return;const be=ie[ye];if(!be)return;const q=e(Object.assign({pageIndex:$,pageNumber:h,itemIndex:ae},Y));be.innerHTML=q,ye+=Y.str&&Y.hasEOL?2:1})}x()}).catch(O),()=>cancelRunningTask(re)}return reactExports.useLayoutEffect(J,[e,O,x,u,$,h,d,F]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:k,onMouseDown:A,ref:B})}function AnnotationLayer(){const t=useDocumentContext(),e=usePageContext();invariant(e);const s=Object.assign(Object.assign({},t),e),{imageResourcesPath:n,linkService:i,onGetAnnotationsError:a,onGetAnnotationsSuccess:u,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:h,page:f,pdf:c,renderForms:S,rotate:E,scale:d=1}=s;invariant(c),invariant(f),invariant(i);const[T,B]=useResolver(),{value:_,error:j}=T,N=reactExports.useRef(null);warning$1(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function G(){_&&u&&u(_)}function z(){j&&(warning$1(!1,j.toString()),a&&a(j))}function x(){B({type:"RESET"})}reactExports.useEffect(x,[B,f]);function O(){if(!f)return;const g=makeCancellablePromise(f.getAnnotations()),U=g;return g.promise.then(K=>{B({type:"RESOLVE",value:K})}).catch(K=>{B({type:"REJECT",error:K})}),()=>{cancelRunningTask(U)}}reactExports.useEffect(O,[B,f,S]),reactExports.useEffect(()=>{if(_!==void 0){if(_===!1){z();return}G()}},[_]);function A(){h&&h()}function k(g){warning$1(!1,`${g}`),$&&$(g)}const F=reactExports.useMemo(()=>f.getViewport({scale:d,rotation:E}),[f,E,d]);function J(){if(!c||!f||!i||!_)return;const{current:g}=N;if(!g)return;const U=F.clone({dontFlip:!0}),K={accessibilityManager:null,annotationCanvasMap:null,div:g,l10n:null,page:f,viewport:U},pe={annotations:_,annotationStorage:c.annotationStorage,div:g,downloadManager:null,imageResourcesPath:n,linkService:i,page:f,renderForms:S,viewport:U};g.innerHTML="";try{new pdfjs.AnnotationLayer(K).render(pe),A()}catch(re){k(re)}return()=>{}}return reactExports.useEffect(J,[_,n,i,f,S,F]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:N})}var __rest=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const defaultScale=1;function Page(t){const e=useDocumentContext(),s=Object.assign(Object.assign({},e),t),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:a,canvasRef:u,children:$,className:h,customRenderer:f,customTextRenderer:c,devicePixelRatio:S,error:E="Failed to load the page.",height:d,inputRef:T,loading:B="Loading page",noData:_="No page specified.",onGetAnnotationsError:j,onGetAnnotationsSuccess:N,onGetStructTreeError:G,onGetStructTreeSuccess:z,onGetTextError:x,onGetTextSuccess:O,onLoadError:A,onLoadSuccess:k,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:J,onRenderError:g,onRenderSuccess:U,onRenderTextLayerError:K,onRenderTextLayerSuccess:pe,pageIndex:re,pageNumber:ce,pdf:ie,registerPage:ye,renderAnnotationLayer:Y=!0,renderForms:ae=!1,renderMode:be="canvas",renderTextLayer:q=!0,rotate:p,scale:y=defaultScale,unregisterPage:H,width:Z}=s,ee=__rest(s,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[te,le]=useResolver(),{value:me,error:ke}=te,Ce=reactExports.useRef(null);invariant(ie);const Te=isProvided(ce)?ce-1:re??null,Me=ce??(isProvided(re)?re+1:null),Le=p??(me?me.rotate:null),ue=reactExports.useMemo(()=>{if(!me)return null;let We=1;const Je=y??defaultScale;if(Z||d){const st=me.getViewport({scale:1,rotation:Le});Z?We=Z/st.width:d&&(We=d/st.height)}return Je*We},[d,me,Le,y,Z]);function xe(){return()=>{isProvided(Te)&&i&&H&&H(Te)}}reactExports.useEffect(xe,[i,ie,Te,H]);function W(){if(k){if(!me||!ue)return;k(makePageCallback(me,ue))}if(i&&ye){if(!isProvided(Te)||!Ce.current)return;ye(Te,Ce.current)}}function ne(){ke&&(warning$1(!1,ke.toString()),A&&A(ke))}function he(){le({type:"RESET"})}reactExports.useEffect(he,[le,ie,Te]);function ve(){if(!ie||!Me)return;const We=makeCancellablePromise(ie.getPage(Me)),Je=We;return We.promise.then(st=>{le({type:"RESOLVE",value:st})}).catch(st=>{le({type:"REJECT",error:st})}),()=>cancelRunningTask(Je)}reactExports.useEffect(ve,[le,ie,Te,Me,ye]),reactExports.useEffect(()=>{if(me!==void 0){if(me===!1){ne();return}W()}},[me,ue]);const Pe=reactExports.useMemo(()=>me&&isProvided(Te)&&Me&&isProvided(Le)&&isProvided(ue)?{_className:n,canvasBackground:a,customTextRenderer:c,devicePixelRatio:S,onGetAnnotationsError:j,onGetAnnotationsSuccess:N,onGetStructTreeError:G,onGetStructTreeSuccess:z,onGetTextError:x,onGetTextSuccess:O,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:J,onRenderError:g,onRenderSuccess:U,onRenderTextLayerError:K,onRenderTextLayerSuccess:pe,page:me,pageIndex:Te,pageNumber:Me,renderForms:ae,renderTextLayer:q,rotate:Le,scale:ue}:null,[n,a,c,S,j,N,G,z,x,O,F,J,g,U,K,pe,me,Te,Me,ae,q,Le,ue]),Oe=reactExports.useMemo(()=>makeEventProps(ee,()=>me&&(ue?makePageCallback(me,ue):void 0)),[ee,me,ue]),Fe=`${Te}@${ue}/${Le}`,ge=`${Te}/${Le}`;function Be(){switch(be){case"custom":return invariant(f),jsxRuntimeExports.jsx(f,{},`${Fe}_custom`);case"none":return null;case"svg":return jsxRuntimeExports.jsx(PageSVG,{},`${ge}_svg`);case"canvas":default:return jsxRuntimeExports.jsx(PageCanvas,{canvasRef:u},`${Fe}_canvas`)}}function $e(){return q?jsxRuntimeExports.jsx(TextLayer,{},`${Fe}_text`):null}function tt(){return Y?jsxRuntimeExports.jsx(AnnotationLayer,{},`${Fe}_annotations`):null}function Ze(){return jsxRuntimeExports.jsxs(PageContext.Provider,{value:Pe,children:[Be(),$e(),tt(),$]})}function at(){return Me?ie===null||me===void 0||me===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof B=="function"?B():B}):ie===!1||me===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof E=="function"?E():E}):Ze():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof _=="function"?_():_})}return jsxRuntimeExports.jsx("div",Object.assign({className:clsx(n,h),"data-page-number":Me,ref:mergeRefs(T,Ce),style:{"--scale-factor":`${ue}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},Oe,{children:at()}))}displayWorkerWarning();pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";function getElementDimension(t){if(t){const e=t.offsetWidth,s=t.offsetHeight;return{width:e,height:s}}return{width:0,height:0}}function useElementDimensions(t){const[e,s]=reactExports.useState(getElementDimension(t));return reactExports.useLayoutEffect(()=>{s(getElementDimension(t));function n(){s(getElementDimension(t))}return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[t]),e}pdfjs.GlobalWorkerOptions.workerSrc=`//unpkg.com/pdfjs-dist@${pdfjs.version}/legacy/build/pdf.worker.min.js`;const ChatDownload=({type:t,url:e,fileName:s})=>{const{t:n}=useTranslation(),i=reactExports.useRef(null),a=useElementDimensions(i.current),u=()=>{const h=document.createElement("a");document.body.appendChild(h),h.download=s.toString(),h.href=e.toString(),h.click(),document.body.removeChild(h)},$=()=>jsxRuntimeExports.jsx(Flex,{width:"full",children:jsxRuntimeExports.jsxs(Card,{onClick:()=>u(),_hover:{cursor:"pointer"},children:[jsxRuntimeExports.jsx(CardBody,{ref:i,children:jsxRuntimeExports.jsx(Document,{file:e,children:jsxRuntimeExports.jsx(Page,{pageNumber:1,width:a.width,loading:"Laden"})})}),jsxRuntimeExports.jsx(CardFooter,{width:"full",padding:2,children:jsxRuntimeExports.jsxs(HStack,{width:"full",justifyContent:"space-between",children:[jsxRuntimeExports.jsxs(Text,{fontSize:"sm",children:[s,".pdf"]}),jsxRuntimeExports.jsx(Tooltip,{label:n("chatbot.showCV.download"),hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(IconButton,{onClick:()=>u(),"aria-label":"Download",icon:jsxRuntimeExports.jsx(Icon,{as:I$1}),variant:"ghost",colorScheme:"gray"})})]})})]})});return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t==="pdf"?$():null})},ChatNavigation=({url:t})=>jsxRuntimeExports.jsx(Navigate,{to:t}),ChatText=({children:t,owner:e})=>jsxRuntimeExports.jsx(Fade,{in:!0,style:{width:"100%"},children:jsxRuntimeExports.jsx(Flex,{width:"full",justifyContent:e==="bot"?"start":"end",children:jsxRuntimeExports.jsx(Text,{minHeight:6,width:"fit-content",maxWidth:"80%",boxShadow:"0 0 2rem rgba(black, 0.075), 0rem 1rem 1rem -1rem rgba(black, 0.1)",backgroundColor:e==="bot"?"gray.200":"black",color:e==="bot"?"black":"white",borderRadius:e==="bot"?"1.125rem 1.125rem 1.125rem 0":"1.125rem 1.125rem 0 1.125rem",paddingX:4,paddingY:2,style:{hyphens:"auto",wordWrap:"break-word"},children:t})})}),ChatMessages=()=>{const{t}=useTranslation(),[e,s]=reactExports.useState(initialMessages),[n,i]=reactExports.useState(initialActions),a=reactExports.useRef(null);reactExports.useEffect(()=>{f()},[e,n]);const u=()=>e.map((c,S)=>isChatTextMessage(c)?jsxRuntimeExports.jsx(ChatText,{owner:c.owner,children:t(c.message)},S):isChatDownload(c)?jsxRuntimeExports.jsx(ChatDownload,{owner:c.owner,type:c.type,fileName:c.fileName,url:c.url},S):isChatRedirect(c)?jsxRuntimeExports.jsx(ChatNavigation,{url:c.url},S):null),$=c=>{const S=[];return c.forEach(E=>{const d=actionRepository.get(E);d&&S.push(d)}),S},h=async c=>{i([]);const E=c.messges.map((d,T)=>new Promise(B=>{setTimeout(()=>{s(_=>[..._,d]),B()},T*1e3)}));await Promise.all(E),i(c.furtherActions?$(c.furtherActions):[])},f=()=>{var c;(c=a==null?void 0:a.current)==null||c.scrollIntoView({behavior:"smooth"})};return jsxRuntimeExports.jsxs(VStack,{spacing:6,children:[jsxRuntimeExports.jsx(VStack,{width:"full",spacing:3,children:u()}),jsxRuntimeExports.jsx(Stack,{direction:{base:"column",lg:"row"},width:"full",flexWrap:"wrap",children:n.map((c,S)=>jsxRuntimeExports.jsx(ChatAction,{handleAction:()=>h(c),children:t(c.actionText)},S))}),jsxRuntimeExports.jsx("div",{ref:a})]})},Chat=({onClick:t})=>jsxRuntimeExports.jsxs(Card,{position:"fixed",bottom:{base:0,lg:"5%"},right:{base:0,lg:"5%"},height:{base:"full",lg:"auto"},maxWidth:{base:"full",lg:"25vw"},maxHeight:{base:"full",lg:"65vh"},zIndex:3,children:[jsxRuntimeExports.jsx(ChatHeader,{onClick:t}),jsxRuntimeExports.jsx(CardBody,{overflowY:"auto",children:jsxRuntimeExports.jsx(ChatMessages,{})})]}),ChatbotButton=({onClick:t})=>{const{t:e}=useTranslation();return jsxRuntimeExports.jsx(Tooltip,{label:e("chatbot.tooltip"),hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(IconButton,{"aria-label":"Chatbot",icon:jsxRuntimeExports.jsx(Icon,{as:C,boxSize:8}),position:"fixed",bottom:"5%",right:"5%",size:"lg",variant:{base:"solid",lg:"outline"},colorScheme:"gray",onClick:t})})},Chatbot=()=>{const[t,e]=reactExports.useState(!1);return t?jsxRuntimeExports.jsx(Chat,{onClick:()=>e(!1)}):jsxRuntimeExports.jsx(ChatbotButton,{onClick:()=>e(!0)})},BinaryIcon=t=>jsxRuntimeExports.jsxs(Box,{as:"svg",xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",display:"inline",...t,children:[jsxRuntimeExports.jsx("rect",{x:"14",y:"14",width:"4",height:"6",rx:"2"}),jsxRuntimeExports.jsx("rect",{x:"6",y:"4",width:"4",height:"6",rx:"2"}),jsxRuntimeExports.jsx("path",{d:"M6 20h4"}),jsxRuntimeExports.jsx("path",{d:"M14 10h4"}),jsxRuntimeExports.jsx("path",{d:"M6 14h2v6"}),jsxRuntimeExports.jsx("path",{d:"M14 4h2v6"})]}),DarkModeSwitch=t=>{const{t:e}=useTranslation(),{colorMode:s,toggleColorMode:n}=useColorMode();return jsxRuntimeExports.jsx(Tooltip,{label:e(s==="light"?"navigation.themeSwitch.dark":"navigation.themeSwitch.light"),"aria-label":"Dark mode switch",hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(IconButton,{icon:jsxRuntimeExports.jsx(Icon,{as:s==="light"?M:I$2,boxSize:{base:6,lg:5}}),variant:"outline",colorScheme:"gray",onClick:n,...t,"aria-label":"Dark mode switch"})})},Footer=()=>{const{t}=useTranslation(),[e]=useMediaQuery("(max-width: 62em)");return jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},width:"full",marginTop:6,children:[jsxRuntimeExports.jsxs(Text,{fontSize:"sm",display:"flex",flexDirection:{base:"column",lg:"row"},alignItems:{base:"center",lg:"start"},gap:1,flex:1,children:[jsxRuntimeExports.jsx(Text,{as:"span",children:" 2024"})," ",t("footer.text")," ",jsxRuntimeExports.jsx(BinaryIcon,{color:"brand.500"})]}),e?jsxRuntimeExports.jsxs(HStack,{spacing:4,width:"full",justifyContent:"center",children:[jsxRuntimeExports.jsx(Link,{"aria-label":"Github",isExternal:!0,href:"https://github.com/fredericbahr",children:jsxRuntimeExports.jsx(Icon,{as:l,boxSize:6,transition:"all 0.2s ease-in-out",_hover:{color:"brand.500",transform:"translateY(-4px) scale(1.2)"}})}),jsxRuntimeExports.jsx(Link,{"aria-label":"Linkedin",isExternal:!0,href:"https://www.linkedin.com/in/frederic-bahr-446925251/",children:jsxRuntimeExports.jsx(Icon,{as:l$1,boxSize:6,transition:"all 0.2s ease-in-out",_hover:{color:"brand.500",transform:"translateY(-4px) scale(1.2)"}})}),jsxRuntimeExports.jsx(DarkModeSwitch,{variant:"ghost",justifySelf:"end"})]}):jsxRuntimeExports.jsx(DarkModeSwitch,{variant:"ghost",justifySelf:"end"})]})},Logo=({...t})=>{const[e]=useToken("colors",["brand.500"]);return jsxRuntimeExports.jsxs(Box,{as:"svg",id:"e76RbDrnTZM1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 226.304018 200.378",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",...t,children:[jsxRuntimeExports.jsx("path",{id:"e76RbDrnTZM2",d:"M75.000003,20.999997L75.000003,43.003079L152.325119,43.003079L152.325119,20.999997L75.000003,20.999997Z",fill:e,stroke:e,strokeWidth:"0.452608"}),jsxRuntimeExports.jsx("path",{id:"e76RbDrnTZM3",d:"M75.000003,72.550075L75.000003,156.999998L97.841297,156.999997L97.841297,94.972261L152.325119,94.97226L152.325119,72.550072L75.000003,72.550075Z",transform:"matrix(1 0 0 1 0 0.000003)",fill:e,stroke:e,strokeWidth:"0.452608"})]})},config={initialColorMode:localStorage.getItem("chakra-ui-color-mode")??"light",useSystemColorMode:!1},components={Heading:{baseStyle:{fontFamily:"'Orbitron', sans-serif"}}},bordeauxTheme=extendTheme({config,components,colors:{brand:{50:"#FFB7B1",100:"#FF9E98",200:"#FF3E30",300:"#FB1100",400:"#C80D00",500:"#930A00",600:"#890900",700:"#7F0800",800:"#740800",900:"#6A0700"}}},withDefaultColorScheme({colorScheme:"brand"})),greenTheme=extendTheme({config,components,colors:{brand:{50:"#9ad1a1",100:"#86c88e",200:"#72bf7b",300:"#5db568",400:"#49ac55",500:"#35a342",600:"#30933b",700:"#2a8235",800:"#25722e",900:"#1b5221"}}},withDefaultColorScheme({colorScheme:"brand"})),limeTheme=extendTheme({config,components,colors:{brand:{50:"#99f0c5",100:"#85ecb9",200:"#70e9ad",300:"#5ce6a1",400:"#47e396",500:"#33e08a",600:"#2eca7c",700:"#29b36e",800:"#249d61",900:"#1f8653"}}},withDefaultColorScheme({colorScheme:"brand"})),colorSchemeMap=new Map([["bordeaux",bordeauxTheme],["green",greenTheme],["lime",limeTheme]]),ColorSchemeContext=reactExports.createContext({colorScheme:bordeauxTheme}),ColorSchemeProvider=({children:t})=>{const e=()=>{const a=localStorage.getItem("colorScheme");if(a){const u=JSON.parse(a);return colorSchemeMap.get(u)}return greenTheme},[s,n]=reactExports.useState(e()),i=a=>{localStorage.setItem("colorScheme",JSON.stringify(a)),n(colorSchemeMap.get(a))};return jsxRuntimeExports.jsx(ColorSchemeContext.Provider,{value:{colorScheme:s,setColorScheme:a=>i(a)},children:t})},useColorScheme=()=>reactExports.useContext(ColorSchemeContext);var Color=(t=>(t.Bordeaux="#930A00",t.Green="#35a342",t.Lime="#33e08a",t))(Color||{}),Theme=(t=>(t.Bordeaux="bordeaux",t.Green="green",t.Lime="lime",t))(Theme||{}),ThemeName=(t=>(t.Bordeaux="bordeaux",t.Green="green",t.Lime="lime",t))(ThemeName||{});const ColorThemePicker=()=>{const{t}=useTranslation(),{setColorScheme:e}=useColorScheme(),s=n=>{e(n)};return jsxRuntimeExports.jsxs(Popover,{placement:"bottom-end",closeOnEsc:!0,children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(IconButton,{"aria-label":"Change color theme",icon:jsxRuntimeExports.jsx(Icon,{as:P}),variant:"outline",colorScheme:"gray"})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(PopoverContent,{children:[jsxRuntimeExports.jsx(PopoverArrow,{}),jsxRuntimeExports.jsxs(PopoverHeader,{display:"flex",alignItems:"center",children:[jsxRuntimeExports.jsx(Text,{as:"span",children:t("navigation.themeSwitch.title")})," ",jsxRuntimeExports.jsx(PopoverCloseButton,{})]}),jsxRuntimeExports.jsx(PopoverBody,{children:jsxRuntimeExports.jsxs(HStack,{alignItems:"center",gap:4,wrap:"wrap",width:"full",justifyContent:"space-evenly",children:[jsxRuntimeExports.jsx(DarkModeSwitch,{}),Object.entries(Theme).map(([n,i])=>jsxRuntimeExports.jsx(Tooltip,{label:t(`navigation.themeSwitch.${ThemeName[n]}`),"aria-label":ThemeName[n],hasArrow:!0,children:jsxRuntimeExports.jsx(Box,{backgroundColor:Color[n],minWidth:"2rem",minHeight:"2rem",borderRadius:"full",ms:"0 !important",_hover:{cursor:"pointer"},onClick:()=>s(i)})},i))]})})]})})]})},LanguageSwitcher=()=>{const{t,i18n:e}=useTranslation(),s=useColorModeValue("gray.100","gray.800"),{isOpen:n,onOpen:i,onClose:a}=useDisclosure(),u=$=>{e.changeLanguage($),a()};return jsxRuntimeExports.jsxs(Popover,{placement:"bottom-end",closeOnEsc:!0,onClose:a,onOpen:i,isOpen:n,children:[jsxRuntimeExports.jsx(PopoverTrigger,{children:jsxRuntimeExports.jsx(IconButton,{"aria-label":"Change language",icon:jsxRuntimeExports.jsx(Icon,{as:R}),variant:"outline",colorScheme:"gray"})}),jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(PopoverContent,{children:[jsxRuntimeExports.jsx(PopoverArrow,{}),jsxRuntimeExports.jsx(PopoverHeader,{display:"flex",alignItems:"center",children:t("navigation.languageSwitch.title")}),jsxRuntimeExports.jsxs(PopoverBody,{padding:0,children:[jsxRuntimeExports.jsxs(List,{spacing:2,children:[jsxRuntimeExports.jsx(ListItem,{width:"full",_hover:{backgroundColor:s,cursor:"pointer"},onClick:()=>u("de"),children:jsxRuntimeExports.jsx(Text,{paddingY:2,paddingX:4,children:t("navigation.languageSwitch.german")})}),jsxRuntimeExports.jsx(ListItem,{_hover:{backgroundColor:s,cursor:"pointer"},onClick:()=>u("en"),children:jsxRuntimeExports.jsx(Text,{paddingY:2,paddingX:4,children:t("navigation.languageSwitch.english")})})]}),jsxRuntimeExports.jsx(PopoverCloseButton,{})]})]})})]})},MobileNavigation=()=>{const{t}=useTranslation(),e=useColorModeValue("gray.500","gray.400"),s=useNavigate(),n=()=>{s("/contact")};return jsxRuntimeExports.jsxs(VStack,{spacing:3,children:[jsxRuntimeExports.jsxs(List,{alignSelf:"start",spacing:3,fontSize:"large",children:[jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},children:jsxRuntimeExports.jsx(Link,{href:"/#about",_before:{content:"'0' counter(navitem) '.'",marginRight:1,color:"brand.500",fontSize:"xs"},children:t("navigation.about")})}),jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},children:jsxRuntimeExports.jsx(Link,{href:"/#experience",_before:{content:"'0' counter(navitem) '.'",marginRight:1,color:"brand.500",fontSize:"xs"},children:t("navigation.experience")})}),jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},children:jsxRuntimeExports.jsx(Link,{href:"/#projects",_before:{content:"'0' counter(navitem) '.'",marginRight:1,color:"brand.500",fontSize:"xs"},children:t("navigation.projects")})}),jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},children:jsxRuntimeExports.jsx(Link,{onClick:n,_before:{content:"'0' counter(navitem) '.'",marginRight:1,color:"brand.500",fontSize:"xs"},children:t("navigation.contact")})})]}),jsxRuntimeExports.jsx(Divider,{borderColor:e}),jsxRuntimeExports.jsxs(HStack,{spacing:8,children:[jsxRuntimeExports.jsx(ColorThemePicker,{}),jsxRuntimeExports.jsx(LanguageSwitcher,{})]})]})},Navigation=()=>{const{t}=useTranslation(),e=useNavigate(),s=()=>{e("/contact")};return jsxRuntimeExports.jsxs(Box,{as:"nav",flex:1,display:"flex",justifyContent:"end",alignItems:"center",marginRight:8,gap:8,children:[jsxRuntimeExports.jsxs(OrderedList,{display:"flex",flexDirection:"row",gap:8,style:{counterReset:"navitem 0"},children:[jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},listStyleType:"none",children:jsxRuntimeExports.jsx(Link,{href:"/#about",_hover:{textDecoration:"none",color:"brand.500"},_before:{content:"'0' counter(navitem) '.'",marginRight:2,color:"brand.500",fontSize:"sm"},children:t("navigation.about")})}),jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},listStyleType:"none",children:jsxRuntimeExports.jsx(Link,{href:"/#experience",_hover:{textDecoration:"none",color:"brand.500"},_before:{content:"'0' counter(navitem) '.'",marginRight:2,color:"brand.500",fontSize:"sm"},children:t("navigation.experience")})}),jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},listStyleType:"none",children:jsxRuntimeExports.jsx(Link,{href:"/#projects",_hover:{textDecoration:"none",color:"brand.500"},_before:{content:"'0' counter(navitem) '.'",marginRight:2,color:"brand.500",fontSize:"sm"},children:t("navigation.projects")})}),jsxRuntimeExports.jsx(ListItem,{style:{counterIncrement:"navitem 1"},listStyleType:"none",children:jsxRuntimeExports.jsx(Link,{onClick:s,_hover:{textDecoration:"none",color:"brand.500"},_before:{content:"'0' counter(navitem) '.'",marginRight:2,color:"brand.500",fontSize:"sm"},children:t("navigation.contact")})})]}),jsxRuntimeExports.jsx(ColorThemePicker,{}),jsxRuntimeExports.jsx(LanguageSwitcher,{})]})},Header=()=>{const[t]=useMediaQuery("(max-width: 62em)"),{isOpen:e,onToggle:s}=useDisclosure(),n=useNavigate();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Flex,{as:"header",flexDirection:"row",width:"full",padding:2,marginBottom:{base:0,lg:2},justifyContent:{base:"space-between",lg:"unset"},children:[jsxRuntimeExports.jsx(IconButton,{icon:jsxRuntimeExports.jsx(Logo,{maxH:12}),"aria-label":"Logo",variant:"ghost",marginLeft:6,onClick:()=>n("/")}),t&&jsxRuntimeExports.jsx(IconButton,{"aria-label":"Open Menu",icon:e?jsxRuntimeExports.jsx(Icon,{as:R$1}):jsxRuntimeExports.jsx(Icon,{as:L}),onClick:s,variant:"ghost",colorScheme:"gray"}),!t&&jsxRuntimeExports.jsx(Navigation,{})]}),t&&jsxRuntimeExports.jsx(Flex,{justifyContent:"center",width:"full",margin:"0 auto",marginTop:-3,children:jsxRuntimeExports.jsx(Collapse,{in:e,animateOpacity:!0,children:jsxRuntimeExports.jsx(MobileNavigation,{})})})]})},Socials=()=>{const{t}=useTranslation(),e=useColorModeValue("gray.600","gray.200");return jsxRuntimeExports.jsx(Box,{position:"fixed",bottom:"0px",left:"5%",children:jsxRuntimeExports.jsxs(List,{spacing:4,display:"flex",flexDirection:"column",alignItems:"center",_after:{content:"''",display:"block",height:"90px",width:"1px",backgroundColor:e,marginTop:"4"},children:[jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(Tooltip,{label:t("socials.github"),hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(Link,{"aria-label":"Github",isExternal:!0,href:"https://github.com/fredericbahr",children:jsxRuntimeExports.jsx(Icon,{as:l,boxSize:6,transition:"all 0.2s ease-in-out",_hover:{color:"brand.500",transform:"translateY(-4px) scale(1.2)"}})})})}),jsxRuntimeExports.jsx(ListItem,{children:jsxRuntimeExports.jsx(Tooltip,{label:t("socials.linkedin"),hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(Link,{"aria-label":"Linkedin",isExternal:!0,href:"https://www.linkedin.com/in/frederic-bahr-446925251/",children:jsxRuntimeExports.jsx(Icon,{as:l$1,boxSize:6,transition:"all 0.2s ease-in-out",_hover:{color:"brand.500",transform:"translateY(-4px) scale(1.2)"}})})})})]})})},Layout=({children:t})=>{const[e]=useMediaQuery("(max-width: 62em)");return jsxRuntimeExports.jsxs(VStack,{minHeight:"100vh",marginBottom:10,children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx(Container,{maxWidth:{base:"full",lg:"80%"},style:{counterReset:"heading 0"},children:jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:{base:8,lg:16},children:[t,jsxRuntimeExports.jsx(Footer,{})]})}),!e&&jsxRuntimeExports.jsx(Socials,{}),jsxRuntimeExports.jsx(Chatbot,{})]})};function AnimatedLogo({...t}){const[e]=useToken("colors",["brand.500"]),s=keyframes`
    from {
      stroke-dashoffset: 200.65640258789062px;
      stroke-dasharray: 200.65640258789062px;
    }

    to {
      stroke-dashoffset: 0;
      stroke-dasharray: 200.65640258789062px;
    }`,n=keyframes`
    from {
      stroke-dashoffset: 325.55010986328125px;
      stroke-dasharray: 325.55010986328125px;
    }
  
    to {
      stroke-dashoffset: 0;
      stroke-dasharray: 325.55010986328125px;
    }
  `,i=keyframes` 
    from {
      fill: transparent;
    }
  
    to {
      fill: ${e};
    }
  `,a=keyframes` 
    from {
      opacity: 1;
    }
  
    to {
      opacity: 0;
    }
  `;return jsxRuntimeExports.jsxs("svg",{id:"e76RbDrnTZM1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 226.304018 200.378",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",...t,children:[jsxRuntimeExports.jsx(Box,{as:"path",id:"e76RbDrnTZM2",d:"M75.000003,20.999997L75.000003,43.003079L152.325119,43.003079L152.325119,20.999997L75.000003,20.999997Z",fill:e,stroke:e,strokeWidth:"0.452608",animation:`${s} 1.2s ease 0s both, ${i} 0.5s ease-in 1.2s both,
          ${a} 0.5s ease-in 2s both`}),jsxRuntimeExports.jsx(Box,{as:"path",id:"e76RbDrnTZM3",d:"M75.000003,72.550075L75.000003,156.999998L97.841297,156.999997L97.841297,94.972261L152.325119,94.97226L152.325119,72.550072L75.000003,72.550075Z",transform:"matrix(1 0 0 1 0 0.000003)",fill:e,stroke:e,strokeWidth:"0.452608",animation:`${n} 1.2s ease 0.1s both, ${i} 0.5s ease-in 1.2s both,
        ${a} 0.5s ease-in 2s both`})]})}const Heading=({children:t,id:e})=>jsxRuntimeExports.jsx(Heading$1,{id:e,as:"h2",fontSize:{base:"3xl",lg:"4xl"},display:"flex",alignItems:"center",justifyContent:"center",width:"full",marginTop:{base:4,lg:12},style:{counterIncrement:"heading 1"},_before:{content:"'0' counter(heading) '.'",marginRight:3,color:"brand.500",fontSize:"lg",alignSelf:"flex-end",marginBottom:1.5},_after:{content:"''",display:{base:"none",lg:"block"},width:"100%",height:.25,backgroundColor:"gray.300",marginLeft:{base:4,lg:8},marginTop:3,minWidth:{base:"unset",lg:"lg"}},children:jsxRuntimeExports.jsx(Text,{as:"span",style:{textWrap:"nowrap"},children:t})}),technologies=["TypeScript","Jest","React","Playwright","Lit","Node.js","ChakraUI","Express"],About=()=>{const{t}=useTranslation();return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:8,children:[jsxRuntimeExports.jsx(Heading,{id:"about",children:t("about.title")}),jsxRuntimeExports.jsxs(Grid,{gap:8,width:"full",gridTemplateColumns:{base:"1fr",lg:"1fr auto"},alignItems:"center",children:[jsxRuntimeExports.jsxs(VStack,{spacing:4,children:[jsxRuntimeExports.jsx(Text,{children:t("about.introduction")}),jsxRuntimeExports.jsx(Text,{children:t("about.main")}),jsxRuntimeExports.jsx(Text,{children:t("about.volunteering")}),jsxRuntimeExports.jsx(Text,{children:t("about.technologies")}),jsxRuntimeExports.jsx(List,{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",columnGap:8,rowGap:.5,alignSelf:"start",children:technologies.map((e,s)=>jsxRuntimeExports.jsxs(ListItem,{display:"flex",alignItems:"center",children:[jsxRuntimeExports.jsx(ListIcon,{as:R$2,color:"green.500"}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"sm",lg:"lg"},children:e})]},`${e}-${s}`))})]}),jsxRuntimeExports.jsx(Box,{display:"flex",justifyContent:"center"})]})]})};class EmailJSResponseStatus{constructor(e=0,s="Network Error"){this.status=e,this.text=s}}const createWebStorage=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},store={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:createWebStorage()},buildOptions=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},init=(t,e="https://api.emailjs.com")=>{if(!t)return;const s=buildOptions(t);store.publicKey=s.publicKey,store.blockHeadless=s.blockHeadless,store.storageProvider=s.storageProvider,store.blockList=s.blockList,store.limitRate=s.limitRate,store.origin=s.origin||e},sendPost=async(t,e,s={})=>{const n=await fetch(store.origin+t,{method:"POST",headers:s,body:e}),i=await n.text(),a=new EmailJSResponseStatus(n.status,i);if(n.ok)return a;throw a},validateParams=(t,e,s)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},validateTemplateParams=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},isHeadless=t=>t.webdriver||!t.languages||t.languages.length===0,headlessError=()=>new EmailJSResponseStatus(451,"Unavailable For Headless Browser"),validateBlockListParams=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},isBlockListDisabled=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},getValue=(t,e)=>t instanceof FormData?t.get(e):t[e],isBlockedValueInParams=(t,e)=>{if(isBlockListDisabled(t))return!1;validateBlockListParams(t.list,t.watchVariable);const s=getValue(e,t.watchVariable);return typeof s!="string"?!1:t.list.includes(s)},blockedEmailError=()=>new EmailJSResponseStatus(403,"Forbidden"),validateLimitRateParams=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},getLeftTime=async(t,e,s)=>{const n=Number(await s.get(t)||0);return e-Date.now()+n},isLimitRateHit=async(t,e,s)=>{if(!e.throttle||!s)return!1;validateLimitRateParams(e.throttle,e.id);const n=e.id||t;return await getLeftTime(n,e.throttle,s)>0?!0:(await s.set(n,Date.now().toString()),!1)},limitRateError=()=>new EmailJSResponseStatus(429,"Too Many Requests"),send=async(t,e,s,n)=>{const i=buildOptions(n),a=i.publicKey||store.publicKey,u=i.blockHeadless||store.blockHeadless,$=i.storageProvider||store.storageProvider,h={...store.blockList,...i.blockList},f={...store.limitRate,...i.limitRate};return u&&isHeadless(navigator)?Promise.reject(headlessError()):(validateParams(a,t,e),validateTemplateParams(s),s&&isBlockedValueInParams(h,s)?Promise.reject(blockedEmailError()):await isLimitRateHit(location.pathname,f,$)?Promise.reject(limitRateError()):sendPost("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:s}),{"Content-type":"application/json"}))},validateForm=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},findHTMLForm=t=>typeof t=="string"?document.querySelector(t):t,sendForm=async(t,e,s,n)=>{const i=buildOptions(n),a=i.publicKey||store.publicKey,u=i.blockHeadless||store.blockHeadless,$=store.storageProvider||i.storageProvider,h={...store.blockList,...i.blockList},f={...store.limitRate,...i.limitRate};if(u&&isHeadless(navigator))return Promise.reject(headlessError());const c=findHTMLForm(s);validateParams(a,t,e),validateForm(c);const S=new FormData(c);return isBlockedValueInParams(h,S)?Promise.reject(blockedEmailError()):await isLimitRateHit(location.pathname,f,$)?Promise.reject(limitRateError()):(S.append("lib_version","4.4.1"),S.append("service_id",t),S.append("template_id",e),S.append("user_id",a),sendPost("/api/v1.0/email/send-form",S))},emailjs={init,send,sendForm,EmailJSResponseStatus},m={chars:"-./^*!}<~$012345abcdef",interval:50},b=t=>t[Math.floor(Math.random()*t.length)],v=(t,e,s,n,i,a)=>e>t?n[e]:t>=s&&e<t-s?i[e]:b(a),V=t=>{const{chars:e,interval:s,callback:n,initialValue:i}={...m,...t};let a,u;i&&(a=i,n(a));function*$(h,f=""){const c=h.length,S=f.length,E=Math.max(c,S),d=2*E;let T=0;for(yield f;T<d;)yield[...new Array(E)].map((B,_)=>v(T,_,E,f,h,e)).join(""),T++;yield h}return h=>{clearInterval(u);const f=$(h,a);return new Promise(c=>{u=setInterval(()=>{var S=f.next();S.done?(clearInterval(u),c(a)):(a=S.value,n(a))},s)})}};function I(t,e){let s="",n={};typeof t=="object"?n=t:typeof t=="string"&&(s=t,n={});const[i,a]=React$1.useState(),[u,$]=React$1.useState(()=>V({...n,initialValue:s,callback:a}));return[i,u]}const Button=({label:t,...e})=>{const s=useColorModeValue("white","gray.800"),n=useColorModeValue("gray.800","white"),i=useColorModeValue("white","gray.800"),[a,u]=I(t);return reactExports.useEffect(()=>{u(t)},[t,u]),jsxRuntimeExports.jsxs(Button$1,{colorScheme:"brand",size:"lg",position:"relative",borderRadius:"none",overflow:"hidden",backgroundColor:"brand.500",_before:{content:"''",width:"20px",height:"20px",position:"absolute",transform:"rotate(45deg)",borderWidth:2,backgroundColor:s,bottom:"-10px",left:"-10px",overflow:"hidden",zIndex:1},_after:{content:"''",width:"20px",height:"20px",position:"absolute",transform:"rotate(45deg)",borderWidth:2,backgroundColor:s,top:"-10px",right:"-10px",overflow:"hidden",zIndex:1},_hover:{color:i},sx:{"&:hover > div":{left:0}},onMouseEnter:()=>u(t),onMouseLeave:()=>u(t),...e,children:[jsxRuntimeExports.jsx(Text,{as:"span",zIndex:"1",children:a}),jsxRuntimeExports.jsx(Box,{className:"btn-slide-effect",position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:n,transition:"all 0.3s"})]})},Input=t=>jsxRuntimeExports.jsx(Input$1,{focusBorderColor:"brand.500",size:"lg",_placeholder:{fontSize:"sm"},...t}),Textarea=t=>jsxRuntimeExports.jsx(Textarea$1,{focusBorderColor:"brand.500",size:"lg",_placeholder:{fontSize:"sm"},...t}),Contact=()=>{const{t}=useTranslation(),[e,s]=reactExports.useState(""),[n,i]=reactExports.useState(""),[a,u]=reactExports.useState(""),[$,h]=reactExports.useState(!1),f=T=>/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g.test(T),c=T=>{s(T.target.value)},S=T=>{i(T.target.value)},E=T=>{u(T.target.value)},d=async T=>{T.preventDefault(),T.stopPropagation();const B={from_completeName:e,from_emailcontact:n,message:a};if(!f(n)){h(!0);return}try{await emailjs.send(void 0,void 0,B),h(!1)}catch(_){console.error("Failed to send email",_)}};return jsxRuntimeExports.jsxs(VStack,{spacing:12,align:"start",width:"full",marginTop:{base:8,lg:16},children:[jsxRuntimeExports.jsx(Heading$1,{children:t("contact.headline")}),jsxRuntimeExports.jsx(Flex,{width:"full",children:jsxRuntimeExports.jsx(Text,{width:{base:"full",lg:"65%"},textAlign:"start",children:t("contact.subtext")})}),jsxRuntimeExports.jsxs(HStack,{spacing:6,width:"full",children:[jsxRuntimeExports.jsx(Icon,{as:w,width:6,height:6}),jsxRuntimeExports.jsx(Link,{href:"mailto:fredericbahr1@gmail.com",children:"fredericbahr1@gmail.com"})]}),jsxRuntimeExports.jsxs(VStack,{spacing:4,width:"full",children:[jsxRuntimeExports.jsx(Text,{width:"full",textAlign:"start",children:t("contact.form.headline")}),jsxRuntimeExports.jsxs(Grid,{gridTemplateColumns:{base:"1fr",lg:"1fr 1fr"},gridTemplateRows:{base:"auto auto 1fr",lg:"1fr 1fr"},columnGap:6,rowGap:4,width:"full",children:[jsxRuntimeExports.jsx(Input,{placeholder:t("contact.form.name"),gridColumn:"1",gridRow:"1",value:e,onChange:c}),jsxRuntimeExports.jsxs(FormControl,{isInvalid:$,gridColumn:"1",gridRow:"2",children:[jsxRuntimeExports.jsx(Input,{placeholder:t("contact.form.email"),value:n,onChange:S}),$&&jsxRuntimeExports.jsx(FormErrorMessage,{children:t("contact.form.emailError")})]}),jsxRuntimeExports.jsx(Textarea,{placeholder:t("contact.form.message"),height:"full",gridRow:{base:"auto",lg:"1 / span 2"},value:a,onChange:E})]}),jsxRuntimeExports.jsx(Button,{label:t("contact.form.submit"),alignSelf:{base:"center",lg:"end"},onClick:d})]})]})},millisecondsInWeek=6048e5,millisecondsInDay=864e5,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&constructFromSymbol in t?t[constructFromSymbol](e):t instanceof Date?new t.constructor(e):new Date(e)}function toDate(t,e){return constructFrom(e||t,t)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(t,e){var $,h,f,c;const s=getDefaultOptions(),n=(e==null?void 0:e.weekStartsOn)??((h=($=e==null?void 0:e.locale)==null?void 0:$.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((c=(f=s.locale)==null?void 0:f.options)==null?void 0:c.weekStartsOn)??0,i=toDate(t,e==null?void 0:e.in),a=i.getDay(),u=(a<n?7:0)+a-n;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function startOfISOWeek(t,e){return startOfWeek(t,{...e,weekStartsOn:1})}function getISOWeekYear(t,e){const s=toDate(t,e==null?void 0:e.in),n=s.getFullYear(),i=constructFrom(s,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=startOfISOWeek(i),u=constructFrom(s,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const $=startOfISOWeek(u);return s.getTime()>=a.getTime()?n+1:s.getTime()>=$.getTime()?n:n-1}function getTimezoneOffsetInMilliseconds(t){const e=toDate(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function normalizeDates(t,...e){const s=constructFrom.bind(null,e.find(n=>typeof n=="object"));return e.map(s)}function startOfDay(t,e){const s=toDate(t,e==null?void 0:e.in);return s.setHours(0,0,0,0),s}function differenceInCalendarDays(t,e,s){const[n,i]=normalizeDates(s==null?void 0:s.in,t,e),a=startOfDay(n),u=startOfDay(i),$=+a-getTimezoneOffsetInMilliseconds(a),h=+u-getTimezoneOffsetInMilliseconds(u);return Math.round(($-h)/millisecondsInDay)}function startOfISOWeekYear(t,e){const s=getISOWeekYear(t,e),n=constructFrom(t,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),startOfISOWeek(n)}function isDate(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function isValid(t){return!(!isDate(t)&&typeof t!="number"||isNaN(+toDate(t)))}function startOfYear(t,e){const s=toDate(t,e==null?void 0:e.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance$1=(t,e,s)=>{let n;const i=formatDistanceLocale$1[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function buildFormatLongFn(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const dateFormats$1={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats$1={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats$1={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong$1={date:buildFormatLongFn({formats:dateFormats$1,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats$1,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats$1,defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative$1=(t,e,s,n)=>formatRelativeLocale$1[t];function buildLocalizeFn(t){return(e,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,$=s!=null&&s.width?String(s.width):u;i=t.formattingValues[$]||t.formattingValues[u]}else{const u=t.defaultWidth,$=s!=null&&s.width?String(s.width):t.defaultWidth;i=t.values[$]||t.values[u]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const eraValues$1={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues$1={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues$1={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues$1={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues$1={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber$1=(t,e)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},localize$1={ordinalNumber:ordinalNumber$1,era:buildLocalizeFn({values:eraValues$1,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues$1,defaultWidth:"wide",argumentCallback:t=>t-1}),month:buildLocalizeFn({values:monthValues$1,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues$1,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues$1,defaultWidth:"wide",formattingValues:formattingDayPeriodValues$1,defaultFormattingWidth:"wide"})};function buildMatchFn(t){return(e,s={})=>{const n=s.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const u=a[0],$=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray($)?findIndex($,S=>S.test(u)):findKey($,S=>S.test(u));let f;f=t.valueCallback?t.valueCallback(h):h,f=s.valueCallback?s.valueCallback(f):f;const c=e.slice(u.length);return{value:f,rest:c}}}function findKey(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function findIndex(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function buildMatchPatternFn(t){return(e,s={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let u=t.valueCallback?t.valueCallback(a[0]):a[0];u=s.valueCallback?s.valueCallback(u):u;const $=e.slice(i.length);return{value:u,rest:$}}}const matchOrdinalNumberPattern$1=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern$1=/\d+/i,matchEraPatterns$1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns$1={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns$1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns$1={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns$1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns$1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns$1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns$1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns$1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns$1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern$1,parsePattern:parseOrdinalNumberPattern$1,valueCallback:t=>parseInt(t,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns$1,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns$1,defaultParseWidth:"any",valueCallback:t=>t+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns$1,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns$1,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns$1,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns$1,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns$1,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(t,e){const s=toDate(t,e==null?void 0:e.in);return differenceInCalendarDays(s,startOfYear(s))+1}function getISOWeek(t,e){const s=toDate(t,e==null?void 0:e.in),n=+startOfISOWeek(s)-+startOfISOWeekYear(s);return Math.round(n/millisecondsInWeek)+1}function getWeekYear(t,e){var c,S,E,d;const s=toDate(t,e==null?void 0:e.in),n=s.getFullYear(),i=getDefaultOptions(),a=(e==null?void 0:e.firstWeekContainsDate)??((S=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:S.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(E=i.locale)==null?void 0:E.options)==null?void 0:d.firstWeekContainsDate)??1,u=constructFrom((e==null?void 0:e.in)||t,0);u.setFullYear(n+1,0,a),u.setHours(0,0,0,0);const $=startOfWeek(u,e),h=constructFrom((e==null?void 0:e.in)||t,0);h.setFullYear(n,0,a),h.setHours(0,0,0,0);const f=startOfWeek(h,e);return+s>=+$?n+1:+s>=+f?n:n-1}function startOfWeekYear(t,e){var $,h,f,c;const s=getDefaultOptions(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=($=e==null?void 0:e.locale)==null?void 0:$.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((c=(f=s.locale)==null?void 0:f.options)==null?void 0:c.firstWeekContainsDate)??1,i=getWeekYear(t,e),a=constructFrom((e==null?void 0:e.in)||t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),startOfWeek(a,e)}function getWeek(t,e){const s=toDate(t,e==null?void 0:e.in),n=+startOfWeek(s,e)-+startOfWeekYear(s,e);return Math.round(n/millisecondsInWeek)+1}function addLeadingZeros(t,e){const s=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return s+n}const lightFormatters={y(t,e){const s=t.getFullYear(),n=s>0?s:1-s;return addLeadingZeros(e==="yy"?n%100:n,e.length)},M(t,e){const s=t.getMonth();return e==="M"?String(s+1):addLeadingZeros(s+1,2)},d(t,e){return addLeadingZeros(t.getDate(),e.length)},a(t,e){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,e){return addLeadingZeros(t.getHours()%12||12,e.length)},H(t,e){return addLeadingZeros(t.getHours(),e.length)},m(t,e){return addLeadingZeros(t.getMinutes(),e.length)},s(t,e){return addLeadingZeros(t.getSeconds(),e.length)},S(t,e){const s=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,s-3));return addLeadingZeros(i,e.length)}},dayPeriodEnum={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(t,e,s){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,e,s){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return s.ordinalNumber(i,{unit:"year"})}return lightFormatters.y(t,e)},Y:function(t,e,s,n){const i=getWeekYear(t,n),a=i>0?i:1-i;if(e==="YY"){const u=a%100;return addLeadingZeros(u,2)}return e==="Yo"?s.ordinalNumber(a,{unit:"year"}):addLeadingZeros(a,e.length)},R:function(t,e){const s=getISOWeekYear(t);return addLeadingZeros(s,e.length)},u:function(t,e){const s=t.getFullYear();return addLeadingZeros(s,e.length)},Q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return addLeadingZeros(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return addLeadingZeros(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,s){const n=t.getMonth();switch(e){case"M":case"MM":return lightFormatters.M(t,e);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,s){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return addLeadingZeros(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,s,n){const i=getWeek(t,n);return e==="wo"?s.ordinalNumber(i,{unit:"week"}):addLeadingZeros(i,e.length)},I:function(t,e,s){const n=getISOWeek(t);return e==="Io"?s.ordinalNumber(n,{unit:"week"}):addLeadingZeros(n,e.length)},d:function(t,e,s){return e==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):lightFormatters.d(t,e)},D:function(t,e,s){const n=getDayOfYear(t);return e==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):addLeadingZeros(n,e.length)},E:function(t,e,s){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,s,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return addLeadingZeros(a,2);case"eo":return s.ordinalNumber(a,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,s,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return addLeadingZeros(a,e.length);case"co":return s.ordinalNumber(a,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,s){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return addLeadingZeros(i,e.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,s){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,s){const n=t.getHours();let i;switch(n===12?i=dayPeriodEnum.noon:n===0?i=dayPeriodEnum.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,s){const n=t.getHours();let i;switch(n>=17?i=dayPeriodEnum.evening:n>=12?i=dayPeriodEnum.afternoon:n>=4?i=dayPeriodEnum.morning:i=dayPeriodEnum.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,s){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return lightFormatters.h(t,e)},H:function(t,e,s){return e==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):lightFormatters.H(t,e)},K:function(t,e,s){const n=t.getHours()%12;return e==="Ko"?s.ordinalNumber(n,{unit:"hour"}):addLeadingZeros(n,e.length)},k:function(t,e,s){let n=t.getHours();return n===0&&(n=24),e==="ko"?s.ordinalNumber(n,{unit:"hour"}):addLeadingZeros(n,e.length)},m:function(t,e,s){return e==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):lightFormatters.m(t,e)},s:function(t,e,s){return e==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):lightFormatters.s(t,e)},S:function(t,e){return lightFormatters.S(t,e)},X:function(t,e,s){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return formatTimezoneWithOptionalMinutes(n);case"XXXX":case"XX":return formatTimezone(n);case"XXXXX":case"XXX":default:return formatTimezone(n,":")}},x:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"x":return formatTimezoneWithOptionalMinutes(n);case"xxxx":case"xx":return formatTimezone(n);case"xxxxx":case"xxx":default:return formatTimezone(n,":")}},O:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(n,":");case"OOOO":default:return"GMT"+formatTimezone(n,":")}},z:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(n,":");case"zzzz":default:return"GMT"+formatTimezone(n,":")}},t:function(t,e,s){const n=Math.trunc(+t/1e3);return addLeadingZeros(n,e.length)},T:function(t,e,s){return addLeadingZeros(+t,e.length)}};function formatTimezoneShort(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?s+String(i):s+String(i)+e+addLeadingZeros(a,2)}function formatTimezoneWithOptionalMinutes(t,e){return t%60===0?(t>0?"-":"+")+addLeadingZeros(Math.abs(t)/60,2):formatTimezone(t,e)}function formatTimezone(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),i=addLeadingZeros(Math.trunc(n/60),2),a=addLeadingZeros(n%60,2);return s+i+e+a}const dateLongFormatter=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},timeLongFormatter=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dateTimeLongFormatter=(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],n=s[1],i=s[2];if(!i)return dateLongFormatter(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",dateLongFormatter(n,e)).replace("{{time}}",timeLongFormatter(i,e))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(t){return dayOfYearTokenRE.test(t)}function isProtectedWeekYearToken(t){return weekYearTokenRE.test(t)}function warnOrThrowProtectedError(t,e,s){const n=message(t,e,s);if(console.warn(n),throwTokens.includes(t))throw new RangeError(n)}function message(t,e,s){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(t,e,s){var c,S,E,d,T,B,_,j;const n=getDefaultOptions(),i=(s==null?void 0:s.locale)??n.locale??enUS,a=(s==null?void 0:s.firstWeekContainsDate)??((S=(c=s==null?void 0:s.locale)==null?void 0:c.options)==null?void 0:S.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(E=n.locale)==null?void 0:E.options)==null?void 0:d.firstWeekContainsDate)??1,u=(s==null?void 0:s.weekStartsOn)??((B=(T=s==null?void 0:s.locale)==null?void 0:T.options)==null?void 0:B.weekStartsOn)??n.weekStartsOn??((j=(_=n.locale)==null?void 0:_.options)==null?void 0:j.weekStartsOn)??0,$=toDate(t,s==null?void 0:s.in);if(!isValid($))throw new RangeError("Invalid time value");let h=e.match(longFormattingTokensRegExp).map(N=>{const G=N[0];if(G==="p"||G==="P"){const z=longFormatters[G];return z(N,i.formatLong)}return N}).join("").match(formattingTokensRegExp).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const G=N[0];if(G==="'")return{isToken:!1,value:cleanEscapedString(N)};if(formatters[G])return{isToken:!0,value:N};if(G.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return{isToken:!1,value:N}});i.localize.preprocessor&&(h=i.localize.preprocessor($,h));const f={firstWeekContainsDate:a,weekStartsOn:u,locale:i};return h.map(N=>{if(!N.isToken)return N.value;const G=N.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(G)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(G))&&warnOrThrowProtectedError(G,e,String(t));const z=formatters[G[0]];return z($,G,i.localize,f)}).join("")}function cleanEscapedString(t){const e=t.match(escapedStringRegExp);return e?e[1].replace(doubleQuoteRegExp,"'"):t}const formatDistanceLocale={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"eine halbe Minute",withPreposition:"einer halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},formatDistance=(t,e,s)=>{let n;const i=s!=null&&s.addSuffix?formatDistanceLocale[t].withPreposition:formatDistanceLocale[t].standalone;return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:"vor "+n:n},dateFormats={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},timeFormats={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dateTimeFormats={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},formatRelative=(t,e,s,n)=>formatRelativeLocale[t],eraValues={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},formattingMonthValues={narrow:monthValues.narrow,abbreviated:["Jan.","Feb.","Mrz","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:monthValues.wide},dayValues={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},dayPeriodValues={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},formattingDayPeriodValues={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},ordinalNumber=t=>Number(t)+".",localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:t=>t-1}),month:buildLocalizeFn({values:monthValues,formattingValues:formattingMonthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})},matchOrdinalNumberPattern=/^(\d+)(\.)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},parseEraPatterns={any:[/^v/i,/^n/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(j[a]n|feb|mr[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|mrz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[a]/i,/^f/i,/^mr/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},parseDayPatterns={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},parseDayPeriodPatterns={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:t=>parseInt(t)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:t=>t+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},de={code:"de",formatDistance,formatLong,formatRelative,localize,match,options:{weekStartsOn:1,firstWeekContainsDate:4}},experiences=[{title:"juniorSoftwareDeveloper",company:"ipoque GmbH",companyUrl:"https://www.ipoque.com/",startDate:"2024-02-01",endDate:"present",location:"Leipzig, Deutschland",description:["experience.experiences.juniorSoftwareDeveloperIpoque.description.first","experience.experiences.juniorSoftwareDeveloperIpoque.description.second","experience.experiences.juniorSoftwareDeveloperIpoque.description.third"],skills:["TypeScript","Micro Frontends","Web Components","Lit","React","Angular"]},{title:"workingStudent",company:"ipoque GmbH",companyUrl:"https://www.ipoque.com/",startDate:"2021-01-01",endDate:"2023-12-31",location:"Leipzig, Deutschland",description:["experience.experiences.workingStudentIpoque.description.first","experience.experiences.workingStudentIpoque.description.second","experience.experiences.workingStudentIpoque.description.third","experience.experiences.workingStudentIpoque.description.fourth","experience.experiences.workingStudentIpoque.description.fifth","experience.experiences.workingStudentIpoque.description.sixth"],skills:["TypeScript","Micro Frontends","Web Components","Lit","React","Angular"]},{title:"master",company:"ipoque GmbH",companyUrl:"https://www.ipoque.com/",startDate:"2023-05-15",endDate:"2023-11-15",location:"Leipzig, Deutschland",description:["experience.experiences.masterIpoque.description.first","experience.experiences.masterIpoque.description.second","experience.experiences.masterIpoque.description.third"],skills:["TypeScript","Micro Frontends","Web Components","Lit","React","Angular","DOM-Spezifikation"]},{title:"bachelor",company:"ipoque GmbH",companyUrl:"https://www.ipoque.com/",startDate:"2021-07-01",endDate:"2021-09-31",location:"Leipzig, Deutschland",description:["experience.experiences.bachelorIpoque.description.first","experience.experiences.bachelorIpoque.description.second","experience.experiences.bachelorIpoque.description.third"],skills:["TypeScript","Angular","Compilerbau","DSL"]},{title:"intern",company:"ipoque GmbH",companyUrl:"https://www.ipoque.com/",startDate:"2021-01-01",endDate:"2021-02-28",location:"Leipzig, Deutschland",description:["experience.experiences.internIpoque.description.first","experience.experiences.internIpoque.description.second","experience.experiences.internIpoque.description.third"],skills:["TypeScript","Angular","RxJS"]},{title:"workingStudent",company:"GDMcom GmbH",companyUrl:"https://gdmcom.de/",startDate:"2019-06-01",endDate:"2020-12-01",location:"Leipzig, Deutschland",description:["experience.experiences.workingStudentGDM.description.first","experience.experiences.workingStudentGDM.description.second","experience.experiences.workingStudentGDM.description.third"],skills:["Shell-Scription","VBA","Microsoft Office"]}],isSingleDescription=t=>typeof t=="string",Experience=()=>{const{t,i18n:e}=useTranslation(),s=useColorModeValue("gray.800","gray.200"),n=useColorModeValue("gray.500","gray.400"),i=()=>{const a=document.createElement("a");a.href=cv,a.download="Lebenslauf_Frederic_Bahr.pdf",a.click()};return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:8,children:[jsxRuntimeExports.jsx(Heading,{id:"experience",children:t("experience.title")}),jsxRuntimeExports.jsxs(VStack,{width:"full",spacing:12,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h3",width:"full",textAlign:"center",fontSize:"xl",children:t("experience.subtitle")}),jsxRuntimeExports.jsx(Accordion,{allowMultiple:!0,width:"full",display:"flex",flexDirection:"column",gap:6,children:experiences.map((a,u)=>jsxRuntimeExports.jsx(AccordionItem,{border:"1px solid",borderColor:s,children:({isExpanded:$})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Heading$1,{as:"h4",fontSize:{base:"md",lg:"lg"},children:jsxRuntimeExports.jsxs(AccordionButton,{paddingX:4,paddingY:3,children:[jsxRuntimeExports.jsxs(HStack,{width:"full",justifyContent:"space-between",marginRight:4,children:[jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Text,{as:"span",fontSize:{base:"sm",lg:"lg"},children:t(`experience.jobTitles.${a.title}`)}),jsxRuntimeExports.jsx(Text,{as:"span",color:"brand.500",children:"@"}),jsxRuntimeExports.jsx(Link,{href:a.companyUrl,isExternal:!0,fontSize:{base:"sm",lg:"lg"},children:a.company})]}),jsxRuntimeExports.jsxs(Text,{as:"span",fontSize:{base:"2xs",lg:"md"},children:[format(new Date(a.startDate),"MMM yyyy",{locale:e.language==="de"?de:void 0})," ","-"," ",a.endDate==="present"?t("experience.present"):format(new Date(a.endDate),"MMM yyyy",{locale:e.language==="de"?de:void 0})]})]}),jsxRuntimeExports.jsx(AccordionIcon,{as:D})]})}),$&&jsxRuntimeExports.jsx(Divider,{width:"98%",margin:"auto",borderColor:n}),jsxRuntimeExports.jsx(AccordionPanel,{paddingBottom:4,paddingX:4,fontSize:"md",marginTop:2,children:jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:6,children:[jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},spacing:6,children:[jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Icon,{as:L$1}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"sm",lg:"lg"},children:a.location})]}),jsxRuntimeExports.jsxs(HStack,{spacing:1,children:[jsxRuntimeExports.jsx(Icon,{as:I$3}),jsxRuntimeExports.jsx(Link,{href:a.companyUrl,isExternal:!0,fontSize:{base:"sm",lg:"lg"},children:a.companyUrl})]})]}),jsxRuntimeExports.jsx(List,{marginLeft:2,spacing:2,children:isSingleDescription(a.description)?jsxRuntimeExports.jsxs(ListItem,{children:[jsxRuntimeExports.jsx(ListIcon,{as:R$2,color:"green.500"}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"sm",lg:"lg"},children:t(a.description)})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:a.description.map(h=>jsxRuntimeExports.jsxs(ListItem,{display:"flex",children:[jsxRuntimeExports.jsx(ListIcon,{as:R$2,color:"green.500"}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"sm",lg:"lg"},children:t(h)})]},`experience-${a.title}-${u}-${h}`))})}),jsxRuntimeExports.jsx(Stack,{direction:{base:"column",lg:"row"},spacing:2,width:"full",children:a.skills.map(h=>jsxRuntimeExports.jsx(Tag,{colorScheme:"gray",justifyContent:"center",children:h},`experience-${a.title}-${u}-${h}`))})]})})]})},`experience-${a.title}-${u}`))}),jsxRuntimeExports.jsx(Flex,{width:"full",justifyContent:"center",children:jsxRuntimeExports.jsx(Button,{size:{base:"md",lg:"lg"},label:t("experience.cv"),onClick:i})})]})]})},Spotlight=({fill:t})=>jsxRuntimeExports.jsxs(Box,{as:"svg",className:"spotlight",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3787 2842",fill:"none",pointerEvents:"none",position:"absolute",top:-120,left:-250,maxHeight:"100vh",children:[jsxRuntimeExports.jsx("g",{filter:"url(#filter)",children:jsxRuntimeExports.jsx("ellipse",{cx:"2574.71",cy:"273.501",rx:"1424.71",ry:"353.501",transform:"matrix(-0.822377 -0.768943 -0.568943 0.822377 3831.88 2291.09)",fill:t||"white",fillOpacity:"0.27"})}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("filter",{id:"filter",x:"0.860352",y:"0.838989",width:"3785.16",height:"2840.26",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"151",result:"effect1_foregroundBlur_1065_8"})]})})]}),keywords=["Software Developer","Web Enthusiast","Frederic Bahr"],useHeroKeywords=()=>{const[t,e]=I("Frederic Bahr"),[s]=useMediaQuery("(max-width: 62em)");return reactExports.useEffect(()=>{let n=0;const i=setInterval(()=>{e(keywords[n]),n=n===keywords.length-1?0:n+1},4e3);return()=>clearInterval(i)},[]),s?"Frederic Bahr":t},Hero=()=>{const{t}=useTranslation(),e=useNavigate(),{colorMode:s}=useColorMode(),n=useHeroKeywords(),i=()=>{e("/contact")};return jsxRuntimeExports.jsxs(HStack,{width:"full",children:[jsxRuntimeExports.jsxs(VStack,{alignItems:"start",marginTop:{base:8,lg:32},spacing:8,children:[jsxRuntimeExports.jsxs(VStack,{alignItems:"start",spacing:2,children:[jsxRuntimeExports.jsx(Text,{fontSize:{base:"sm",lg:"xl"},children:t("hero.intro")}),jsxRuntimeExports.jsx(Heading$1,{as:"h1",fontSize:{base:"4xl",lg:"7xl"},color:"brand.500",wordBreak:"break-word",children:n})]}),jsxRuntimeExports.jsx(Text,{fontSize:{base:"md",lg:"xl"},maxWidth:{base:"full",lg:"50%"},children:t("hero.subtitle")}),jsxRuntimeExports.jsx(Button,{size:{base:"md",lg:"lg"},alignSelf:{base:"center",lg:"start"},label:t("hero.contact"),onClick:i})]}),s==="dark"&&jsxRuntimeExports.jsx(Spotlight,{})]})},flowShopHeroImage="/portfolio/assets/flow-shop-hero-CY9liu4E.jpg",screenshot1$2="/portfolio/assets/screenshot-1-sPvSOtkf.png",ProjectDetailHeader=({focus:t,period:e,subtitle:s,title:n})=>{const{t:i}=useTranslation();return jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},width:"full",justifyContent:"space-between",alignItems:"start",children:[jsxRuntimeExports.jsxs(VStack,{width:"full",maxWidth:{base:"full",lg:"65%"},alignItems:"start",spacing:{base:6,lg:4},children:[jsxRuntimeExports.jsx(Heading$1,{as:"h1",color:"brand.500",fontSize:{base:"3xl",lg:"5xl"},children:n}),jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:{base:"md",lg:"lg"},fontWeight:400,children:s}),jsxRuntimeExports.jsx(Divider,{borderTopWidth:{base:"2px",lg:"3px"},width:{base:"full",lg:"10%"},borderColor:"brand.500"})]}),jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},spacing:{base:4,lg:16},whiteSpace:"nowrap",marginTop:{base:4,lg:0},children:[jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:i("projects.details.period")}),jsxRuntimeExports.jsx(StatHelpText,{margin:0,style:{textWrap:"wrap"},children:e})]}),jsxRuntimeExports.jsxs(Stat,{children:[jsxRuntimeExports.jsx(StatLabel,{children:i("projects.details.focus")}),jsxRuntimeExports.jsx(StatHelpText,{margin:0,style:{textWrap:"wrap"},children:t})]})]})]})},EAFlowShop=()=>{const{t,i18n:e}=useTranslation();return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:{base:4,lg:8},marginTop:{base:4,lg:16},children:[jsxRuntimeExports.jsx(ProjectDetailHeader,{focus:t("projects.details.eaFlowShop.focus"),period:format(new Date("2022-06-01"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0})+" - "+format(new Date("2022-07-31"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0}),title:t("projects.projectTitles.eaFlowShop"),subtitle:t("projects.details.eaFlowShop.subtitle")}),jsxRuntimeExports.jsx(Image$1,{src:flowShopHeroImage,width:"full",maxHeight:"50vh",objectFit:"cover",marginTop:{base:4,lg:0}}),jsxRuntimeExports.jsx(HStack,{marginTop:8,spacing:8,width:"full",alignItems:"center",children:jsxRuntimeExports.jsxs(Link,{href:"https://github.com/fredericbahr/ea-flow-shop",display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Icon,{as:l,boxSize:{base:5,lg:6}}),jsxRuntimeExports.jsx(Text,{as:"span",children:"Github"})]})}),jsxRuntimeExports.jsxs(VStack,{marginTop:4,spacing:16,width:"full",alignItems:"start",children:[jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.goal")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.eaFlowShop.goal")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.implementation")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.eaFlowShop.implementation")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.technologies")}),jsxRuntimeExports.jsx(Stack,{direction:{base:"column",lg:"row"},width:"full",children:jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"TypeScript"})})]}),jsxRuntimeExports.jsx(VStack,{width:"full",alignItems:"start",spacing:4,children:jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.screenshots")})}),jsxRuntimeExports.jsx(Image$1,{src:screenshot1$2,width:"full",maxHeight:"50vh",objectFit:"contain"})]})]})},appointmentsDark="/portfolio/assets/appointments-dark-bordeaux-C3PeAb01.jpg",appointmentsLight="/portfolio/assets/appointments-light-bordeaux-8GdUm38b.jpg",heroDark="/portfolio/assets/hero-dark-bordeaux-DcvnTf-G.jpg",heroLight="/portfolio/assets/hero-light-bordeaux-v2m2GUFd.jpg",heroImage="/portfolio/assets/heroImage-DBfcuPuh.png",photosDark="/portfolio/assets/photos-dark-bordeaux-Bdch-8Zw.jpg",photosLight="/portfolio/assets/photos-light-bordeaux-D72iiGaR.jpg",surveysDark="/portfolio/assets/surveys-dark-bordeaux-DMrF2xmB.jpg",surveysLight="/portfolio/assets/surveys-light-bordeaux-aNhYc9F7.jpg",LEFT="Left",RIGHT="Right",UP="Up",DOWN="Down",defaultProps={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},initialState={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},mouseMove="mousemove",mouseUp="mouseup",touchEnd="touchend",touchMove="touchmove",touchStart="touchstart";function getDirection(t,e,s,n){return t>e?s>0?RIGHT:LEFT:n>0?DOWN:UP}function rotateXYByAngle(t,e){if(e===0)return t;const s=Math.PI/180*e,n=t[0]*Math.cos(s)+t[1]*Math.sin(s),i=t[1]*Math.cos(s)-t[0]*Math.sin(s);return[n,i]}function getHandlers(t,e){const s=c=>{const S="touches"in c;S&&c.touches.length>1||t((E,d)=>{d.trackMouse&&!S&&(document.addEventListener(mouseMove,n),document.addEventListener(mouseUp,u));const{clientX:T,clientY:B}=S?c.touches[0]:c,_=rotateXYByAngle([T,B],d.rotationAngle);return d.onTouchStartOrOnMouseDown&&d.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},E),initialState),{initial:_.slice(),xy:_,start:c.timeStamp||0})})},n=c=>{t((S,E)=>{const d="touches"in c;if(d&&c.touches.length>1)return S;if(c.timeStamp-S.start>E.swipeDuration)return S.swiping?Object.assign(Object.assign({},S),{swiping:!1}):S;const{clientX:T,clientY:B}=d?c.touches[0]:c,[_,j]=rotateXYByAngle([T,B],E.rotationAngle),N=_-S.xy[0],G=j-S.xy[1],z=Math.abs(N),x=Math.abs(G),O=(c.timeStamp||0)-S.start,A=Math.sqrt(z*z+x*x)/(O||1),k=[N/(O||1),G/(O||1)],F=getDirection(z,x,N,G),J=typeof E.delta=="number"?E.delta:E.delta[F.toLowerCase()]||defaultProps.delta;if(z<J&&x<J&&!S.swiping)return S;const g={absX:z,absY:x,deltaX:N,deltaY:G,dir:F,event:c,first:S.first,initial:S.initial,velocity:A,vxvy:k};g.first&&E.onSwipeStart&&E.onSwipeStart(g),E.onSwiping&&E.onSwiping(g);let U=!1;return(E.onSwiping||E.onSwiped||E[`onSwiped${F}`])&&(U=!0),U&&E.preventScrollOnSwipe&&E.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},S),{first:!1,eventData:g,swiping:!0})})},i=c=>{t((S,E)=>{let d;if(S.swiping&&S.eventData){if(c.timeStamp-S.start<E.swipeDuration){d=Object.assign(Object.assign({},S.eventData),{event:c}),E.onSwiped&&E.onSwiped(d);const T=E[`onSwiped${d.dir}`];T&&T(d)}}else E.onTap&&E.onTap({event:c});return E.onTouchEndOrOnMouseUp&&E.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},S),initialState),{eventData:d})})},a=()=>{document.removeEventListener(mouseMove,n),document.removeEventListener(mouseUp,u)},u=c=>{a(),i(c)},$=(c,S)=>{let E=()=>{};if(c&&c.addEventListener){const d=Object.assign(Object.assign({},defaultProps.touchEventOptions),S.touchEventOptions),T=[[touchStart,s,d],[touchMove,n,Object.assign(Object.assign({},d),S.preventScrollOnSwipe?{passive:!1}:{})],[touchEnd,i,d]];T.forEach(([B,_,j])=>c.addEventListener(B,_,j)),E=()=>T.forEach(([B,_])=>c.removeEventListener(B,_))}return E},f={ref:c=>{c!==null&&t((S,E)=>{if(S.el===c)return S;const d={};return S.el&&S.el!==c&&S.cleanUpTouch&&(S.cleanUpTouch(),d.cleanUpTouch=void 0),E.trackTouch&&c&&(d.cleanUpTouch=$(c,E)),Object.assign(Object.assign(Object.assign({},S),{el:c}),d)})}};return e.trackMouse&&(f.onMouseDown=s),[f,$]}function updateTransientState(t,e,s,n){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==s.preventScrollOnSwipe||e.touchEventOptions.passive!==s.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})}function useSwipeable(t){const{trackMouse:e}=t,s=reactExports.useRef(Object.assign({},initialState)),n=reactExports.useRef(Object.assign({},defaultProps)),i=reactExports.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},defaultProps),t);let a;for(a in defaultProps)n.current[a]===void 0&&(n.current[a]=defaultProps[a]);const[u,$]=reactExports.useMemo(()=>getHandlers(h=>s.current=h(s.current,n.current),{trackMouse:e}),[e]);return s.current=updateTransientState(s.current,n.current,i.current,$),u}const ImageSlider=({images:t,index:e=0,imageProps:s,onIndexChange:n})=>{const i=reactExports.useRef(null),a=()=>{i.current&&i.current.requestFullscreen()},u=useSwipeable({onSwipedRight:()=>n($(e+1,t.length)),onSwipedLeft:()=>n($(e-1,t.length)),onTouchEndOrOnMouseUp:a,trackMouse:!0}),$=(h,f)=>(h%f+f)%f;return jsxRuntimeExports.jsxs(VStack,{width:"full",children:[jsxRuntimeExports.jsxs(Grid,{gridTemplateColumns:"auto 1fr auto",placeItems:"center",width:"full",gap:12,children:[jsxRuntimeExports.jsx(IconButton,{"aria-label":"Previous",icon:jsxRuntimeExports.jsx(Icon,{as:I$4}),onClick:()=>n($(e-1,t.length)),size:{base:"xs",lg:"md"}}),jsxRuntimeExports.jsx(Image$1,{src:t[e],objectFit:"contain",maxWidth:{base:"full",lg:"min(400px, 70%)"},draggable:!0,onClick:a,...u,ref:i,_hover:{cursor:"pointer"},...s}),jsxRuntimeExports.jsx(IconButton,{"aria-label":"Next",icon:jsxRuntimeExports.jsx(Icon,{as:l$2}),onClick:()=>n($(e+1,t.length)),size:{base:"xs",lg:"md"}})]}),jsxRuntimeExports.jsx(VStack,{gap:4,children:jsxRuntimeExports.jsx(HStack,{gap:4,children:Array.from({length:t.length}).map((h,f)=>jsxRuntimeExports.jsx(Box,{minWidth:4,minHeight:1,backgroundColor:e===f?"brand.500":"brand.900",_hover:{cursor:"pointer",transform:"scale(1.2)"},transition:"all 0.2s ease-in-out",onClick:()=>n(f)},f))})})]})},Kirmize=()=>{const{t,i18n:e}=useTranslation(),[s,n]=reactExports.useState(0),i=a=>{n(a)};return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:{base:4,lg:8},marginTop:{base:4,lg:16},children:[jsxRuntimeExports.jsx(ProjectDetailHeader,{focus:t("projects.details.kirmize.focus"),period:format(new Date("2022-04-01"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0})+" - "+t("projects.details.present"),title:t("projects.projectTitles.kirmize"),subtitle:t("projects.details.kirmize.subtitle")}),jsxRuntimeExports.jsx(Image$1,{src:heroImage,width:"full",maxHeight:"35vh",objectFit:"contain",marginTop:{base:4,lg:0}}),jsxRuntimeExports.jsx(HStack,{marginTop:8,spacing:8,width:"full",alignItems:"center",children:jsxRuntimeExports.jsxs(Link,{href:"https://kirmize.netlify.app",display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Icon,{as:I$3,boxSize:{base:5,lg:6}}),jsxRuntimeExports.jsx(Text,{as:"span",children:"Website"})]})}),jsxRuntimeExports.jsxs(VStack,{marginTop:4,spacing:16,width:"full",alignItems:"start",children:[jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.goal")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.kirmize.goal")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.implementation")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.kirmize.implementation")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.technologies")}),jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},width:"full",children:[jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"TypeScript"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"React"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Chakra UI"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Express"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Prisma"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Mongo DB"})]})]})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.screenshots")}),jsxRuntimeExports.jsx(Box,{alignSelf:"center",width:"full",children:jsxRuntimeExports.jsx(ImageSlider,{images:[heroDark,heroLight,appointmentsDark,appointmentsLight,photosDark,photosLight,surveysDark,surveysLight],index:s,imageProps:{maxWidth:{base:"80%",lg:"250px"}},onIndexChange:i})})]})]})},mmdbVeteranHeroImage="/portfolio/assets/mmdb-veteran-hero-socJzde0.jpg",screenshot1$1="/portfolio/assets/screenshot-1-WwQfIWaT.png",screenshot2$1="/portfolio/assets/screenshot-2-C8c0nTcp.png",screenshot3$1="/portfolio/assets/screenshot-3-zPyw2luP.png",screenshot4="/portfolio/assets/screenshot-4-BqhILdl0.png",screenshot5="/portfolio/assets/screenshot-5-BK9kGBkn.png",screenshot6="/portfolio/assets/screenshot-6-B08BqXBd.png",MMDB=()=>{const{t,i18n:e}=useTranslation(),[s,n]=reactExports.useState(0),i=a=>{n(a)};return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:{base:4,lg:8},marginTop:{base:4,lg:16},children:[jsxRuntimeExports.jsx(ProjectDetailHeader,{focus:t("projects.details.multimediaDB.focus"),period:format(new Date("2022-05-31"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0})+" - "+format(new Date("2022-07-27"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0}),title:t("projects.projectTitles.multimediaDB"),subtitle:t("projects.details.multimediaDB.subtitle")}),jsxRuntimeExports.jsx(Image$1,{src:mmdbVeteranHeroImage,width:"full",maxHeight:"50vh",objectFit:"cover",marginTop:{base:4,lg:0}}),jsxRuntimeExports.jsx(HStack,{marginTop:8,spacing:8,width:"full",alignItems:"center",children:jsxRuntimeExports.jsxs(Link,{href:"https://github.com/fredericbahr/mmdba_tierarztpraxis",display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Icon,{as:l,boxSize:{base:5,lg:6}}),jsxRuntimeExports.jsx(Text,{as:"span",children:"Github"})]})}),jsxRuntimeExports.jsxs(VStack,{marginTop:4,spacing:16,width:"full",alignItems:"start",children:[jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.goal")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.multimediaDB.goal")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.implementation")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.multimediaDB.implementation")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.technologies")}),jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},width:"full",children:[jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"TypeScript"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"React"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Chakra UI"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Express"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Prisma"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Postgres"})]})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.screenshots")}),jsxRuntimeExports.jsx(Box,{alignSelf:"center",width:"full",children:jsxRuntimeExports.jsx(ImageSlider,{images:[screenshot1$1,screenshot2$1,screenshot3$1,screenshot4,screenshot5,screenshot6],index:s,imageProps:{maxWidth:{base:"full",lg:"600px"}},onIndexChange:i})})]})]})]})},portfolioHeroImage="/portfolio/assets/portfolio-hero-Ur1G_Pbq.jpg",Portfolio=()=>{const{t,i18n:e}=useTranslation();return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:{base:4,lg:8},marginTop:{base:4,lg:16},children:[jsxRuntimeExports.jsx(ProjectDetailHeader,{focus:t("projects.details.portfolio.focus"),period:format(new Date("2024-03-01"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0})+" - "+t("projects.details.present"),title:t("projects.projectTitles.portfolio"),subtitle:t("projects.details.portfolio.subtitle")}),jsxRuntimeExports.jsx(Image$1,{src:portfolioHeroImage,width:"full",maxHeight:"50vh",objectFit:"cover",marginTop:{base:4,lg:0}}),jsxRuntimeExports.jsxs(HStack,{marginTop:8,spacing:8,width:"full",alignItems:"center",children:[jsxRuntimeExports.jsxs(Link,{href:"https://fredericbahr.github.io/portfolio/",display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Icon,{as:I$3,boxSize:{base:5,lg:6}}),jsxRuntimeExports.jsx(Text,{as:"span",children:"Website"})]}),jsxRuntimeExports.jsxs(Link,{href:"https://github.com/fredericbahr/portfolio",display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Icon,{as:l,boxSize:{base:5,lg:6}}),jsxRuntimeExports.jsx(Text,{as:"span",children:"Github"})]})]}),jsxRuntimeExports.jsxs(VStack,{marginTop:4,spacing:16,width:"full",alignItems:"start",children:[jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.goal")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.portfolio.goal")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.implementation")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.portfolio.implementation")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.technologies")}),jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},width:"full",children:[jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"TypeScript"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"React"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Chakra UI"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Framer Motion"})]})]})]})]})},QuatschChatbot=()=>{const{t,i18n:e}=useTranslation();return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:{base:4,lg:8},marginTop:{base:4,lg:16},children:[jsxRuntimeExports.jsx(ProjectDetailHeader,{focus:t("projects.details.chatbot.focus"),period:format(new Date("2023-01-10"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0})+" - "+format(new Date("2023-03-21"),"MMM. yy",{locale:e.language==="de-DE"?de:void 0}),title:t("projects.projectTitles.chatbot"),subtitle:t("projects.details.chatbot.subtitle")}),jsxRuntimeExports.jsx(Image$1,{src:"https://s3-ap-south-1.amazonaws.com/static.awfis.com/wp-content/uploads/2017/07/07184649/ProjectManagement.jpg",width:"full",maxHeight:"35vh",objectFit:"contain",marginTop:{base:4,lg:0}}),jsxRuntimeExports.jsx(HStack,{marginTop:8,spacing:8,width:"full",alignItems:"center",children:jsxRuntimeExports.jsxs(Link,{href:"https://github.com/fredericbahr/quatsch-project-22",display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Icon,{as:l,boxSize:{base:5,lg:6}}),jsxRuntimeExports.jsx(Text,{as:"span",children:"Github"})]})}),jsxRuntimeExports.jsxs(VStack,{marginTop:4,spacing:16,width:"full",alignItems:"start",children:[jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.goal")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.chatbot.goal")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.implementation")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.chatbot.implementation")}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",children:[jsxRuntimeExports.jsxs(Text,{children:["* ",t("projects.details.chatbot.rasa-detail")," ",jsxRuntimeExports.jsx(Link,{href:"https://rasa.com/",isExternal:!0,color:"brand.500",children:"Rasa"})]}),jsxRuntimeExports.jsxs(Text,{children:["** ",t("projects.details.chatbot.qanary-detail")," ",jsxRuntimeExports.jsx(Link,{href:"https://github.com/WDAqua/Qanary",isExternal:!0,color:"brand.500",children:"Qanary"})]})]})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.technologies")}),jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},width:"full",children:[jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"TypeScript"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Qanary"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Rasa"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"RDF"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"Docker"})]})]}),jsxRuntimeExports.jsx(VStack,{width:"full",alignItems:"start",spacing:4,children:jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.screenshots")})})]})]})},screenshot1="/portfolio/assets/screenshot-1-CLYFZTYh.png",screenshot2="/portfolio/assets/screenshot-2-D3zWgeMl.png",screenshot3="/portfolio/assets/screenshot-3-C2J4p0uX.png",weatherDataHeroImage="/portfolio/assets/weather-data-hero-nOFHWKIP.jpg",WeatherData=()=>{const{t}=useTranslation(),[e,s]=reactExports.useState(0),n=i=>{s(i)};return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:{base:2,lg:8},marginTop:{base:4,lg:16},children:[jsxRuntimeExports.jsx(ProjectDetailHeader,{focus:t("projects.details.weatherData.focus"),period:"-",title:t("projects.projectTitles.weatherData"),subtitle:t("projects.details.weatherData.subtitle")}),jsxRuntimeExports.jsx(Image$1,{src:weatherDataHeroImage,width:"full",maxHeight:"50vh",objectFit:"cover",marginTop:{base:4,lg:0}}),jsxRuntimeExports.jsx(HStack,{marginTop:8,spacing:8,width:"full",alignItems:"center",children:jsxRuntimeExports.jsxs(Link,{href:"https://github.com/fredericbahr/dbs_weatherdata",display:"flex",gap:2,children:[jsxRuntimeExports.jsx(Icon,{as:l,boxSize:{base:5,lg:6}}),jsxRuntimeExports.jsx(Text,{as:"span",children:"Github"})]})}),jsxRuntimeExports.jsxs(VStack,{marginTop:4,spacing:16,width:"full",alignItems:"start",children:[jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.goal")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.weatherData.goal")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.implementation")}),jsxRuntimeExports.jsx(Text,{children:t("projects.details.weatherData.implementation")})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.technologies")}),jsxRuntimeExports.jsxs(Stack,{direction:{base:"column",lg:"row"},width:"full",children:[jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"XML"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"XML Schema Definiton"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"XSL Transformation"}),jsxRuntimeExports.jsx(Tag,{justifyContent:"center",children:"D3.js"})]})]}),jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,children:[jsxRuntimeExports.jsx(Heading$1,{as:"h2",fontSize:"3xl",children:t("projects.details.screenshots")}),jsxRuntimeExports.jsx(Box,{alignSelf:"center",width:"full",children:jsxRuntimeExports.jsx(ImageSlider,{images:[screenshot1,screenshot2,screenshot3],index:e,onIndexChange:n})})]})]})]})},projects=[{title:"kirmize",url:"/kirmize",backgroundType:"lines",links:{website:"https://kirmize.netlify.app"}},{title:"portfolio",url:"/personal-portfolio",backgroundType:"none",links:{github:"https://github.com/fredericbahr/portfolio"}},{title:"chatbot",url:"/quatsch-chatbot-2022",backgroundType:"lines",links:{github:"https://github.com/fredericbahr/quatsch-project-22"}},{title:"multimediaDB",url:"/multimedia-database-veterinary-practice",backgroundType:"contour",links:{github:"https://github.com/fredericbahr/mmdba_tierarztpraxis"}},null,{title:"eaFlowShop",url:"/ea-flow-shop-optimizer",backgroundType:"contour",links:{github:"https://github.com/fredericbahr/ea-flow-shop"}},{title:"weatherData",url:"/xml-weather-visualization",backgroundType:"none",links:{github:"https://github.com/fredericbahr/dbs_weatherdata"}},null],CustomTab=React$1.forwardRef((t,e)=>{const s=useTab({...t,ref:e}),n=!!s["aria-selected"],i=useMultiStyleConfig("Tabs",s),a=useColorModeValue("gray.300","gray.400");return jsxRuntimeExports.jsx(Button$1,{__css:i.tab,...s,textTransform:"uppercase",paddingX:3,paddingY:1,minWidth:16,borderBottom:"2px solid",borderColor:n?"brand.300":a,pointerEvents:"none",fontSize:"sm",children:jsxRuntimeExports.jsx(Text,{as:"span",visibility:n?"visible":"hidden",children:s.children})})}),ProjectTabs=({children:t})=>{const{t:e}=useTranslation();return jsxRuntimeExports.jsxs(Tabs,{defaultIndex:1,children:[jsxRuntimeExports.jsxs(TabList,{border:"none",gap:4,children:[jsxRuntimeExports.jsx(CustomTab,{}),jsxRuntimeExports.jsx(CustomTab,{children:e("projects.tab")}),jsxRuntimeExports.jsx(CustomTab,{}),jsxRuntimeExports.jsx(CustomTab,{})]}),jsxRuntimeExports.jsxs(TabPanels,{children:[jsxRuntimeExports.jsx(TabPanel,{children:t&&t[0]}),jsxRuntimeExports.jsx(TabPanel,{children:t&&t[1]}),jsxRuntimeExports.jsx(TabPanel,{children:t&&t[2]}),jsxRuntimeExports.jsx(TabPanel,{children:t&&t[3]})]})]})},ProjectTile=({title:t,url:e,backgroundType:s="none",links:n,...i})=>{const a=useNavigate(),{t:u}=useTranslation(),[$]=useMediaQuery("(max-width: 62em)"),[h,f]=useToken("colors",["gray.200","gray.700"]).map(N=>N.replace("#","%23").toLowerCase()),c=useColorModeValue("white","gray.800"),S=useColorModeValue("gray.300","gray.600"),E=useColorModeValue("gray.100","gray.700"),d=useColorModeValue(h,f),T=useColorModeValue("blackAlpha.800","whiteAlpha.800"),B=()=>s==="none"?{backgroundColor:c}:s==="lines"?{backgroundImage:`repeating-linear-gradient(-45deg, ${E} 0, ${E} 1.5px, transparent 0, transparent 50%);`,backgroundSize:"12px 12px",backgroundColor:c}:s==="contour"?{backgroundImage:`url(
                "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.dev/svgjs' width='500' height='400' preserveAspectRatio='none' viewBox='0 0 500 400'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1104%26quot%3b)' fill='none'%3e%3cuse xlink:href='%23SvgjsPath1105' x='30' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='30' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='30' y='150' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='30' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1105' x='30' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='30' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='30' y='390' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='90' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1108' x='90' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='90' y='150' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='90' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='90' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='90' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1108' x='90' y='390' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1105' x='150' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1108' x='150' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1109' x='150' y='150' stroke='${d}' stroke-width='3'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1105' x='150' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1108' x='150' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='150' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='150' y='390' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='210' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='210' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1105' x='210' y='150' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1105' x='210' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='210' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='210' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='210' y='390' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1108' x='270' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1108' x='270' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1109' x='270' y='150' stroke='${d}' stroke-width='3'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='270' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='270' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='270' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='270' y='390' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1109' x='330' y='30' stroke='${d}' stroke-width='3'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='330' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='330' y='150' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='330' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='330' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='330' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='330' y='390' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='390' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='390' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='390' y='150' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1109' x='390' y='210' stroke='${d}' stroke-width='3'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='390' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='390' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1109' x='390' y='390' stroke='${d}' stroke-width='3'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='450' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='450' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='450' y='150' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='450' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='450' y='270' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='450' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='450' y='390' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1105' x='510' y='30' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='510' y='90' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1110' x='510' y='150' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='510' y='210' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1109' x='510' y='270' stroke='${d}' stroke-width='3'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1106' x='510' y='330' stroke='${d}'%3e%3c/use%3e%3cuse xlink:href='%23SvgjsPath1107' x='510' y='390' stroke='${d}'%3e%3c/use%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1104'%3e%3crect width='500' height='400' fill='white'%3e%3c/rect%3e%3c/mask%3e%3cpath d='M-1 0 a1 1 0 1 0 2 0 a1 1 0 1 0 -2 0z' id='SvgjsPath1105'%3e%3c/path%3e%3cpath d='M-3 0 a3 3 0 1 0 6 0 a3 3 0 1 0 -6 0z' id='SvgjsPath1110'%3e%3c/path%3e%3cpath d='M-5 0 a5 5 0 1 0 10 0 a5 5 0 1 0 -10 0z' id='SvgjsPath1107'%3e%3c/path%3e%3cpath d='M2 -2 L-2 2z' id='SvgjsPath1108'%3e%3c/path%3e%3cpath d='M6 -6 L-6 6z' id='SvgjsPath1106'%3e%3c/path%3e%3cpath d='M30 -30 L-30 30z' id='SvgjsPath1109'%3e%3c/path%3e%3c/defs%3e%3c/svg%3e"
            )`,backgroundColor:c}:{},_=()=>{a(e||"/")},j=(N,G)=>{N.stopPropagation(),window.open(G,"_blank")};return jsxRuntimeExports.jsx(GridItem,{className:"project-tile",border:"2px solid",borderColor:S,paddingX:6,paddingY:1,display:"flex",justifyContent:{base:"start",lg:"center"},alignItems:"center",minHeight:"2xs",minWidth:"3xs",transitionProperty:"border-color, transform",transitionDuration:"normal",transitionTimingFunction:"ease-in-out",style:{counterIncrement:t&&"projects 1"},sx:{"&:has(+ .project-tile)":{borderLeft:$?"2px solid":"none",borderBottom:$?"none":"2px solid",borderColor:S},"&:has(+ .project-tile-placeholder)":{borderLeft:"none"},"&:nth-child(n+5):not(:hover)":{borderTop:"none"},"&:nth-child(1):not(:hover)":{borderLeft:"2px solid",borderColor:S},"&:nth-child(6):not(:hover)":{borderLeft:"2px solid",borderColor:S},"& .project-tile-placeholder":{marginRight:"-2px"},"&:nth-child(4):not(:hover)":{borderLeft:$?"2px solid":"none",borderColor:S},"&:nth-child(7):not(:hover)":{borderTop:$?"2px solid":"none",borderLeft:$?"2px solid":"none",borderColor:S},"&:hover":{border:"2px solid",borderColor:"brand.500"},"&:hover .project-counter:before":{color:"brand.500"},"&:hover .project-links":{display:"flex"}},_hover:{border:"all",borderColor:"brand.500",borderWidth:4,transform:"scale(1.05)",cursor:"pointer",zIndex:1},...B(),onClick:_,...i,children:jsxRuntimeExports.jsxs(VStack,{spacing:3,width:"full",children:[t&&jsxRuntimeExports.jsxs(VStack,{spacing:0,width:"full",alignItems:"start",children:[jsxRuntimeExports.jsx(Text,{as:"span",className:"project-counter",alignSelf:"start",_before:{content:"'0' counter(projects) '.'",color:"gray.500",fontSize:"sm",display:"block"}}),jsxRuntimeExports.jsx(Heading$1,{as:"h3",color:T,fontSize:{base:"2xl",lg:"3xl"},wordBreak:"break-word",children:t})]}),jsxRuntimeExports.jsxs(HStack,{className:"project-links",display:{base:"block",lg:"none"},justifyContent:"start",width:{base:"full",lg:"auto"},children:[(n==null?void 0:n.website)&&jsxRuntimeExports.jsx(Tooltip,{label:u("projects.website"),hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(IconButton,{icon:jsxRuntimeExports.jsx(Icon,{as:I$3}),"aria-label":"website",variant:"ghost",colorScheme:"gray",onClick:N=>j(N,n.website||"/")})}),(n==null?void 0:n.github)&&jsxRuntimeExports.jsx(Tooltip,{label:u("projects.github"),hasArrow:!0,openDelay:300,children:jsxRuntimeExports.jsx(IconButton,{icon:jsxRuntimeExports.jsx(Icon,{as:l}),"aria-label":"github",variant:"ghost",colorScheme:"gray",onClick:N=>j(N,n.github||"/")})})]})]})})},Projects=()=>{const{t}=useTranslation(),[e]=useMediaQuery("(max-width: 62em)");return jsxRuntimeExports.jsxs(VStack,{width:"full",alignItems:"start",spacing:4,style:{counterReset:"projects 0"},children:[jsxRuntimeExports.jsx(Heading,{id:"projects",children:t("projects.title")}),jsxRuntimeExports.jsx(Flex,{width:"full",justifyContent:"center",children:jsxRuntimeExports.jsx(ProjectTabs,{})}),jsxRuntimeExports.jsx(Grid,{width:"full",gridTemplateColumns:{base:"1fr",lg:"repeat(4, 1fr)"},gridTemplateRows:{base:"repeat(6, 1fr)",lg:"repeat(2, 1fr)"},children:projects.map((s,n)=>jsxRuntimeExports.jsx(Box,{className:`project-tile-wrapper-${n}`,display:e&&!s?"none":"block",children:s?jsxRuntimeExports.jsx(ProjectTile,{title:t(`projects.projectTitles.${s.title}`),backgroundType:s.backgroundType,links:s.links,url:s.url},`project-tile-${s.title}-${n}`):jsxRuntimeExports.jsx(Box,{className:"project-tile-placeholder",display:{base:"none",lg:"block"}},`project-tile-placeholder-${n}`)},`project-tile-wrapper-${n}`))})]})};function App(){const{colorScheme:t}=useColorScheme(),[e,s]=reactExports.useState(!0);return reactExports.useEffect(()=>{setTimeout(()=>{s(!1)},2800)},[]),jsxRuntimeExports.jsx(ChakraProvider,{theme:t,children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:e?jsxRuntimeExports.jsx(Flex,{justifyContent:"center",alignItems:"center",height:"100vh",children:jsxRuntimeExports.jsx(AnimatedLogo,{height:"30vh"})}):jsxRuntimeExports.jsxs(Layout,{children:[jsxRuntimeExports.jsx(Hero,{}),jsxRuntimeExports.jsx(About,{}),jsxRuntimeExports.jsx(Experience,{}),jsxRuntimeExports.jsx(Projects,{})]})}),jsxRuntimeExports.jsx(Route,{path:"/kirmize",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Kirmize,{})})}),jsxRuntimeExports.jsx(Route,{path:"/personal-portfolio",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Portfolio,{})})}),jsxRuntimeExports.jsx(Route,{path:"/quatsch-chatbot-2022",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(QuatschChatbot,{})})}),jsxRuntimeExports.jsx(Route,{path:"/multimedia-database-veterinary-practice",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(MMDB,{})})}),jsxRuntimeExports.jsx(Route,{path:"/ea-flow-shop-optimizer",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(EAFlowShop,{})})}),jsxRuntimeExports.jsx(Route,{path:"/xml-weather-visualization",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(WeatherData,{})})}),jsxRuntimeExports.jsx(Route,{path:"contact",element:jsxRuntimeExports.jsx(Layout,{children:jsxRuntimeExports.jsx(Contact,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/"})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsxs(React$1.StrictMode,{children:[jsxRuntimeExports.jsx(ColorModeScript,{initialColorMode:"dark"}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(ColorSchemeProvider,{children:jsxRuntimeExports.jsx(App,{})})})]}));
